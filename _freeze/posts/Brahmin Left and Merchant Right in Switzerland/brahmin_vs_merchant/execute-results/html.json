{
  "hash": "420112dd7d9b955eeb5904c619d218d0",
  "result": {
    "markdown": "---\ntitle: \"Brahmin Left and Merchant Right in Switzerland\"\nauthor: \"Celâl Güney\"\nformat: html\neditor: visual\ndate: \"2 July 2023\"\ncategories: [Political Economy, Statistics]\nexecute: \n  freeze: true\ndraft: true\n---\n\n::: {.cell}\n\n:::\n\n\nModel:\n\n$P(support = left) = Logit^{-1}(\\beta_{0} + \\beta_{1}D_{I} + \\beta_{2}Educ + \\epsilon)$\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#creating dummy for support/identification for left party (PSS) and udc\n\nvox$pss <- if_else(vox$p02 == 12, 1, \n               if_else(is.na(vox$p02), NA, 0))\n\nvox$udc <- if_else(vox$p02 == 13, 1, \n               if_else(is.na(vox$p02), NA, 0))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# descriptive statistics\n\n# dependent variable: support for the left (pss)\n\nvox %>% \n  group_by(annee) %>% \n  count(pss) %>% \n  drop_na() %>% \n  mutate(prop = n/sum(n),\n         n_sample = sum(n)) %>% \n  ungroup() %>% \n  filter(pss == 1) %>% \n  mutate(se = sqrt(prop*(1-prop)/n),\n         lower = prop - qnorm(.975)*se,\n         upper = prop + qnorm(.975)*se) -> table_support_pss\n\nvox %>% \n  group_by(annee) %>% \n  count(udc) %>% \n  drop_na() %>% \n  mutate(prop = n/sum(n),\n         n_sample = sum(n)) %>% \n  ungroup() %>% \n  filter(udc == 1) %>% \n  mutate(se = sqrt(prop*(1-prop)/n),\n         lower = prop - qnorm(.975)*se,\n         upper = prop + qnorm(.975)*se) -> table_support_udc\n\n\ntable_support_pss %>% \n  ggplot()+\n  aes(x = factor(annee), y = prop, label = scales::percent(round(prop, 4)))+ \n  geom_col(fill = \"darkred\", alpha = 0.8)+\n  scale_y_continuous(labels = scales::percent_format(accuracy = 1), expand = c(0, 0))+\n  geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.3, position = position_dodge(width = .9))+\n  geom_label(position = position_dodge(width = 1),    # move to center of bars\n             vjust = 3,    # nudge above top of bar\n             size = 4)+\n  theme_minimal()+\n  theme(axis.text.x = element_text(angle = 50, vjust = 1, hjust=1, size = 14))+\n  xlab(\"\")+\n  ylab(\"\")+\n  labs(title = \"Support for the Swiss Social Democratic Party\",\n       subtitle = \"Switzerland, 1981-2016\",\n       caption = \"Data source: Enquêtes standardisées VoxIt\n       Kriesi, Brunner, Lorétan (2017)\")\n```\n\n::: {.cell-output-display}\n![](brahmin_vs_merchant_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntable_support_udc %>% \n  ggplot()+\n  aes(x = factor(annee), y = prop, label = scales::percent(round(prop, 4)))+ \n  geom_col(fill = \"darkred\", alpha = 0.8)+\n  scale_y_continuous(labels = scales::percent_format(accuracy = 1), expand = c(0, 0))+\n  geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.3, position = position_dodge(width = .9))+\n  geom_label(position = position_dodge(width = 1),    # move to center of bars\n             vjust = 3,    # nudge above top of bar\n             size = 4)+\n  theme_minimal()+\n  theme(axis.text.x = element_text(angle = 50, vjust = 1, hjust=1, size = 14))+\n  xlab(\"\")+\n  ylab(\"\")+\n  labs(title = \"Support for the Swiss People's Party\",\n       subtitle = \"Switzerland, 1981-2016\",\n       caption = \"Data source: Enquêtes standardisées VoxIt\n       Kriesi, Brunner, Lorétan (2017)\")\n```\n\n::: {.cell-output-display}\n![](brahmin_vs_merchant_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n## independent variables: income group and education\n\nvox %>% \n  count(educ) %>% \n  mutate(prop = n/sum(n)) %>% \n  mutate(label = as_character(educ)) %>% \n  gt(caption = \"Education level\")\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"vczwiivchr\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#vczwiivchr .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#vczwiivchr .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vczwiivchr .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#vczwiivchr .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#vczwiivchr .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#vczwiivchr .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vczwiivchr .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vczwiivchr .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#vczwiivchr .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#vczwiivchr .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#vczwiivchr .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#vczwiivchr .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#vczwiivchr .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#vczwiivchr .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vczwiivchr .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#vczwiivchr .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#vczwiivchr .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#vczwiivchr .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vczwiivchr .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#vczwiivchr .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#vczwiivchr .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vczwiivchr .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#vczwiivchr .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#vczwiivchr .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vczwiivchr .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vczwiivchr .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#vczwiivchr .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#vczwiivchr .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vczwiivchr .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vczwiivchr .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vczwiivchr .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vczwiivchr .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vczwiivchr .gt_left {\n  text-align: left;\n}\n\n#vczwiivchr .gt_center {\n  text-align: center;\n}\n\n#vczwiivchr .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#vczwiivchr .gt_font_normal {\n  font-weight: normal;\n}\n\n#vczwiivchr .gt_font_bold {\n  font-weight: bold;\n}\n\n#vczwiivchr .gt_font_italic {\n  font-style: italic;\n}\n\n#vczwiivchr .gt_super {\n  font-size: 65%;\n}\n\n#vczwiivchr .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#vczwiivchr .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#vczwiivchr .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#vczwiivchr .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#vczwiivchr .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#vczwiivchr .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#vczwiivchr .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  <caption>Education level</caption>\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"educ\">educ</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"n\">n</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"prop\">prop</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"label\">label</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"educ\" class=\"gt_row gt_center\"> 1</td>\n<td headers=\"n\" class=\"gt_row gt_right\">44007</td>\n<td headers=\"prop\" class=\"gt_row gt_right\">0.137437265</td>\n<td headers=\"label\" class=\"gt_row gt_left\">Ecole obligatoire</td></tr>\n    <tr><td headers=\"educ\" class=\"gt_row gt_center\"> 2</td>\n<td headers=\"n\" class=\"gt_row gt_right\">147792</td>\n<td headers=\"prop\" class=\"gt_row gt_right\">0.461565849</td>\n<td headers=\"label\" class=\"gt_row gt_left\">Apprentissage</td></tr>\n    <tr><td headers=\"educ\" class=\"gt_row gt_center\"> 3</td>\n<td headers=\"n\" class=\"gt_row gt_right\">29759</td>\n<td headers=\"prop\" class=\"gt_row gt_right\">0.092939659</td>\n<td headers=\"label\" class=\"gt_row gt_left\">Maturité + école normale</td></tr>\n    <tr><td headers=\"educ\" class=\"gt_row gt_center\"> 4</td>\n<td headers=\"n\" class=\"gt_row gt_right\">31534</td>\n<td headers=\"prop\" class=\"gt_row gt_right\">0.098483121</td>\n<td headers=\"label\" class=\"gt_row gt_left\">Formation prof. supérieure</td></tr>\n    <tr><td headers=\"educ\" class=\"gt_row gt_center\"> 5</td>\n<td headers=\"n\" class=\"gt_row gt_right\">16599</td>\n<td headers=\"prop\" class=\"gt_row gt_right\">0.051839961</td>\n<td headers=\"label\" class=\"gt_row gt_left\">Haute école spécialisée</td></tr>\n    <tr><td headers=\"educ\" class=\"gt_row gt_center\"> 6</td>\n<td headers=\"n\" class=\"gt_row gt_right\">47681</td>\n<td headers=\"prop\" class=\"gt_row gt_right\">0.148911451</td>\n<td headers=\"label\" class=\"gt_row gt_left\">Université + Polytechnique</td></tr>\n    <tr><td headers=\"educ\" class=\"gt_row gt_center\">NA</td>\n<td headers=\"n\" class=\"gt_row gt_right\">2825</td>\n<td headers=\"prop\" class=\"gt_row gt_right\">0.008822694</td>\n<td headers=\"label\" class=\"gt_row gt_left\">NA</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n\n```{.r .cell-code}\nvox %>% \n  filter(annee %in% c(1981:1993)) %>% \n  count(nivmena) %>% \n  mutate(prop = n/sum(n)) %>% \n  mutate(label = as_character(nivmena)) %>% \n  gt(caption = \"Houshold income: 1981-1993\")\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"vzfhgppepk\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#vzfhgppepk .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#vzfhgppepk .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vzfhgppepk .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#vzfhgppepk .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#vzfhgppepk .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#vzfhgppepk .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vzfhgppepk .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vzfhgppepk .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#vzfhgppepk .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#vzfhgppepk .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#vzfhgppepk .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#vzfhgppepk .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#vzfhgppepk .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#vzfhgppepk .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vzfhgppepk .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#vzfhgppepk .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#vzfhgppepk .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#vzfhgppepk .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vzfhgppepk .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#vzfhgppepk .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#vzfhgppepk .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vzfhgppepk .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#vzfhgppepk .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#vzfhgppepk .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vzfhgppepk .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vzfhgppepk .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#vzfhgppepk .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#vzfhgppepk .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vzfhgppepk .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vzfhgppepk .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vzfhgppepk .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vzfhgppepk .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vzfhgppepk .gt_left {\n  text-align: left;\n}\n\n#vzfhgppepk .gt_center {\n  text-align: center;\n}\n\n#vzfhgppepk .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#vzfhgppepk .gt_font_normal {\n  font-weight: normal;\n}\n\n#vzfhgppepk .gt_font_bold {\n  font-weight: bold;\n}\n\n#vzfhgppepk .gt_font_italic {\n  font-style: italic;\n}\n\n#vzfhgppepk .gt_super {\n  font-size: 65%;\n}\n\n#vzfhgppepk .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#vzfhgppepk .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#vzfhgppepk .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#vzfhgppepk .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#vzfhgppepk .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#vzfhgppepk .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#vzfhgppepk .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  <caption>Houshold income: 1981-1993</caption>\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"nivmena\">nivmena</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"n\">n</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"prop\">prop</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"label\">label</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"nivmena\" class=\"gt_row gt_center\"> 1</td>\n<td headers=\"n\" class=\"gt_row gt_right\">5515</td>\n<td headers=\"prop\" class=\"gt_row gt_right\">0.06560556</td>\n<td headers=\"label\" class=\"gt_row gt_left\">Elevé</td></tr>\n    <tr><td headers=\"nivmena\" class=\"gt_row gt_center\"> 2</td>\n<td headers=\"n\" class=\"gt_row gt_right\">19126</td>\n<td headers=\"prop\" class=\"gt_row gt_right\">0.22751984</td>\n<td headers=\"label\" class=\"gt_row gt_left\">Moyen supérieur</td></tr>\n    <tr><td headers=\"nivmena\" class=\"gt_row gt_center\"> 3</td>\n<td headers=\"n\" class=\"gt_row gt_right\">35285</td>\n<td headers=\"prop\" class=\"gt_row gt_right\">0.41974472</td>\n<td headers=\"label\" class=\"gt_row gt_left\">Moyen inférieur</td></tr>\n    <tr><td headers=\"nivmena\" class=\"gt_row gt_center\"> 4</td>\n<td headers=\"n\" class=\"gt_row gt_right\">9292</td>\n<td headers=\"prop\" class=\"gt_row gt_right\">0.11053615</td>\n<td headers=\"label\" class=\"gt_row gt_left\">Bas</td></tr>\n    <tr><td headers=\"nivmena\" class=\"gt_row gt_center\">NA</td>\n<td headers=\"n\" class=\"gt_row gt_right\">14845</td>\n<td headers=\"prop\" class=\"gt_row gt_right\">0.17659375</td>\n<td headers=\"label\" class=\"gt_row gt_left\">NA</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n\n```{.r .cell-code}\nvox %>% \n  filter(annee %in% c(1993:2016)) %>% \n  count(revenu) %>% \n  mutate(prop = n/sum(n)) %>% \n  mutate(label = as_character(revenu)) %>% \n  gt(caption = \"Revenue: 1993:2016\")\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"hamumwvhen\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#hamumwvhen .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#hamumwvhen .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#hamumwvhen .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#hamumwvhen .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#hamumwvhen .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#hamumwvhen .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hamumwvhen .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#hamumwvhen .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#hamumwvhen .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#hamumwvhen .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#hamumwvhen .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#hamumwvhen .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#hamumwvhen .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#hamumwvhen .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#hamumwvhen .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#hamumwvhen .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#hamumwvhen .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#hamumwvhen .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hamumwvhen .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#hamumwvhen .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#hamumwvhen .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hamumwvhen .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#hamumwvhen .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#hamumwvhen .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hamumwvhen .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hamumwvhen .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#hamumwvhen .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#hamumwvhen .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hamumwvhen .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#hamumwvhen .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hamumwvhen .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#hamumwvhen .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hamumwvhen .gt_left {\n  text-align: left;\n}\n\n#hamumwvhen .gt_center {\n  text-align: center;\n}\n\n#hamumwvhen .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#hamumwvhen .gt_font_normal {\n  font-weight: normal;\n}\n\n#hamumwvhen .gt_font_bold {\n  font-weight: bold;\n}\n\n#hamumwvhen .gt_font_italic {\n  font-style: italic;\n}\n\n#hamumwvhen .gt_super {\n  font-size: 65%;\n}\n\n#hamumwvhen .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#hamumwvhen .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#hamumwvhen .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#hamumwvhen .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#hamumwvhen .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#hamumwvhen .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#hamumwvhen .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  <caption>Revenue: 1993:2016</caption>\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"revenu\">revenu</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"n\">n</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"prop\">prop</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"label\">label</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"revenu\" class=\"gt_row gt_center\"> 1</td>\n<td headers=\"n\" class=\"gt_row gt_right\">23419</td>\n<td headers=\"prop\" class=\"gt_row gt_right\">0.09283823</td>\n<td headers=\"label\" class=\"gt_row gt_left\">3'000.- CHF et moins</td></tr>\n    <tr><td headers=\"revenu\" class=\"gt_row gt_center\"> 2</td>\n<td headers=\"n\" class=\"gt_row gt_right\">51879</td>\n<td headers=\"prop\" class=\"gt_row gt_right\">0.20566012</td>\n<td headers=\"label\" class=\"gt_row gt_left\">de 3'001 à 5'000.- CHF</td></tr>\n    <tr><td headers=\"revenu\" class=\"gt_row gt_center\"> 3</td>\n<td headers=\"n\" class=\"gt_row gt_right\">53038</td>\n<td headers=\"prop\" class=\"gt_row gt_right\">0.21025466</td>\n<td headers=\"label\" class=\"gt_row gt_left\">de 5'001 à 7'000.- CHF</td></tr>\n    <tr><td headers=\"revenu\" class=\"gt_row gt_center\"> 4</td>\n<td headers=\"n\" class=\"gt_row gt_right\">34683</td>\n<td headers=\"prop\" class=\"gt_row gt_right\">0.13749128</td>\n<td headers=\"label\" class=\"gt_row gt_left\">de 7'001 à 9'000.- CHF</td></tr>\n    <tr><td headers=\"revenu\" class=\"gt_row gt_center\"> 5</td>\n<td headers=\"n\" class=\"gt_row gt_right\">35171</td>\n<td headers=\"prop\" class=\"gt_row gt_right\">0.13942582</td>\n<td headers=\"label\" class=\"gt_row gt_left\">9'001.- CHF et plus</td></tr>\n    <tr><td headers=\"revenu\" class=\"gt_row gt_center\"> 8</td>\n<td headers=\"n\" class=\"gt_row gt_right\">13940</td>\n<td headers=\"prop\" class=\"gt_row gt_right\">0.05526132</td>\n<td headers=\"label\" class=\"gt_row gt_left\">nsp</td></tr>\n    <tr><td headers=\"revenu\" class=\"gt_row gt_center\">NA</td>\n<td headers=\"n\" class=\"gt_row gt_right\">40126</td>\n<td headers=\"prop\" class=\"gt_row gt_right\">0.15906857</td>\n<td headers=\"label\" class=\"gt_row gt_left\">NA</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nThe dataset contains two variables related to income: nivmena and revenu. Nivmena is the income/standard of living variable for the years 1981-1993, then the variable changes to revenue (1993-2016). Nivmena is coded as household standard of living == either \"low\" (4), \"lower middle\" (2), \"upper middle\" (3) and \"high\" 4 whereas revenue refers directly to income group level with 4 income groups. My decision is to create a new variable from these two variables. The categories will be based on the first variable (low-lower middle-upper middle - high). To do so, an important choice has to be made regarding the two groups from variable revenu that will be merged together. I choose to merge income group 3 (5001-7000CHF) and 4 (7001-9000CHF) into the \"upper-middle\" category.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvox$income <- ifelse(is.na(vox$revenu) & vox$nivmena  == 4, 1,\n                     ifelse(is.na(vox$revenu) & vox$nivmena  == 3, 2,\n                            ifelse(is.na(vox$revenu) & vox$nivmena  == 2, 3,\n                                   ifelse(is.na(vox$revenu) & vox$nivmena  == 1, 4,\n                                          ifelse(is.na(vox$nivmena) & vox$revenu == 1, 1,\n                                                 ifelse(is.na(vox$nivmena) & vox$revenu == 2, 2,\n                                                        ifelse(is.na(vox$nivmena) & vox$revenu %in% c(3,4), 3,\n                                                               ifelse(is.na(vox$nivmena) & vox$revenu == 5, 4, NA))))))))\n\nvox$income <- set_labels(vox$income, labels = c(\"low\" = 1, \"lower middle\" = 2, \"upper middle\" = 3, \"high\" = 4, \"NA\" = NA))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# recoding other variables\n\nvox$gender <- ifelse(vox$sexe == 1, 0,\n                 ifelse(vox$sexe == 2, 1,\n                        ifelse(is.na(vox$sexe), NA, NA)))\n\nvox$urb <- ifelse(vox$vilcamp == 1, 1,\n                  ifelse(vox$vilcamp == 2, 0,\n                         ifelse(is.na(vox$vilcamp), NA, NA)))\n\nvox$d_inc_high <- ifelse(vox$income == 4, 1,\n                         ifelse(is.na(vox$income), NA, 0))\n```\n:::\n\n\n\n\n\nNow that we have coded ou dependent and independent variables, we can start running regressions\n\n\nLet's start with the most basic regression possible. Ignoring income, I just regress a binary logit model with education and income pooling all years together:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "supporting": [
      "brahmin_vs_merchant_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}