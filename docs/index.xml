<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Celâl Güney</title>
<link>https://jeylal.github.io/celalguney/</link>
<atom:link href="https://jeylal.github.io/celalguney/index.xml" rel="self" type="application/rss+xml"/>
<description></description>
<generator>quarto-1.5.56</generator>
<lastBuildDate>Tue, 07 May 2024 22:00:00 GMT</lastBuildDate>
<item>
  <title>Economic stagnation in Switzerland: discussion of a growing debate</title>
  <dc:creator>Celâl Güney</dc:creator>
  <link>https://jeylal.github.io/celalguney/posts/growth debate switzerland/growth debate switzerland.html</link>
  <description><![CDATA[ 





<p>In the last years, recurring debates are emerging in Switzerland regarding the future of the country’s socio-economic model, showing a rising concern of the Swiss elites for their country’s economic performance. One of the most growing debates is about economic growth: does Switzerland, as in other Western countries, suffer from economic slow-down, or even stagnation ? This was suggested by an article published in 2022 in the renown Swiss-German newspaper <em>Neue Zürcher Zeitung</em>. This article, written by Thomas Fuster and entitled <em>“Immigration: The Swiss economy is primarily growing extensively”</em> argued that the Swiss economy is solely growing “extensively”, that is, only thanks to demographic growth and hence immigration. While economic growth, measured by the famous gross domestic product (GDP) indicator, is still growing due to immigration, gdp per capita growth remains near-stagnant because of the decline in productivity growth. This article provoked heated reactions among the neoliberal think thank <em>Avenir Suisse</em> and the business interest association <em>EconomieSuisse</em>, which responded through a series of articles offering an overview and a discussion of the performance of the Swiss economy in the last decades. Both EconomieSuisse and Avenir Suisse were eager to prove that Switzerland’s economy is resilient, that intensive growth based on productivity gains is still a fact, and that the country still holds its privileged position as the so-called Swiss miracle.</p>
<p><a href="https://www.economiesuisse.ch/fr/articles/la-croissance-de-la-suisse-est-elle-avant-tout-quantitative">EconomieSuisse’s argument and empirical evidence</a> <span class="citation" data-cites="minsch_croissance_2023">(Minsch 2023)</span> are first based on a graph showing the evolution of Switzerland’s real gdp per capita growth in international comparison. The graph shows that Swiss gdp per capita is well advanced compared to other Western countries such as the US, Germany or France, and continues to grow despite its advanced level. However there are several issues with EconomieSuisse’s figure. First, the choice of the countries which are compared to Switzerland biases the advance of the Swiss real gdp per capita. Second, the choice of the time interval (from 1970-2022) also overstates the advance of the Swiss economy. Using data offering a longer time frame (going back to 1950) and including other countries, one can arrive at totally different conclusions from what is shown by EconomieSuisse.</p>
<div class="cell">
<div id="fig-gdpcap" class="cell-output-display quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-gdpcap-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="plotly html-widget html-fill-item" id="htmlwidget-392cbab86077167fdeb7" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-392cbab86077167fdeb7">{"x":{"data":[{"x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[9.2658258344352333,9.3480768470854319,9.4241270923612959,9.4961264005723152,9.5567460227586789,9.6570295697535116,9.7236317931634311,9.7729954394759737,9.7995904433543028,9.8608827092684361,9.9297663260201343,9.9649954406286199,10.000973880992289,10.019486887232254,10.074108485732856,10.115810879789759,10.135044130884999,10.128249785078733,10.177639909774882,10.241143609593911,10.287835348128091,10.311528846093813,10.342329201637092,10.379524873647942,10.382280817630711,10.372725494968519,10.420773337454015,10.451528810434997,10.477740253452087,10.51320164185357,10.519953029041709,10.515329298935573,10.504878083268707,10.516290506636983,10.540668847029789,10.558740562895505,10.573257548575715,10.57819100338021,10.602715298928876,10.622125407638078,10.650253632042807,10.556219835388164,10.567974540433976,10.549249945796783,10.572752960186341,10.586195331667385,10.591091605813338,10.606749896898197,10.624705669304969,10.640103154736956,10.663780701106294,10.673083399935352,10.669851862495763,10.661827554195233,10.67093166150358,10.674521866110044,10.708179162386033,10.737536317137256,10.745105773549954,10.685444512822983,10.717988554789878,10.741128240030884,10.742519017369229,10.743195355460731,10.76216723708843,10.77435164643917,10.793686365597454,10.816997373258724,10.82376896902554,10.831509731104781,10.791944207634319,10.817553345067429,10.836176436778157,null,9.7331562979036121,9.7687032095827853,9.8162754208511682,9.8390205115104603,9.8103995922719616,9.8798247947132438,9.9371729210125714,9.9439898527596071,9.9419944244268876,9.9645699283907252,9.9797827099838763,10.028673064357596,10.086832539613273,10.122363124972003,10.164987285711804,10.206494480983576,10.248496568375955,10.254969819332446,10.277701486715969,10.303955371635746,10.296520031469639,10.30513827177052,10.339898012508337,10.386163895787931,10.400075786961533,10.389881504813657,10.415927186087286,10.422417306946276,10.441358862145309,10.455599165880017,10.455151493889153,10.46845878302649,10.4154597237653,10.41745326306534,10.455015066970194,10.486414134678997,10.491261803472305,10.515011693814413,10.550870697826479,10.556546758180003,10.539779409790135,10.504450058557456,10.498165195021139,10.507605912434796,10.543363829264223,10.559001768003471,10.563294748711961,10.591789584296711,10.620873352403185,10.663430813403224,10.701611416349666,10.70358004779624,10.71754686801107,10.722874383907518,10.740413235241014,10.75702456316937,10.771882982931775,10.779223248003539,10.77255973380902,10.729687131958897,10.747318858503332,10.756789565442014,10.760254356358152,10.769582816664167,10.785794228641578,10.781499056400744,10.779581831697948,10.796011099229844,10.808623037357057,10.812056876920821,10.745541399947726,10.779758174544574,10.803077277751996,null,9.6687715416165023,9.6692243754473193,9.6728097209291395,9.7222929604787964,9.7357110319789815,9.740099574937183,9.7453815482159971,9.8118236310449678,9.8272289979985015,9.8917628055373594,9.9119246796678713,9.9657029836383515,10.010464015846978,10.006114201583806,10.083590086619278,10.114988579925736,10.134802316376978,10.186633519901612,10.231042559292957,10.295492713954706,10.308502746114595,10.327857093835217,10.366733556627951,10.404472454841622,10.358356109731952,10.346609263393885,10.402379103693711,10.418734306686389,10.447402661641167,10.471063842857774,10.452960645374711,10.433457919593007,10.458135524137397,10.482878802132641,10.518548173001047,10.55378751210508,10.60505192394395,10.598295950010877,10.588773892486929,10.595611499771364,10.61082826417522,10.619635456712537,10.642520103863781,10.636288018541853,10.676795219987211,10.700912774339812,10.728233924596704,10.757168689963533,10.772696356074873,10.796542561740223,10.83284323504312,10.838287522698215,10.84669495852663,10.8533184050443,10.881816711039415,10.912184608467252,10.945741627706816,10.949584914963348,10.951392504934255,10.891070890279822,10.911929881138953,10.906415011060572,10.902293494774458,10.906371345751454,10.918689920270204,10.933190168041923,10.956790214181986,10.976584292302979,10.988744990845769,10.996337085041951,10.968921285000883,11.009728890858728,11.077063687112553,null,null,null,null,null,null,null,null,null,null,null,10.12799525697023,10.143028536123518,10.190845678773,10.22179521480531,10.263225342170543,10.313549419342012,10.36524729727684,10.380541780293752,10.409208270414151,10.423669239524141,10.406523186969887,10.414788187466451,10.445212256668565,10.481962679874306,10.459183003124089,10.438191987602126,10.472847330377352,10.499688440589004,10.534485805271551,10.546390448831277,10.52313027379183,10.5311795599614,10.497232153083415,10.526582152101003,10.581689248660144,10.606890319334273,10.626913591568876,10.64955020029957,10.680350545882797,10.706926248367969,10.712898279357381,10.697933170172407,10.718993391273996,10.733872036903689,10.762372816054881,10.777528882044665,10.803483777059329,10.834698923977369,10.866834332535905,10.90105952263427,10.92898399980292,10.927643087720558,10.932837517346828,10.948583702689593,10.974677582809862,10.996918333683007,11.012615469342492,11.02114796334474,11.01128640851708,10.972674082345364,10.988504327955509,10.997154985532145,11.007032822354581,11.020680244765011,11.033143167208502,11.060112262035645,11.064216954974764,11.080113736845112,11.099817893996674,11.113678661568786,11.07751692252908,11.131111239235,11.144398863916855,null,9.2851108303517265,9.3324531938982371,9.3555790115685369,9.383371060340485,9.4334253295738133,9.4791831286981747,9.5211981045885405,9.5676188287643935,9.5868768806899336,9.6056548765779493,9.678934445765222,9.7217014923382745,9.7835364320314167,9.8231292600709494,9.879276793085884,9.9193836868659044,9.9651652714158558,10.001205889491954,10.032801644837694,10.08844649503553,10.131261984750617,10.173066207516674,10.205569462878399,10.258184579185475,10.293151063740414,10.271947649941726,10.30661727241351,10.332172022680151,10.360451711195925,10.385381946225962,10.391869314575182,10.392119234731673,10.405986977512157,10.40882144330291,10.414083952032243,10.420022466245308,10.432977918216917,10.447204367535546,10.483503147963555,10.514987692293094,10.530966077597165,10.531590217298126,10.536050147509428,10.519195952260505,10.532612550632743,10.545601923200545,10.550685065020181,10.567376397060038,10.595014000418129,10.622027407902772,10.650160258201787,10.659033086801976,10.658733637036125,10.658368772222659,10.675578848307063,10.686208013315717,10.703360928788259,10.718223615100664,10.710170925889766,10.675786964413197,10.685261132942262,10.688925313039508,10.679607256971238,10.68054628559023,10.685690846935758,10.692684952639793,10.699796909676227,10.718859947649987,10.733740171826978,10.748146905121029,10.663437910618748,10.725849865933931,10.747551609813742,null,9.131872486119569,9.1905640635336585,9.2514685628135602,9.306387525603121,9.3423669429242953,9.3881694778065459,9.4234645122112397,9.4729497986966447,9.5160372392094708,9.566469405933173,9.6102478718161262,9.6778935826470978,9.7288387229430047,9.7728788617972207,9.792359436200206,9.8194498099101803,9.8739460063456974,9.9325210469247462,9.9881251781558795,10.039226954463,10.082596270352498,10.093176937600113,10.122465656407352,10.184974575232141,10.232507511213152,10.205459237920193,10.268222766049377,10.287328433241594,10.312766721192641,10.364213110786393,10.390681367760125,10.391691063970956,10.387430677134484,10.391449634142102,10.415023649856002,10.43255328939088,10.451456215276728,10.473001865173751,10.504429245493295,10.528641469869987,10.540268289388504,10.546838459718469,10.540181589024336,10.524287431974118,10.53854733464822,10.560128373749137,10.567498230348544,10.580595878064441,10.592468737373858,10.605388950375675,10.638441647223733,10.653317445196778,10.652281941056067,10.644047663600169,10.65069432749516,10.65241886568287,10.668193902488524,10.678422170919315,10.659615769327214,10.598484960369444,10.612568252686181,10.610350628669407,10.575868895311576,10.548820319851837,10.545781391914916,10.553739319694413,10.56702284952074,10.583818760736536,10.593162446680974,10.598138644154712,10.504731727027478,10.571802935194876,10.608881168456838,null,9.3092288873490379,9.3548379703672868,9.3823117163083083,9.4150378273293978,9.4589110095035984,9.4751013313054422,9.5225542758010455,9.5482506740853825,9.5433493971689991,9.5797169317774138,9.6294646606173604,9.6872984317647663,9.7043083303856008,9.7420128952433469,9.7730069985101018,9.8190263338542341,9.8512847235947678,9.8851723382924916,9.9052991156643433,9.9503181074487088,9.9881222791951032,10.036230624517566,10.063080271853888,10.10954653416653,10.156598564327302,10.170309336715498,10.205516909955866,10.229044266728037,10.24063502541973,10.284194719836746,10.340930059992298,10.342158487248291,10.328453020039911,10.34574853239836,10.395576312478237,10.436520947155588,10.392030305924404,10.385391247423673,10.355296383922418,10.367302100116728,10.376974598260801,10.38823583994917,10.385246225981584,10.405553670605146,10.43232261444226,10.47285085302156,10.546216261202872,10.59516900694412,10.586925018517487,10.642544641403335,10.78121359442674,10.783937301529001,10.763235039432811,10.770672729910549,10.856852786483952,10.944497828989077,11.020369180870397,11.060081885859779,11.112851340859834,11.005831210977245,11.032281667772416,11.077969799671774,11.08820352706133,11.083328629820981,11.088677631708832,11.095259194487101,11.094703981164894,11.10747126680255,11.109037979261167,11.106152926547409,11.089140424989568,11.119372852005238,11.282541482381024,null,9.6119137906080745,9.6152555488999081,9.6228276071382162,9.695952231575907,9.7519054909825993,9.8123767041844072,9.8367314757718951,9.8534936241331632,9.8395991560217393,9.8729639563805751,9.942592821525988,9.9733858406763538,10.002191775146251,10.030281031945593,10.120110249215315,10.171638698352762,10.185140865985526,10.223158883896719,10.271181476416166,10.383895765882045,10.438916801518598,10.475737450076394,10.497197700034787,10.540765730842891,10.590031685883121,10.554581433956322,10.583939354218668,10.582759232031586,10.606434188706759,10.617200395187538,10.611406713172764,10.584268222028987,10.545191145836167,10.539147824131039,10.546128539389811,10.543864108519777,10.558678835725969,10.559350875626246,10.580340571330575,10.613854092804294,10.632878194110111,10.635880534876939,10.628782377992756,10.625321395425406,10.639202966852723,10.666232292722295,10.693645593196226,10.731664489799767,10.771289388754935,10.812610895938258,10.846172944281403,10.862823490243816,10.858744338217548,10.85538303322191,10.869799528584906,10.887310696879286,10.917547200860982,10.950709982505382,10.965238888957186,10.919069152569511,10.926237342049854,10.93505604938399,10.916861986956638,10.908906509794564,10.912082762524681,10.923678031665265,10.936982505474704,10.961655792614533,10.977607465106868,10.989345723795836,10.938808051906785,10.997064806665422,11.061325836771358,null,9.4217480950650625,9.3872007603655874,9.4203793036147339,9.5004118525174661,9.5376047532553407,9.5516906771655314,9.5591592103703213,9.5859597476155951,9.5952233606631037,9.634431546222773,9.6642388631546545,9.7048360815119104,9.7396788151230425,9.7677031151398861,9.7720546422708203,9.7880634573905265,9.8183073325002361,9.8436833322233301,9.8439804910164916,9.8658977403405963,9.860040767306355,9.8700378366982928,9.9033704606811437,9.9299433220465296,9.9308946239887561,9.8186619885521083,9.9136109575200155,9.9464862738667055,9.9940365339845965,9.9931900020066227,9.9650982245158612,10.016989807600458,10.034399255518167,10.075701254987408,10.106272033288315,10.111730194680984,10.154473890890308,10.16849703839554,10.197618117446934,10.223471247208764,10.232581252440495,10.245344249042931,10.25827843424373,10.265509417679887,10.301184103391236,10.332197705688928,10.346009739957276,10.38373614125746,10.427222123161132,10.469028631213035,10.495394226864892,10.526928085502984,10.54114411858767,10.565282792191894,10.587361196466018,10.603530691227105,10.609816984178957,10.629944893100834,10.64747451916427,10.639752903784935,10.571027780749478,10.583356301128099,10.587607762314756,10.602959313208325,10.615634601993422,10.631683735115407,10.645966450599024,10.663176992284061,10.67362544740306,10.68327763762473,10.56123840445291,10.629792260887951,10.665046821961443,null,9.3173382474285482,9.3741672941784167,9.388388234534494,9.4096135349809735,9.4612935616849576,9.4648059701021623,9.5062768974988927,9.5250656702099814,9.5484720951732704,9.5942430596601493,9.6369377589496636,9.6900552812274814,9.7200322553012892,9.7556581255922286,9.8212162834632952,9.8485411145903434,9.8699094709521482,9.9121172146604319,9.9443574147107086,9.982646158737877,10.00693475497703,10.009323945946173,10.038558657944318,10.069912106394044,10.080760863351564,10.148765371543449,10.176297782816036,10.136913114345196,10.169034627254232,10.185657136603867,10.175411892737726,10.173479879983031,10.168603312780306,10.18920516545016,10.221061715129473,10.246884252486444,10.298830076389692,10.323433226022937,10.348607145089817,10.377988656090281,10.365591023169884,10.353014999573494,10.333078823401351,10.292975150650117,10.327240559619195,10.379460029589669,10.407862239680581,10.434095435743817,10.492075693392792,10.530348683252608,10.577655511708185,10.587943649807787,10.59952967869452,10.623029720214552,10.661278706485861,10.68271913370082,10.720990123435168,10.739111738523478,10.746233358024231,10.695487002741412,10.730105746397802,10.748852496042533,10.757195209075098,10.779860114650679,10.817622815054381,10.871399260904187,10.880260748358062,10.900764509907777,10.915053810886915,10.933634751844364,10.903085470179999,10.944227685063783,10.962303225317473,null,10.121289796431519,10.187632806562835,10.183247511498131,10.205293234350234,10.248090909673294,10.30158835727117,10.354996555679032,10.383818601181673,10.352228844377075,10.402932829102786,10.460694845231183,10.523832575303249,10.551225475341177,10.580280930660589,10.614400905872669,10.631666673558218,10.642188124086221,10.656060771015373,10.674208008075105,10.712714011515352,10.764003318106512,10.821755969501286,10.850144905909042,10.854610706158617,10.8619744875532,10.833979060398734,10.832452934596661,10.846411122812933,10.844824951389173,10.841787794356428,10.841351676310342,10.845447050651519,10.863197165220619,10.851515785349672,10.873478460432956,10.912941397278772,10.934748411100694,10.94276656347318,10.959340824297392,10.970901369121846,10.982192222996705,10.97073712258346,10.947055391954052,10.951951428032112,10.95023669851907,10.948142232259645,10.946048046600003,10.961151746719827,10.977819617819748,10.973965758417771,11.009951782207592,11.019268533783654,10.99838939098985,10.992676525903974,11.000503122126537,11.01756974284479,11.062749115265824,11.089640067495088,11.121055084371683,11.079842912894499,11.098121737375342,11.109207319034674,11.110223823967095,11.114504818774575,11.128597766469264,11.132290619978168,11.141143245782787,11.144821773844981,11.165101325420421,11.16873410159968,11.136769242925705,11.171602857093706,11.199515514826041],"text":["year: 1950<br />log(value):  9.265826<br />country: Allemagne","year: 1951<br />log(value):  9.348077<br />country: Allemagne","year: 1952<br />log(value):  9.424127<br />country: Allemagne","year: 1953<br />log(value):  9.496126<br />country: Allemagne","year: 1954<br />log(value):  9.556746<br />country: Allemagne","year: 1955<br />log(value):  9.657030<br />country: Allemagne","year: 1956<br />log(value):  9.723632<br />country: Allemagne","year: 1957<br />log(value):  9.772995<br />country: Allemagne","year: 1958<br />log(value):  9.799590<br />country: Allemagne","year: 1959<br />log(value):  9.860883<br />country: Allemagne","year: 1960<br />log(value):  9.929766<br />country: Allemagne","year: 1961<br />log(value):  9.964995<br />country: Allemagne","year: 1962<br />log(value): 10.000974<br />country: Allemagne","year: 1963<br />log(value): 10.019487<br />country: Allemagne","year: 1964<br />log(value): 10.074108<br />country: Allemagne","year: 1965<br />log(value): 10.115811<br />country: Allemagne","year: 1966<br />log(value): 10.135044<br />country: Allemagne","year: 1967<br />log(value): 10.128250<br />country: Allemagne","year: 1968<br />log(value): 10.177640<br />country: Allemagne","year: 1969<br />log(value): 10.241144<br />country: Allemagne","year: 1970<br />log(value): 10.287835<br />country: Allemagne","year: 1971<br />log(value): 10.311529<br />country: Allemagne","year: 1972<br />log(value): 10.342329<br />country: Allemagne","year: 1973<br />log(value): 10.379525<br />country: Allemagne","year: 1974<br />log(value): 10.382281<br />country: Allemagne","year: 1975<br />log(value): 10.372725<br />country: Allemagne","year: 1976<br />log(value): 10.420773<br />country: Allemagne","year: 1977<br />log(value): 10.451529<br />country: Allemagne","year: 1978<br />log(value): 10.477740<br />country: Allemagne","year: 1979<br />log(value): 10.513202<br />country: Allemagne","year: 1980<br />log(value): 10.519953<br />country: Allemagne","year: 1981<br />log(value): 10.515329<br />country: Allemagne","year: 1982<br />log(value): 10.504878<br />country: Allemagne","year: 1983<br />log(value): 10.516291<br />country: Allemagne","year: 1984<br />log(value): 10.540669<br />country: Allemagne","year: 1985<br />log(value): 10.558741<br />country: Allemagne","year: 1986<br />log(value): 10.573258<br />country: Allemagne","year: 1987<br />log(value): 10.578191<br />country: Allemagne","year: 1988<br />log(value): 10.602715<br />country: Allemagne","year: 1989<br />log(value): 10.622125<br />country: Allemagne","year: 1990<br />log(value): 10.650254<br />country: Allemagne","year: 1991<br />log(value): 10.556220<br />country: Allemagne","year: 1992<br />log(value): 10.567975<br />country: Allemagne","year: 1993<br />log(value): 10.549250<br />country: Allemagne","year: 1994<br />log(value): 10.572753<br />country: Allemagne","year: 1995<br />log(value): 10.586195<br />country: Allemagne","year: 1996<br />log(value): 10.591092<br />country: Allemagne","year: 1997<br />log(value): 10.606750<br />country: Allemagne","year: 1998<br />log(value): 10.624706<br />country: Allemagne","year: 1999<br />log(value): 10.640103<br />country: Allemagne","year: 2000<br />log(value): 10.663781<br />country: Allemagne","year: 2001<br />log(value): 10.673083<br />country: Allemagne","year: 2002<br />log(value): 10.669852<br />country: Allemagne","year: 2003<br />log(value): 10.661828<br />country: Allemagne","year: 2004<br />log(value): 10.670932<br />country: Allemagne","year: 2005<br />log(value): 10.674522<br />country: Allemagne","year: 2006<br />log(value): 10.708179<br />country: Allemagne","year: 2007<br />log(value): 10.737536<br />country: Allemagne","year: 2008<br />log(value): 10.745106<br />country: Allemagne","year: 2009<br />log(value): 10.685445<br />country: Allemagne","year: 2010<br />log(value): 10.717989<br />country: Allemagne","year: 2011<br />log(value): 10.741128<br />country: Allemagne","year: 2012<br />log(value): 10.742519<br />country: Allemagne","year: 2013<br />log(value): 10.743195<br />country: Allemagne","year: 2014<br />log(value): 10.762167<br />country: Allemagne","year: 2015<br />log(value): 10.774352<br />country: Allemagne","year: 2016<br />log(value): 10.793686<br />country: Allemagne","year: 2017<br />log(value): 10.816997<br />country: Allemagne","year: 2018<br />log(value): 10.823769<br />country: Allemagne","year: 2019<br />log(value): 10.831510<br />country: Allemagne","year: 2020<br />log(value): 10.791944<br />country: Allemagne","year: 2021<br />log(value): 10.817553<br />country: Allemagne","year: 2022<br />log(value): 10.836176<br />country: Allemagne",null,"year: 1950<br />log(value):  9.733156<br />country: Canada","year: 1951<br />log(value):  9.768703<br />country: Canada","year: 1952<br />log(value):  9.816275<br />country: Canada","year: 1953<br />log(value):  9.839021<br />country: Canada","year: 1954<br />log(value):  9.810400<br />country: Canada","year: 1955<br />log(value):  9.879825<br />country: Canada","year: 1956<br />log(value):  9.937173<br />country: Canada","year: 1957<br />log(value):  9.943990<br />country: Canada","year: 1958<br />log(value):  9.941994<br />country: Canada","year: 1959<br />log(value):  9.964570<br />country: Canada","year: 1960<br />log(value):  9.979783<br />country: Canada","year: 1961<br />log(value): 10.028673<br />country: Canada","year: 1962<br />log(value): 10.086833<br />country: Canada","year: 1963<br />log(value): 10.122363<br />country: Canada","year: 1964<br />log(value): 10.164987<br />country: Canada","year: 1965<br />log(value): 10.206494<br />country: Canada","year: 1966<br />log(value): 10.248497<br />country: Canada","year: 1967<br />log(value): 10.254970<br />country: Canada","year: 1968<br />log(value): 10.277701<br />country: Canada","year: 1969<br />log(value): 10.303955<br />country: Canada","year: 1970<br />log(value): 10.296520<br />country: Canada","year: 1971<br />log(value): 10.305138<br />country: Canada","year: 1972<br />log(value): 10.339898<br />country: Canada","year: 1973<br />log(value): 10.386164<br />country: Canada","year: 1974<br />log(value): 10.400076<br />country: Canada","year: 1975<br />log(value): 10.389882<br />country: Canada","year: 1976<br />log(value): 10.415927<br />country: Canada","year: 1977<br />log(value): 10.422417<br />country: Canada","year: 1978<br />log(value): 10.441359<br />country: Canada","year: 1979<br />log(value): 10.455599<br />country: Canada","year: 1980<br />log(value): 10.455151<br />country: Canada","year: 1981<br />log(value): 10.468459<br />country: Canada","year: 1982<br />log(value): 10.415460<br />country: Canada","year: 1983<br />log(value): 10.417453<br />country: Canada","year: 1984<br />log(value): 10.455015<br />country: Canada","year: 1985<br />log(value): 10.486414<br />country: Canada","year: 1986<br />log(value): 10.491262<br />country: Canada","year: 1987<br />log(value): 10.515012<br />country: Canada","year: 1988<br />log(value): 10.550871<br />country: Canada","year: 1989<br />log(value): 10.556547<br />country: Canada","year: 1990<br />log(value): 10.539779<br />country: Canada","year: 1991<br />log(value): 10.504450<br />country: Canada","year: 1992<br />log(value): 10.498165<br />country: Canada","year: 1993<br />log(value): 10.507606<br />country: Canada","year: 1994<br />log(value): 10.543364<br />country: Canada","year: 1995<br />log(value): 10.559002<br />country: Canada","year: 1996<br />log(value): 10.563295<br />country: Canada","year: 1997<br />log(value): 10.591790<br />country: Canada","year: 1998<br />log(value): 10.620873<br />country: Canada","year: 1999<br />log(value): 10.663431<br />country: Canada","year: 2000<br />log(value): 10.701611<br />country: Canada","year: 2001<br />log(value): 10.703580<br />country: Canada","year: 2002<br />log(value): 10.717547<br />country: Canada","year: 2003<br />log(value): 10.722874<br />country: Canada","year: 2004<br />log(value): 10.740413<br />country: Canada","year: 2005<br />log(value): 10.757025<br />country: Canada","year: 2006<br />log(value): 10.771883<br />country: Canada","year: 2007<br />log(value): 10.779223<br />country: Canada","year: 2008<br />log(value): 10.772560<br />country: Canada","year: 2009<br />log(value): 10.729687<br />country: Canada","year: 2010<br />log(value): 10.747319<br />country: Canada","year: 2011<br />log(value): 10.756790<br />country: Canada","year: 2012<br />log(value): 10.760254<br />country: Canada","year: 2013<br />log(value): 10.769583<br />country: Canada","year: 2014<br />log(value): 10.785794<br />country: Canada","year: 2015<br />log(value): 10.781499<br />country: Canada","year: 2016<br />log(value): 10.779582<br />country: Canada","year: 2017<br />log(value): 10.796011<br />country: Canada","year: 2018<br />log(value): 10.808623<br />country: Canada","year: 2019<br />log(value): 10.812057<br />country: Canada","year: 2020<br />log(value): 10.745541<br />country: Canada","year: 2021<br />log(value): 10.779758<br />country: Canada","year: 2022<br />log(value): 10.803077<br />country: Canada",null,"year: 1950<br />log(value):  9.668772<br />country: Danemark","year: 1951<br />log(value):  9.669224<br />country: Danemark","year: 1952<br />log(value):  9.672810<br />country: Danemark","year: 1953<br />log(value):  9.722293<br />country: Danemark","year: 1954<br />log(value):  9.735711<br />country: Danemark","year: 1955<br />log(value):  9.740100<br />country: Danemark","year: 1956<br />log(value):  9.745382<br />country: Danemark","year: 1957<br />log(value):  9.811824<br />country: Danemark","year: 1958<br />log(value):  9.827229<br />country: Danemark","year: 1959<br />log(value):  9.891763<br />country: Danemark","year: 1960<br />log(value):  9.911925<br />country: Danemark","year: 1961<br />log(value):  9.965703<br />country: Danemark","year: 1962<br />log(value): 10.010464<br />country: Danemark","year: 1963<br />log(value): 10.006114<br />country: Danemark","year: 1964<br />log(value): 10.083590<br />country: Danemark","year: 1965<br />log(value): 10.114989<br />country: Danemark","year: 1966<br />log(value): 10.134802<br />country: Danemark","year: 1967<br />log(value): 10.186634<br />country: Danemark","year: 1968<br />log(value): 10.231043<br />country: Danemark","year: 1969<br />log(value): 10.295493<br />country: Danemark","year: 1970<br />log(value): 10.308503<br />country: Danemark","year: 1971<br />log(value): 10.327857<br />country: Danemark","year: 1972<br />log(value): 10.366734<br />country: Danemark","year: 1973<br />log(value): 10.404472<br />country: Danemark","year: 1974<br />log(value): 10.358356<br />country: Danemark","year: 1975<br />log(value): 10.346609<br />country: Danemark","year: 1976<br />log(value): 10.402379<br />country: Danemark","year: 1977<br />log(value): 10.418734<br />country: Danemark","year: 1978<br />log(value): 10.447403<br />country: Danemark","year: 1979<br />log(value): 10.471064<br />country: Danemark","year: 1980<br />log(value): 10.452961<br />country: Danemark","year: 1981<br />log(value): 10.433458<br />country: Danemark","year: 1982<br />log(value): 10.458136<br />country: Danemark","year: 1983<br />log(value): 10.482879<br />country: Danemark","year: 1984<br />log(value): 10.518548<br />country: Danemark","year: 1985<br />log(value): 10.553788<br />country: Danemark","year: 1986<br />log(value): 10.605052<br />country: Danemark","year: 1987<br />log(value): 10.598296<br />country: Danemark","year: 1988<br />log(value): 10.588774<br />country: Danemark","year: 1989<br />log(value): 10.595611<br />country: Danemark","year: 1990<br />log(value): 10.610828<br />country: Danemark","year: 1991<br />log(value): 10.619635<br />country: Danemark","year: 1992<br />log(value): 10.642520<br />country: Danemark","year: 1993<br />log(value): 10.636288<br />country: Danemark","year: 1994<br />log(value): 10.676795<br />country: Danemark","year: 1995<br />log(value): 10.700913<br />country: Danemark","year: 1996<br />log(value): 10.728234<br />country: Danemark","year: 1997<br />log(value): 10.757169<br />country: Danemark","year: 1998<br />log(value): 10.772696<br />country: Danemark","year: 1999<br />log(value): 10.796543<br />country: Danemark","year: 2000<br />log(value): 10.832843<br />country: Danemark","year: 2001<br />log(value): 10.838288<br />country: Danemark","year: 2002<br />log(value): 10.846695<br />country: Danemark","year: 2003<br />log(value): 10.853318<br />country: Danemark","year: 2004<br />log(value): 10.881817<br />country: Danemark","year: 2005<br />log(value): 10.912185<br />country: Danemark","year: 2006<br />log(value): 10.945742<br />country: Danemark","year: 2007<br />log(value): 10.949585<br />country: Danemark","year: 2008<br />log(value): 10.951393<br />country: Danemark","year: 2009<br />log(value): 10.891071<br />country: Danemark","year: 2010<br />log(value): 10.911930<br />country: Danemark","year: 2011<br />log(value): 10.906415<br />country: Danemark","year: 2012<br />log(value): 10.902293<br />country: Danemark","year: 2013<br />log(value): 10.906371<br />country: Danemark","year: 2014<br />log(value): 10.918690<br />country: Danemark","year: 2015<br />log(value): 10.933190<br />country: Danemark","year: 2016<br />log(value): 10.956790<br />country: Danemark","year: 2017<br />log(value): 10.976584<br />country: Danemark","year: 2018<br />log(value): 10.988745<br />country: Danemark","year: 2019<br />log(value): 10.996337<br />country: Danemark","year: 2020<br />log(value): 10.968921<br />country: Danemark","year: 2021<br />log(value): 11.009729<br />country: Danemark","year: 2022<br />log(value): 11.077064<br />country: Danemark",null,"year: 1950<br />log(value):        NA<br />country: États-Unis","year: 1951<br />log(value):        NA<br />country: États-Unis","year: 1952<br />log(value):        NA<br />country: États-Unis","year: 1953<br />log(value):        NA<br />country: États-Unis","year: 1954<br />log(value):        NA<br />country: États-Unis","year: 1955<br />log(value):        NA<br />country: États-Unis","year: 1956<br />log(value):        NA<br />country: États-Unis","year: 1957<br />log(value):        NA<br />country: États-Unis","year: 1958<br />log(value):        NA<br />country: États-Unis","year: 1959<br />log(value):        NA<br />country: États-Unis","year: 1960<br />log(value): 10.127995<br />country: États-Unis","year: 1961<br />log(value): 10.143029<br />country: États-Unis","year: 1962<br />log(value): 10.190846<br />country: États-Unis","year: 1963<br />log(value): 10.221795<br />country: États-Unis","year: 1964<br />log(value): 10.263225<br />country: États-Unis","year: 1965<br />log(value): 10.313549<br />country: États-Unis","year: 1966<br />log(value): 10.365247<br />country: États-Unis","year: 1967<br />log(value): 10.380542<br />country: États-Unis","year: 1968<br />log(value): 10.409208<br />country: États-Unis","year: 1969<br />log(value): 10.423669<br />country: États-Unis","year: 1970<br />log(value): 10.406523<br />country: États-Unis","year: 1971<br />log(value): 10.414788<br />country: États-Unis","year: 1972<br />log(value): 10.445212<br />country: États-Unis","year: 1973<br />log(value): 10.481963<br />country: États-Unis","year: 1974<br />log(value): 10.459183<br />country: États-Unis","year: 1975<br />log(value): 10.438192<br />country: États-Unis","year: 1976<br />log(value): 10.472847<br />country: États-Unis","year: 1977<br />log(value): 10.499688<br />country: États-Unis","year: 1978<br />log(value): 10.534486<br />country: États-Unis","year: 1979<br />log(value): 10.546390<br />country: États-Unis","year: 1980<br />log(value): 10.523130<br />country: États-Unis","year: 1981<br />log(value): 10.531180<br />country: États-Unis","year: 1982<br />log(value): 10.497232<br />country: États-Unis","year: 1983<br />log(value): 10.526582<br />country: États-Unis","year: 1984<br />log(value): 10.581689<br />country: États-Unis","year: 1985<br />log(value): 10.606890<br />country: États-Unis","year: 1986<br />log(value): 10.626914<br />country: États-Unis","year: 1987<br />log(value): 10.649550<br />country: États-Unis","year: 1988<br />log(value): 10.680351<br />country: États-Unis","year: 1989<br />log(value): 10.706926<br />country: États-Unis","year: 1990<br />log(value): 10.712898<br />country: États-Unis","year: 1991<br />log(value): 10.697933<br />country: États-Unis","year: 1992<br />log(value): 10.718993<br />country: États-Unis","year: 1993<br />log(value): 10.733872<br />country: États-Unis","year: 1994<br />log(value): 10.762373<br />country: États-Unis","year: 1995<br />log(value): 10.777529<br />country: États-Unis","year: 1996<br />log(value): 10.803484<br />country: États-Unis","year: 1997<br />log(value): 10.834699<br />country: États-Unis","year: 1998<br />log(value): 10.866834<br />country: États-Unis","year: 1999<br />log(value): 10.901060<br />country: États-Unis","year: 2000<br />log(value): 10.928984<br />country: États-Unis","year: 2001<br />log(value): 10.927643<br />country: États-Unis","year: 2002<br />log(value): 10.932838<br />country: États-Unis","year: 2003<br />log(value): 10.948584<br />country: États-Unis","year: 2004<br />log(value): 10.974678<br />country: États-Unis","year: 2005<br />log(value): 10.996918<br />country: États-Unis","year: 2006<br />log(value): 11.012615<br />country: États-Unis","year: 2007<br />log(value): 11.021148<br />country: États-Unis","year: 2008<br />log(value): 11.011286<br />country: États-Unis","year: 2009<br />log(value): 10.972674<br />country: États-Unis","year: 2010<br />log(value): 10.988504<br />country: États-Unis","year: 2011<br />log(value): 10.997155<br />country: États-Unis","year: 2012<br />log(value): 11.007033<br />country: États-Unis","year: 2013<br />log(value): 11.020680<br />country: États-Unis","year: 2014<br />log(value): 11.033143<br />country: États-Unis","year: 2015<br />log(value): 11.060112<br />country: États-Unis","year: 2016<br />log(value): 11.064217<br />country: États-Unis","year: 2017<br />log(value): 11.080114<br />country: États-Unis","year: 2018<br />log(value): 11.099818<br />country: États-Unis","year: 2019<br />log(value): 11.113679<br />country: États-Unis","year: 2020<br />log(value): 11.077517<br />country: États-Unis","year: 2021<br />log(value): 11.131111<br />country: États-Unis","year: 2022<br />log(value): 11.144399<br />country: États-Unis",null,"year: 1950<br />log(value):  9.285111<br />country: France","year: 1951<br />log(value):  9.332453<br />country: France","year: 1952<br />log(value):  9.355579<br />country: France","year: 1953<br />log(value):  9.383371<br />country: France","year: 1954<br />log(value):  9.433425<br />country: France","year: 1955<br />log(value):  9.479183<br />country: France","year: 1956<br />log(value):  9.521198<br />country: France","year: 1957<br />log(value):  9.567619<br />country: France","year: 1958<br />log(value):  9.586877<br />country: France","year: 1959<br />log(value):  9.605655<br />country: France","year: 1960<br />log(value):  9.678934<br />country: France","year: 1961<br />log(value):  9.721701<br />country: France","year: 1962<br />log(value):  9.783536<br />country: France","year: 1963<br />log(value):  9.823129<br />country: France","year: 1964<br />log(value):  9.879277<br />country: France","year: 1965<br />log(value):  9.919384<br />country: France","year: 1966<br />log(value):  9.965165<br />country: France","year: 1967<br />log(value): 10.001206<br />country: France","year: 1968<br />log(value): 10.032802<br />country: France","year: 1969<br />log(value): 10.088446<br />country: France","year: 1970<br />log(value): 10.131262<br />country: France","year: 1971<br />log(value): 10.173066<br />country: France","year: 1972<br />log(value): 10.205569<br />country: France","year: 1973<br />log(value): 10.258185<br />country: France","year: 1974<br />log(value): 10.293151<br />country: France","year: 1975<br />log(value): 10.271948<br />country: France","year: 1976<br />log(value): 10.306617<br />country: France","year: 1977<br />log(value): 10.332172<br />country: France","year: 1978<br />log(value): 10.360452<br />country: France","year: 1979<br />log(value): 10.385382<br />country: France","year: 1980<br />log(value): 10.391869<br />country: France","year: 1981<br />log(value): 10.392119<br />country: France","year: 1982<br />log(value): 10.405987<br />country: France","year: 1983<br />log(value): 10.408821<br />country: France","year: 1984<br />log(value): 10.414084<br />country: France","year: 1985<br />log(value): 10.420022<br />country: France","year: 1986<br />log(value): 10.432978<br />country: France","year: 1987<br />log(value): 10.447204<br />country: France","year: 1988<br />log(value): 10.483503<br />country: France","year: 1989<br />log(value): 10.514988<br />country: France","year: 1990<br />log(value): 10.530966<br />country: France","year: 1991<br />log(value): 10.531590<br />country: France","year: 1992<br />log(value): 10.536050<br />country: France","year: 1993<br />log(value): 10.519196<br />country: France","year: 1994<br />log(value): 10.532613<br />country: France","year: 1995<br />log(value): 10.545602<br />country: France","year: 1996<br />log(value): 10.550685<br />country: France","year: 1997<br />log(value): 10.567376<br />country: France","year: 1998<br />log(value): 10.595014<br />country: France","year: 1999<br />log(value): 10.622027<br />country: France","year: 2000<br />log(value): 10.650160<br />country: France","year: 2001<br />log(value): 10.659033<br />country: France","year: 2002<br />log(value): 10.658734<br />country: France","year: 2003<br />log(value): 10.658369<br />country: France","year: 2004<br />log(value): 10.675579<br />country: France","year: 2005<br />log(value): 10.686208<br />country: France","year: 2006<br />log(value): 10.703361<br />country: France","year: 2007<br />log(value): 10.718224<br />country: France","year: 2008<br />log(value): 10.710171<br />country: France","year: 2009<br />log(value): 10.675787<br />country: France","year: 2010<br />log(value): 10.685261<br />country: France","year: 2011<br />log(value): 10.688925<br />country: France","year: 2012<br />log(value): 10.679607<br />country: France","year: 2013<br />log(value): 10.680546<br />country: France","year: 2014<br />log(value): 10.685691<br />country: France","year: 2015<br />log(value): 10.692685<br />country: France","year: 2016<br />log(value): 10.699797<br />country: France","year: 2017<br />log(value): 10.718860<br />country: France","year: 2018<br />log(value): 10.733740<br />country: France","year: 2019<br />log(value): 10.748147<br />country: France","year: 2020<br />log(value): 10.663438<br />country: France","year: 2021<br />log(value): 10.725850<br />country: France","year: 2022<br />log(value): 10.747552<br />country: France",null,"year: 1950<br />log(value):  9.131872<br />country: Italie","year: 1951<br />log(value):  9.190564<br />country: Italie","year: 1952<br />log(value):  9.251469<br />country: Italie","year: 1953<br />log(value):  9.306388<br />country: Italie","year: 1954<br />log(value):  9.342367<br />country: Italie","year: 1955<br />log(value):  9.388169<br />country: Italie","year: 1956<br />log(value):  9.423465<br />country: Italie","year: 1957<br />log(value):  9.472950<br />country: Italie","year: 1958<br />log(value):  9.516037<br />country: Italie","year: 1959<br />log(value):  9.566469<br />country: Italie","year: 1960<br />log(value):  9.610248<br />country: Italie","year: 1961<br />log(value):  9.677894<br />country: Italie","year: 1962<br />log(value):  9.728839<br />country: Italie","year: 1963<br />log(value):  9.772879<br />country: Italie","year: 1964<br />log(value):  9.792359<br />country: Italie","year: 1965<br />log(value):  9.819450<br />country: Italie","year: 1966<br />log(value):  9.873946<br />country: Italie","year: 1967<br />log(value):  9.932521<br />country: Italie","year: 1968<br />log(value):  9.988125<br />country: Italie","year: 1969<br />log(value): 10.039227<br />country: Italie","year: 1970<br />log(value): 10.082596<br />country: Italie","year: 1971<br />log(value): 10.093177<br />country: Italie","year: 1972<br />log(value): 10.122466<br />country: Italie","year: 1973<br />log(value): 10.184975<br />country: Italie","year: 1974<br />log(value): 10.232508<br />country: Italie","year: 1975<br />log(value): 10.205459<br />country: Italie","year: 1976<br />log(value): 10.268223<br />country: Italie","year: 1977<br />log(value): 10.287328<br />country: Italie","year: 1978<br />log(value): 10.312767<br />country: Italie","year: 1979<br />log(value): 10.364213<br />country: Italie","year: 1980<br />log(value): 10.390681<br />country: Italie","year: 1981<br />log(value): 10.391691<br />country: Italie","year: 1982<br />log(value): 10.387431<br />country: Italie","year: 1983<br />log(value): 10.391450<br />country: Italie","year: 1984<br />log(value): 10.415024<br />country: Italie","year: 1985<br />log(value): 10.432553<br />country: Italie","year: 1986<br />log(value): 10.451456<br />country: Italie","year: 1987<br />log(value): 10.473002<br />country: Italie","year: 1988<br />log(value): 10.504429<br />country: Italie","year: 1989<br />log(value): 10.528641<br />country: Italie","year: 1990<br />log(value): 10.540268<br />country: Italie","year: 1991<br />log(value): 10.546838<br />country: Italie","year: 1992<br />log(value): 10.540182<br />country: Italie","year: 1993<br />log(value): 10.524287<br />country: Italie","year: 1994<br />log(value): 10.538547<br />country: Italie","year: 1995<br />log(value): 10.560128<br />country: Italie","year: 1996<br />log(value): 10.567498<br />country: Italie","year: 1997<br />log(value): 10.580596<br />country: Italie","year: 1998<br />log(value): 10.592469<br />country: Italie","year: 1999<br />log(value): 10.605389<br />country: Italie","year: 2000<br />log(value): 10.638442<br />country: Italie","year: 2001<br />log(value): 10.653317<br />country: Italie","year: 2002<br />log(value): 10.652282<br />country: Italie","year: 2003<br />log(value): 10.644048<br />country: Italie","year: 2004<br />log(value): 10.650694<br />country: Italie","year: 2005<br />log(value): 10.652419<br />country: Italie","year: 2006<br />log(value): 10.668194<br />country: Italie","year: 2007<br />log(value): 10.678422<br />country: Italie","year: 2008<br />log(value): 10.659616<br />country: Italie","year: 2009<br />log(value): 10.598485<br />country: Italie","year: 2010<br />log(value): 10.612568<br />country: Italie","year: 2011<br />log(value): 10.610351<br />country: Italie","year: 2012<br />log(value): 10.575869<br />country: Italie","year: 2013<br />log(value): 10.548820<br />country: Italie","year: 2014<br />log(value): 10.545781<br />country: Italie","year: 2015<br />log(value): 10.553739<br />country: Italie","year: 2016<br />log(value): 10.567023<br />country: Italie","year: 2017<br />log(value): 10.583819<br />country: Italie","year: 2018<br />log(value): 10.593162<br />country: Italie","year: 2019<br />log(value): 10.598139<br />country: Italie","year: 2020<br />log(value): 10.504732<br />country: Italie","year: 2021<br />log(value): 10.571803<br />country: Italie","year: 2022<br />log(value): 10.608881<br />country: Italie",null,"year: 1950<br />log(value):  9.309229<br />country: Norvège","year: 1951<br />log(value):  9.354838<br />country: Norvège","year: 1952<br />log(value):  9.382312<br />country: Norvège","year: 1953<br />log(value):  9.415038<br />country: Norvège","year: 1954<br />log(value):  9.458911<br />country: Norvège","year: 1955<br />log(value):  9.475101<br />country: Norvège","year: 1956<br />log(value):  9.522554<br />country: Norvège","year: 1957<br />log(value):  9.548251<br />country: Norvège","year: 1958<br />log(value):  9.543349<br />country: Norvège","year: 1959<br />log(value):  9.579717<br />country: Norvège","year: 1960<br />log(value):  9.629465<br />country: Norvège","year: 1961<br />log(value):  9.687298<br />country: Norvège","year: 1962<br />log(value):  9.704308<br />country: Norvège","year: 1963<br />log(value):  9.742013<br />country: Norvège","year: 1964<br />log(value):  9.773007<br />country: Norvège","year: 1965<br />log(value):  9.819026<br />country: Norvège","year: 1966<br />log(value):  9.851285<br />country: Norvège","year: 1967<br />log(value):  9.885172<br />country: Norvège","year: 1968<br />log(value):  9.905299<br />country: Norvège","year: 1969<br />log(value):  9.950318<br />country: Norvège","year: 1970<br />log(value):  9.988122<br />country: Norvège","year: 1971<br />log(value): 10.036231<br />country: Norvège","year: 1972<br />log(value): 10.063080<br />country: Norvège","year: 1973<br />log(value): 10.109547<br />country: Norvège","year: 1974<br />log(value): 10.156599<br />country: Norvège","year: 1975<br />log(value): 10.170309<br />country: Norvège","year: 1976<br />log(value): 10.205517<br />country: Norvège","year: 1977<br />log(value): 10.229044<br />country: Norvège","year: 1978<br />log(value): 10.240635<br />country: Norvège","year: 1979<br />log(value): 10.284195<br />country: Norvège","year: 1980<br />log(value): 10.340930<br />country: Norvège","year: 1981<br />log(value): 10.342158<br />country: Norvège","year: 1982<br />log(value): 10.328453<br />country: Norvège","year: 1983<br />log(value): 10.345749<br />country: Norvège","year: 1984<br />log(value): 10.395576<br />country: Norvège","year: 1985<br />log(value): 10.436521<br />country: Norvège","year: 1986<br />log(value): 10.392030<br />country: Norvège","year: 1987<br />log(value): 10.385391<br />country: Norvège","year: 1988<br />log(value): 10.355296<br />country: Norvège","year: 1989<br />log(value): 10.367302<br />country: Norvège","year: 1990<br />log(value): 10.376975<br />country: Norvège","year: 1991<br />log(value): 10.388236<br />country: Norvège","year: 1992<br />log(value): 10.385246<br />country: Norvège","year: 1993<br />log(value): 10.405554<br />country: Norvège","year: 1994<br />log(value): 10.432323<br />country: Norvège","year: 1995<br />log(value): 10.472851<br />country: Norvège","year: 1996<br />log(value): 10.546216<br />country: Norvège","year: 1997<br />log(value): 10.595169<br />country: Norvège","year: 1998<br />log(value): 10.586925<br />country: Norvège","year: 1999<br />log(value): 10.642545<br />country: Norvège","year: 2000<br />log(value): 10.781214<br />country: Norvège","year: 2001<br />log(value): 10.783937<br />country: Norvège","year: 2002<br />log(value): 10.763235<br />country: Norvège","year: 2003<br />log(value): 10.770673<br />country: Norvège","year: 2004<br />log(value): 10.856853<br />country: Norvège","year: 2005<br />log(value): 10.944498<br />country: Norvège","year: 2006<br />log(value): 11.020369<br />country: Norvège","year: 2007<br />log(value): 11.060082<br />country: Norvège","year: 2008<br />log(value): 11.112851<br />country: Norvège","year: 2009<br />log(value): 11.005831<br />country: Norvège","year: 2010<br />log(value): 11.032282<br />country: Norvège","year: 2011<br />log(value): 11.077970<br />country: Norvège","year: 2012<br />log(value): 11.088204<br />country: Norvège","year: 2013<br />log(value): 11.083329<br />country: Norvège","year: 2014<br />log(value): 11.088678<br />country: Norvège","year: 2015<br />log(value): 11.095259<br />country: Norvège","year: 2016<br />log(value): 11.094704<br />country: Norvège","year: 2017<br />log(value): 11.107471<br />country: Norvège","year: 2018<br />log(value): 11.109038<br />country: Norvège","year: 2019<br />log(value): 11.106153<br />country: Norvège","year: 2020<br />log(value): 11.089140<br />country: Norvège","year: 2021<br />log(value): 11.119373<br />country: Norvège","year: 2022<br />log(value): 11.282541<br />country: Norvège",null,"year: 1950<br />log(value):  9.611914<br />country: Pays-Bas","year: 1951<br />log(value):  9.615256<br />country: Pays-Bas","year: 1952<br />log(value):  9.622828<br />country: Pays-Bas","year: 1953<br />log(value):  9.695952<br />country: Pays-Bas","year: 1954<br />log(value):  9.751905<br />country: Pays-Bas","year: 1955<br />log(value):  9.812377<br />country: Pays-Bas","year: 1956<br />log(value):  9.836731<br />country: Pays-Bas","year: 1957<br />log(value):  9.853494<br />country: Pays-Bas","year: 1958<br />log(value):  9.839599<br />country: Pays-Bas","year: 1959<br />log(value):  9.872964<br />country: Pays-Bas","year: 1960<br />log(value):  9.942593<br />country: Pays-Bas","year: 1961<br />log(value):  9.973386<br />country: Pays-Bas","year: 1962<br />log(value): 10.002192<br />country: Pays-Bas","year: 1963<br />log(value): 10.030281<br />country: Pays-Bas","year: 1964<br />log(value): 10.120110<br />country: Pays-Bas","year: 1965<br />log(value): 10.171639<br />country: Pays-Bas","year: 1966<br />log(value): 10.185141<br />country: Pays-Bas","year: 1967<br />log(value): 10.223159<br />country: Pays-Bas","year: 1968<br />log(value): 10.271181<br />country: Pays-Bas","year: 1969<br />log(value): 10.383896<br />country: Pays-Bas","year: 1970<br />log(value): 10.438917<br />country: Pays-Bas","year: 1971<br />log(value): 10.475737<br />country: Pays-Bas","year: 1972<br />log(value): 10.497198<br />country: Pays-Bas","year: 1973<br />log(value): 10.540766<br />country: Pays-Bas","year: 1974<br />log(value): 10.590032<br />country: Pays-Bas","year: 1975<br />log(value): 10.554581<br />country: Pays-Bas","year: 1976<br />log(value): 10.583939<br />country: Pays-Bas","year: 1977<br />log(value): 10.582759<br />country: Pays-Bas","year: 1978<br />log(value): 10.606434<br />country: Pays-Bas","year: 1979<br />log(value): 10.617200<br />country: Pays-Bas","year: 1980<br />log(value): 10.611407<br />country: Pays-Bas","year: 1981<br />log(value): 10.584268<br />country: Pays-Bas","year: 1982<br />log(value): 10.545191<br />country: Pays-Bas","year: 1983<br />log(value): 10.539148<br />country: Pays-Bas","year: 1984<br />log(value): 10.546129<br />country: Pays-Bas","year: 1985<br />log(value): 10.543864<br />country: Pays-Bas","year: 1986<br />log(value): 10.558679<br />country: Pays-Bas","year: 1987<br />log(value): 10.559351<br />country: Pays-Bas","year: 1988<br />log(value): 10.580341<br />country: Pays-Bas","year: 1989<br />log(value): 10.613854<br />country: Pays-Bas","year: 1990<br />log(value): 10.632878<br />country: Pays-Bas","year: 1991<br />log(value): 10.635881<br />country: Pays-Bas","year: 1992<br />log(value): 10.628782<br />country: Pays-Bas","year: 1993<br />log(value): 10.625321<br />country: Pays-Bas","year: 1994<br />log(value): 10.639203<br />country: Pays-Bas","year: 1995<br />log(value): 10.666232<br />country: Pays-Bas","year: 1996<br />log(value): 10.693646<br />country: Pays-Bas","year: 1997<br />log(value): 10.731664<br />country: Pays-Bas","year: 1998<br />log(value): 10.771289<br />country: Pays-Bas","year: 1999<br />log(value): 10.812611<br />country: Pays-Bas","year: 2000<br />log(value): 10.846173<br />country: Pays-Bas","year: 2001<br />log(value): 10.862823<br />country: Pays-Bas","year: 2002<br />log(value): 10.858744<br />country: Pays-Bas","year: 2003<br />log(value): 10.855383<br />country: Pays-Bas","year: 2004<br />log(value): 10.869800<br />country: Pays-Bas","year: 2005<br />log(value): 10.887311<br />country: Pays-Bas","year: 2006<br />log(value): 10.917547<br />country: Pays-Bas","year: 2007<br />log(value): 10.950710<br />country: Pays-Bas","year: 2008<br />log(value): 10.965239<br />country: Pays-Bas","year: 2009<br />log(value): 10.919069<br />country: Pays-Bas","year: 2010<br />log(value): 10.926237<br />country: Pays-Bas","year: 2011<br />log(value): 10.935056<br />country: Pays-Bas","year: 2012<br />log(value): 10.916862<br />country: Pays-Bas","year: 2013<br />log(value): 10.908907<br />country: Pays-Bas","year: 2014<br />log(value): 10.912083<br />country: Pays-Bas","year: 2015<br />log(value): 10.923678<br />country: Pays-Bas","year: 2016<br />log(value): 10.936983<br />country: Pays-Bas","year: 2017<br />log(value): 10.961656<br />country: Pays-Bas","year: 2018<br />log(value): 10.977607<br />country: Pays-Bas","year: 2019<br />log(value): 10.989346<br />country: Pays-Bas","year: 2020<br />log(value): 10.938808<br />country: Pays-Bas","year: 2021<br />log(value): 10.997065<br />country: Pays-Bas","year: 2022<br />log(value): 11.061326<br />country: Pays-Bas",null,"year: 1950<br />log(value):  9.421748<br />country: Royaume-Uni","year: 1951<br />log(value):  9.387201<br />country: Royaume-Uni","year: 1952<br />log(value):  9.420379<br />country: Royaume-Uni","year: 1953<br />log(value):  9.500412<br />country: Royaume-Uni","year: 1954<br />log(value):  9.537605<br />country: Royaume-Uni","year: 1955<br />log(value):  9.551691<br />country: Royaume-Uni","year: 1956<br />log(value):  9.559159<br />country: Royaume-Uni","year: 1957<br />log(value):  9.585960<br />country: Royaume-Uni","year: 1958<br />log(value):  9.595223<br />country: Royaume-Uni","year: 1959<br />log(value):  9.634432<br />country: Royaume-Uni","year: 1960<br />log(value):  9.664239<br />country: Royaume-Uni","year: 1961<br />log(value):  9.704836<br />country: Royaume-Uni","year: 1962<br />log(value):  9.739679<br />country: Royaume-Uni","year: 1963<br />log(value):  9.767703<br />country: Royaume-Uni","year: 1964<br />log(value):  9.772055<br />country: Royaume-Uni","year: 1965<br />log(value):  9.788063<br />country: Royaume-Uni","year: 1966<br />log(value):  9.818307<br />country: Royaume-Uni","year: 1967<br />log(value):  9.843683<br />country: Royaume-Uni","year: 1968<br />log(value):  9.843980<br />country: Royaume-Uni","year: 1969<br />log(value):  9.865898<br />country: Royaume-Uni","year: 1970<br />log(value):  9.860041<br />country: Royaume-Uni","year: 1971<br />log(value):  9.870038<br />country: Royaume-Uni","year: 1972<br />log(value):  9.903370<br />country: Royaume-Uni","year: 1973<br />log(value):  9.929943<br />country: Royaume-Uni","year: 1974<br />log(value):  9.930895<br />country: Royaume-Uni","year: 1975<br />log(value):  9.818662<br />country: Royaume-Uni","year: 1976<br />log(value):  9.913611<br />country: Royaume-Uni","year: 1977<br />log(value):  9.946486<br />country: Royaume-Uni","year: 1978<br />log(value):  9.994037<br />country: Royaume-Uni","year: 1979<br />log(value):  9.993190<br />country: Royaume-Uni","year: 1980<br />log(value):  9.965098<br />country: Royaume-Uni","year: 1981<br />log(value): 10.016990<br />country: Royaume-Uni","year: 1982<br />log(value): 10.034399<br />country: Royaume-Uni","year: 1983<br />log(value): 10.075701<br />country: Royaume-Uni","year: 1984<br />log(value): 10.106272<br />country: Royaume-Uni","year: 1985<br />log(value): 10.111730<br />country: Royaume-Uni","year: 1986<br />log(value): 10.154474<br />country: Royaume-Uni","year: 1987<br />log(value): 10.168497<br />country: Royaume-Uni","year: 1988<br />log(value): 10.197618<br />country: Royaume-Uni","year: 1989<br />log(value): 10.223471<br />country: Royaume-Uni","year: 1990<br />log(value): 10.232581<br />country: Royaume-Uni","year: 1991<br />log(value): 10.245344<br />country: Royaume-Uni","year: 1992<br />log(value): 10.258278<br />country: Royaume-Uni","year: 1993<br />log(value): 10.265509<br />country: Royaume-Uni","year: 1994<br />log(value): 10.301184<br />country: Royaume-Uni","year: 1995<br />log(value): 10.332198<br />country: Royaume-Uni","year: 1996<br />log(value): 10.346010<br />country: Royaume-Uni","year: 1997<br />log(value): 10.383736<br />country: Royaume-Uni","year: 1998<br />log(value): 10.427222<br />country: Royaume-Uni","year: 1999<br />log(value): 10.469029<br />country: Royaume-Uni","year: 2000<br />log(value): 10.495394<br />country: Royaume-Uni","year: 2001<br />log(value): 10.526928<br />country: Royaume-Uni","year: 2002<br />log(value): 10.541144<br />country: Royaume-Uni","year: 2003<br />log(value): 10.565283<br />country: Royaume-Uni","year: 2004<br />log(value): 10.587361<br />country: Royaume-Uni","year: 2005<br />log(value): 10.603531<br />country: Royaume-Uni","year: 2006<br />log(value): 10.609817<br />country: Royaume-Uni","year: 2007<br />log(value): 10.629945<br />country: Royaume-Uni","year: 2008<br />log(value): 10.647475<br />country: Royaume-Uni","year: 2009<br />log(value): 10.639753<br />country: Royaume-Uni","year: 2010<br />log(value): 10.571028<br />country: Royaume-Uni","year: 2011<br />log(value): 10.583356<br />country: Royaume-Uni","year: 2012<br />log(value): 10.587608<br />country: Royaume-Uni","year: 2013<br />log(value): 10.602959<br />country: Royaume-Uni","year: 2014<br />log(value): 10.615635<br />country: Royaume-Uni","year: 2015<br />log(value): 10.631684<br />country: Royaume-Uni","year: 2016<br />log(value): 10.645966<br />country: Royaume-Uni","year: 2017<br />log(value): 10.663177<br />country: Royaume-Uni","year: 2018<br />log(value): 10.673625<br />country: Royaume-Uni","year: 2019<br />log(value): 10.683278<br />country: Royaume-Uni","year: 2020<br />log(value): 10.561238<br />country: Royaume-Uni","year: 2021<br />log(value): 10.629792<br />country: Royaume-Uni","year: 2022<br />log(value): 10.665047<br />country: Royaume-Uni",null,"year: 1950<br />log(value):  9.317338<br />country: Suède","year: 1951<br />log(value):  9.374167<br />country: Suède","year: 1952<br />log(value):  9.388388<br />country: Suède","year: 1953<br />log(value):  9.409614<br />country: Suède","year: 1954<br />log(value):  9.461294<br />country: Suède","year: 1955<br />log(value):  9.464806<br />country: Suède","year: 1956<br />log(value):  9.506277<br />country: Suède","year: 1957<br />log(value):  9.525066<br />country: Suède","year: 1958<br />log(value):  9.548472<br />country: Suède","year: 1959<br />log(value):  9.594243<br />country: Suède","year: 1960<br />log(value):  9.636938<br />country: Suède","year: 1961<br />log(value):  9.690055<br />country: Suède","year: 1962<br />log(value):  9.720032<br />country: Suède","year: 1963<br />log(value):  9.755658<br />country: Suède","year: 1964<br />log(value):  9.821216<br />country: Suède","year: 1965<br />log(value):  9.848541<br />country: Suède","year: 1966<br />log(value):  9.869909<br />country: Suède","year: 1967<br />log(value):  9.912117<br />country: Suède","year: 1968<br />log(value):  9.944357<br />country: Suède","year: 1969<br />log(value):  9.982646<br />country: Suède","year: 1970<br />log(value): 10.006935<br />country: Suède","year: 1971<br />log(value): 10.009324<br />country: Suède","year: 1972<br />log(value): 10.038559<br />country: Suède","year: 1973<br />log(value): 10.069912<br />country: Suède","year: 1974<br />log(value): 10.080761<br />country: Suède","year: 1975<br />log(value): 10.148765<br />country: Suède","year: 1976<br />log(value): 10.176298<br />country: Suède","year: 1977<br />log(value): 10.136913<br />country: Suède","year: 1978<br />log(value): 10.169035<br />country: Suède","year: 1979<br />log(value): 10.185657<br />country: Suède","year: 1980<br />log(value): 10.175412<br />country: Suède","year: 1981<br />log(value): 10.173480<br />country: Suède","year: 1982<br />log(value): 10.168603<br />country: Suède","year: 1983<br />log(value): 10.189205<br />country: Suède","year: 1984<br />log(value): 10.221062<br />country: Suède","year: 1985<br />log(value): 10.246884<br />country: Suède","year: 1986<br />log(value): 10.298830<br />country: Suède","year: 1987<br />log(value): 10.323433<br />country: Suède","year: 1988<br />log(value): 10.348607<br />country: Suède","year: 1989<br />log(value): 10.377989<br />country: Suède","year: 1990<br />log(value): 10.365591<br />country: Suède","year: 1991<br />log(value): 10.353015<br />country: Suède","year: 1992<br />log(value): 10.333079<br />country: Suède","year: 1993<br />log(value): 10.292975<br />country: Suède","year: 1994<br />log(value): 10.327241<br />country: Suède","year: 1995<br />log(value): 10.379460<br />country: Suède","year: 1996<br />log(value): 10.407862<br />country: Suède","year: 1997<br />log(value): 10.434095<br />country: Suède","year: 1998<br />log(value): 10.492076<br />country: Suède","year: 1999<br />log(value): 10.530349<br />country: Suède","year: 2000<br />log(value): 10.577656<br />country: Suède","year: 2001<br />log(value): 10.587944<br />country: Suède","year: 2002<br />log(value): 10.599530<br />country: Suède","year: 2003<br />log(value): 10.623030<br />country: Suède","year: 2004<br />log(value): 10.661279<br />country: Suède","year: 2005<br />log(value): 10.682719<br />country: Suède","year: 2006<br />log(value): 10.720990<br />country: Suède","year: 2007<br />log(value): 10.739112<br />country: Suède","year: 2008<br />log(value): 10.746233<br />country: Suède","year: 2009<br />log(value): 10.695487<br />country: Suède","year: 2010<br />log(value): 10.730106<br />country: Suède","year: 2011<br />log(value): 10.748852<br />country: Suède","year: 2012<br />log(value): 10.757195<br />country: Suède","year: 2013<br />log(value): 10.779860<br />country: Suède","year: 2014<br />log(value): 10.817623<br />country: Suède","year: 2015<br />log(value): 10.871399<br />country: Suède","year: 2016<br />log(value): 10.880261<br />country: Suède","year: 2017<br />log(value): 10.900765<br />country: Suède","year: 2018<br />log(value): 10.915054<br />country: Suède","year: 2019<br />log(value): 10.933635<br />country: Suède","year: 2020<br />log(value): 10.903085<br />country: Suède","year: 2021<br />log(value): 10.944228<br />country: Suède","year: 2022<br />log(value): 10.962303<br />country: Suède",null,"year: 1950<br />log(value): 10.121290<br />country: Suisse","year: 1951<br />log(value): 10.187633<br />country: Suisse","year: 1952<br />log(value): 10.183248<br />country: Suisse","year: 1953<br />log(value): 10.205293<br />country: Suisse","year: 1954<br />log(value): 10.248091<br />country: Suisse","year: 1955<br />log(value): 10.301588<br />country: Suisse","year: 1956<br />log(value): 10.354997<br />country: Suisse","year: 1957<br />log(value): 10.383819<br />country: Suisse","year: 1958<br />log(value): 10.352229<br />country: Suisse","year: 1959<br />log(value): 10.402933<br />country: Suisse","year: 1960<br />log(value): 10.460695<br />country: Suisse","year: 1961<br />log(value): 10.523833<br />country: Suisse","year: 1962<br />log(value): 10.551225<br />country: Suisse","year: 1963<br />log(value): 10.580281<br />country: Suisse","year: 1964<br />log(value): 10.614401<br />country: Suisse","year: 1965<br />log(value): 10.631667<br />country: Suisse","year: 1966<br />log(value): 10.642188<br />country: Suisse","year: 1967<br />log(value): 10.656061<br />country: Suisse","year: 1968<br />log(value): 10.674208<br />country: Suisse","year: 1969<br />log(value): 10.712714<br />country: Suisse","year: 1970<br />log(value): 10.764003<br />country: Suisse","year: 1971<br />log(value): 10.821756<br />country: Suisse","year: 1972<br />log(value): 10.850145<br />country: Suisse","year: 1973<br />log(value): 10.854611<br />country: Suisse","year: 1974<br />log(value): 10.861974<br />country: Suisse","year: 1975<br />log(value): 10.833979<br />country: Suisse","year: 1976<br />log(value): 10.832453<br />country: Suisse","year: 1977<br />log(value): 10.846411<br />country: Suisse","year: 1978<br />log(value): 10.844825<br />country: Suisse","year: 1979<br />log(value): 10.841788<br />country: Suisse","year: 1980<br />log(value): 10.841352<br />country: Suisse","year: 1981<br />log(value): 10.845447<br />country: Suisse","year: 1982<br />log(value): 10.863197<br />country: Suisse","year: 1983<br />log(value): 10.851516<br />country: Suisse","year: 1984<br />log(value): 10.873478<br />country: Suisse","year: 1985<br />log(value): 10.912941<br />country: Suisse","year: 1986<br />log(value): 10.934748<br />country: Suisse","year: 1987<br />log(value): 10.942767<br />country: Suisse","year: 1988<br />log(value): 10.959341<br />country: Suisse","year: 1989<br />log(value): 10.970901<br />country: Suisse","year: 1990<br />log(value): 10.982192<br />country: Suisse","year: 1991<br />log(value): 10.970737<br />country: Suisse","year: 1992<br />log(value): 10.947055<br />country: Suisse","year: 1993<br />log(value): 10.951951<br />country: Suisse","year: 1994<br />log(value): 10.950237<br />country: Suisse","year: 1995<br />log(value): 10.948142<br />country: Suisse","year: 1996<br />log(value): 10.946048<br />country: Suisse","year: 1997<br />log(value): 10.961152<br />country: Suisse","year: 1998<br />log(value): 10.977820<br />country: Suisse","year: 1999<br />log(value): 10.973966<br />country: Suisse","year: 2000<br />log(value): 11.009952<br />country: Suisse","year: 2001<br />log(value): 11.019269<br />country: Suisse","year: 2002<br />log(value): 10.998389<br />country: Suisse","year: 2003<br />log(value): 10.992677<br />country: Suisse","year: 2004<br />log(value): 11.000503<br />country: Suisse","year: 2005<br />log(value): 11.017570<br />country: Suisse","year: 2006<br />log(value): 11.062749<br />country: Suisse","year: 2007<br />log(value): 11.089640<br />country: Suisse","year: 2008<br />log(value): 11.121055<br />country: Suisse","year: 2009<br />log(value): 11.079843<br />country: Suisse","year: 2010<br />log(value): 11.098122<br />country: Suisse","year: 2011<br />log(value): 11.109207<br />country: Suisse","year: 2012<br />log(value): 11.110224<br />country: Suisse","year: 2013<br />log(value): 11.114505<br />country: Suisse","year: 2014<br />log(value): 11.128598<br />country: Suisse","year: 2015<br />log(value): 11.132291<br />country: Suisse","year: 2016<br />log(value): 11.141143<br />country: Suisse","year: 2017<br />log(value): 11.144822<br />country: Suisse","year: 2018<br />log(value): 11.165101<br />country: Suisse","year: 2019<br />log(value): 11.168734<br />country: Suisse","year: 2020<br />log(value): 11.136769<br />country: Suisse","year: 2021<br />log(value): 11.171603<br />country: Suisse","year: 2022<br />log(value): 11.199516<br />country: Suisse"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(191,191,191,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[null,null,null,null,null,null,null,null,null,null,10.12799525697023,10.143028536123518,10.190845678773,10.22179521480531,10.263225342170543,10.313549419342012,10.36524729727684,10.380541780293752,10.409208270414151,10.423669239524141,10.406523186969887,10.414788187466451,10.445212256668565,10.481962679874306,10.459183003124089,10.438191987602126,10.472847330377352,10.499688440589004,10.534485805271551,10.546390448831277,10.52313027379183,10.5311795599614,10.497232153083415,10.526582152101003,10.581689248660144,10.606890319334273,10.626913591568876,10.64955020029957,10.680350545882797,10.706926248367969,10.712898279357381,10.697933170172407,10.718993391273996,10.733872036903689,10.762372816054881,10.777528882044665,10.803483777059329,10.834698923977369,10.866834332535905,10.90105952263427,10.92898399980292,10.927643087720558,10.932837517346828,10.948583702689593,10.974677582809862,10.996918333683007,11.012615469342492,11.02114796334474,11.01128640851708,10.972674082345364,10.988504327955509,10.997154985532145,11.007032822354581,11.020680244765011,11.033143167208502,11.060112262035645,11.064216954974764,11.080113736845112,11.099817893996674,11.113678661568786,11.07751692252908,11.131111239235,11.144398863916855],"text":["year: 1950<br />log(value):        NA<br />country: États-Unis<br />country: États-Unis","year: 1951<br />log(value):        NA<br />country: États-Unis<br />country: États-Unis","year: 1952<br />log(value):        NA<br />country: États-Unis<br />country: États-Unis","year: 1953<br />log(value):        NA<br />country: États-Unis<br />country: États-Unis","year: 1954<br />log(value):        NA<br />country: États-Unis<br />country: États-Unis","year: 1955<br />log(value):        NA<br />country: États-Unis<br />country: États-Unis","year: 1956<br />log(value):        NA<br />country: États-Unis<br />country: États-Unis","year: 1957<br />log(value):        NA<br />country: États-Unis<br />country: États-Unis","year: 1958<br />log(value):        NA<br />country: États-Unis<br />country: États-Unis","year: 1959<br />log(value):        NA<br />country: États-Unis<br />country: États-Unis","year: 1960<br />log(value): 10.127995<br />country: États-Unis<br />country: États-Unis","year: 1961<br />log(value): 10.143029<br />country: États-Unis<br />country: États-Unis","year: 1962<br />log(value): 10.190846<br />country: États-Unis<br />country: États-Unis","year: 1963<br />log(value): 10.221795<br />country: États-Unis<br />country: États-Unis","year: 1964<br />log(value): 10.263225<br />country: États-Unis<br />country: États-Unis","year: 1965<br />log(value): 10.313549<br />country: États-Unis<br />country: États-Unis","year: 1966<br />log(value): 10.365247<br />country: États-Unis<br />country: États-Unis","year: 1967<br />log(value): 10.380542<br />country: États-Unis<br />country: États-Unis","year: 1968<br />log(value): 10.409208<br />country: États-Unis<br />country: États-Unis","year: 1969<br />log(value): 10.423669<br />country: États-Unis<br />country: États-Unis","year: 1970<br />log(value): 10.406523<br />country: États-Unis<br />country: États-Unis","year: 1971<br />log(value): 10.414788<br />country: États-Unis<br />country: États-Unis","year: 1972<br />log(value): 10.445212<br />country: États-Unis<br />country: États-Unis","year: 1973<br />log(value): 10.481963<br />country: États-Unis<br />country: États-Unis","year: 1974<br />log(value): 10.459183<br />country: États-Unis<br />country: États-Unis","year: 1975<br />log(value): 10.438192<br />country: États-Unis<br />country: États-Unis","year: 1976<br />log(value): 10.472847<br />country: États-Unis<br />country: États-Unis","year: 1977<br />log(value): 10.499688<br />country: États-Unis<br />country: États-Unis","year: 1978<br />log(value): 10.534486<br />country: États-Unis<br />country: États-Unis","year: 1979<br />log(value): 10.546390<br />country: États-Unis<br />country: États-Unis","year: 1980<br />log(value): 10.523130<br />country: États-Unis<br />country: États-Unis","year: 1981<br />log(value): 10.531180<br />country: États-Unis<br />country: États-Unis","year: 1982<br />log(value): 10.497232<br />country: États-Unis<br />country: États-Unis","year: 1983<br />log(value): 10.526582<br />country: États-Unis<br />country: États-Unis","year: 1984<br />log(value): 10.581689<br />country: États-Unis<br />country: États-Unis","year: 1985<br />log(value): 10.606890<br />country: États-Unis<br />country: États-Unis","year: 1986<br />log(value): 10.626914<br />country: États-Unis<br />country: États-Unis","year: 1987<br />log(value): 10.649550<br />country: États-Unis<br />country: États-Unis","year: 1988<br />log(value): 10.680351<br />country: États-Unis<br />country: États-Unis","year: 1989<br />log(value): 10.706926<br />country: États-Unis<br />country: États-Unis","year: 1990<br />log(value): 10.712898<br />country: États-Unis<br />country: États-Unis","year: 1991<br />log(value): 10.697933<br />country: États-Unis<br />country: États-Unis","year: 1992<br />log(value): 10.718993<br />country: États-Unis<br />country: États-Unis","year: 1993<br />log(value): 10.733872<br />country: États-Unis<br />country: États-Unis","year: 1994<br />log(value): 10.762373<br />country: États-Unis<br />country: États-Unis","year: 1995<br />log(value): 10.777529<br />country: États-Unis<br />country: États-Unis","year: 1996<br />log(value): 10.803484<br />country: États-Unis<br />country: États-Unis","year: 1997<br />log(value): 10.834699<br />country: États-Unis<br />country: États-Unis","year: 1998<br />log(value): 10.866834<br />country: États-Unis<br />country: États-Unis","year: 1999<br />log(value): 10.901060<br />country: États-Unis<br />country: États-Unis","year: 2000<br />log(value): 10.928984<br />country: États-Unis<br />country: États-Unis","year: 2001<br />log(value): 10.927643<br />country: États-Unis<br />country: États-Unis","year: 2002<br />log(value): 10.932838<br />country: États-Unis<br />country: États-Unis","year: 2003<br />log(value): 10.948584<br />country: États-Unis<br />country: États-Unis","year: 2004<br />log(value): 10.974678<br />country: États-Unis<br />country: États-Unis","year: 2005<br />log(value): 10.996918<br />country: États-Unis<br />country: États-Unis","year: 2006<br />log(value): 11.012615<br />country: États-Unis<br />country: États-Unis","year: 2007<br />log(value): 11.021148<br />country: États-Unis<br />country: États-Unis","year: 2008<br />log(value): 11.011286<br />country: États-Unis<br />country: États-Unis","year: 2009<br />log(value): 10.972674<br />country: États-Unis<br />country: États-Unis","year: 2010<br />log(value): 10.988504<br />country: États-Unis<br />country: États-Unis","year: 2011<br />log(value): 10.997155<br />country: États-Unis<br />country: États-Unis","year: 2012<br />log(value): 11.007033<br />country: États-Unis<br />country: États-Unis","year: 2013<br />log(value): 11.020680<br />country: États-Unis<br />country: États-Unis","year: 2014<br />log(value): 11.033143<br />country: États-Unis<br />country: États-Unis","year: 2015<br />log(value): 11.060112<br />country: États-Unis<br />country: États-Unis","year: 2016<br />log(value): 11.064217<br />country: États-Unis<br />country: États-Unis","year: 2017<br />log(value): 11.080114<br />country: États-Unis<br />country: États-Unis","year: 2018<br />log(value): 11.099818<br />country: États-Unis<br />country: États-Unis","year: 2019<br />log(value): 11.113679<br />country: États-Unis<br />country: États-Unis","year: 2020<br />log(value): 11.077517<br />country: États-Unis<br />country: États-Unis","year: 2021<br />log(value): 11.131111<br />country: États-Unis<br />country: États-Unis","year: 2022<br />log(value): 11.144399<br />country: États-Unis<br />country: États-Unis"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,139,1)","dash":"solid"},"hoveron":"points","name":"États-Unis","legendgroup":"États-Unis","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[9.3092288873490379,9.3548379703672868,9.3823117163083083,9.4150378273293978,9.4589110095035984,9.4751013313054422,9.5225542758010455,9.5482506740853825,9.5433493971689991,9.5797169317774138,9.6294646606173604,9.6872984317647663,9.7043083303856008,9.7420128952433469,9.7730069985101018,9.8190263338542341,9.8512847235947678,9.8851723382924916,9.9052991156643433,9.9503181074487088,9.9881222791951032,10.036230624517566,10.063080271853888,10.10954653416653,10.156598564327302,10.170309336715498,10.205516909955866,10.229044266728037,10.24063502541973,10.284194719836746,10.340930059992298,10.342158487248291,10.328453020039911,10.34574853239836,10.395576312478237,10.436520947155588,10.392030305924404,10.385391247423673,10.355296383922418,10.367302100116728,10.376974598260801,10.38823583994917,10.385246225981584,10.405553670605146,10.43232261444226,10.47285085302156,10.546216261202872,10.59516900694412,10.586925018517487,10.642544641403335,10.78121359442674,10.783937301529001,10.763235039432811,10.770672729910549,10.856852786483952,10.944497828989077,11.020369180870397,11.060081885859779,11.112851340859834,11.005831210977245,11.032281667772416,11.077969799671774,11.08820352706133,11.083328629820981,11.088677631708832,11.095259194487101,11.094703981164894,11.10747126680255,11.109037979261167,11.106152926547409,11.089140424989568,11.119372852005238,11.282541482381024],"text":["year: 1950<br />log(value):  9.309229<br />country: Norvège<br />country: Norvège","year: 1951<br />log(value):  9.354838<br />country: Norvège<br />country: Norvège","year: 1952<br />log(value):  9.382312<br />country: Norvège<br />country: Norvège","year: 1953<br />log(value):  9.415038<br />country: Norvège<br />country: Norvège","year: 1954<br />log(value):  9.458911<br />country: Norvège<br />country: Norvège","year: 1955<br />log(value):  9.475101<br />country: Norvège<br />country: Norvège","year: 1956<br />log(value):  9.522554<br />country: Norvège<br />country: Norvège","year: 1957<br />log(value):  9.548251<br />country: Norvège<br />country: Norvège","year: 1958<br />log(value):  9.543349<br />country: Norvège<br />country: Norvège","year: 1959<br />log(value):  9.579717<br />country: Norvège<br />country: Norvège","year: 1960<br />log(value):  9.629465<br />country: Norvège<br />country: Norvège","year: 1961<br />log(value):  9.687298<br />country: Norvège<br />country: Norvège","year: 1962<br />log(value):  9.704308<br />country: Norvège<br />country: Norvège","year: 1963<br />log(value):  9.742013<br />country: Norvège<br />country: Norvège","year: 1964<br />log(value):  9.773007<br />country: Norvège<br />country: Norvège","year: 1965<br />log(value):  9.819026<br />country: Norvège<br />country: Norvège","year: 1966<br />log(value):  9.851285<br />country: Norvège<br />country: Norvège","year: 1967<br />log(value):  9.885172<br />country: Norvège<br />country: Norvège","year: 1968<br />log(value):  9.905299<br />country: Norvège<br />country: Norvège","year: 1969<br />log(value):  9.950318<br />country: Norvège<br />country: Norvège","year: 1970<br />log(value):  9.988122<br />country: Norvège<br />country: Norvège","year: 1971<br />log(value): 10.036231<br />country: Norvège<br />country: Norvège","year: 1972<br />log(value): 10.063080<br />country: Norvège<br />country: Norvège","year: 1973<br />log(value): 10.109547<br />country: Norvège<br />country: Norvège","year: 1974<br />log(value): 10.156599<br />country: Norvège<br />country: Norvège","year: 1975<br />log(value): 10.170309<br />country: Norvège<br />country: Norvège","year: 1976<br />log(value): 10.205517<br />country: Norvège<br />country: Norvège","year: 1977<br />log(value): 10.229044<br />country: Norvège<br />country: Norvège","year: 1978<br />log(value): 10.240635<br />country: Norvège<br />country: Norvège","year: 1979<br />log(value): 10.284195<br />country: Norvège<br />country: Norvège","year: 1980<br />log(value): 10.340930<br />country: Norvège<br />country: Norvège","year: 1981<br />log(value): 10.342158<br />country: Norvège<br />country: Norvège","year: 1982<br />log(value): 10.328453<br />country: Norvège<br />country: Norvège","year: 1983<br />log(value): 10.345749<br />country: Norvège<br />country: Norvège","year: 1984<br />log(value): 10.395576<br />country: Norvège<br />country: Norvège","year: 1985<br />log(value): 10.436521<br />country: Norvège<br />country: Norvège","year: 1986<br />log(value): 10.392030<br />country: Norvège<br />country: Norvège","year: 1987<br />log(value): 10.385391<br />country: Norvège<br />country: Norvège","year: 1988<br />log(value): 10.355296<br />country: Norvège<br />country: Norvège","year: 1989<br />log(value): 10.367302<br />country: Norvège<br />country: Norvège","year: 1990<br />log(value): 10.376975<br />country: Norvège<br />country: Norvège","year: 1991<br />log(value): 10.388236<br />country: Norvège<br />country: Norvège","year: 1992<br />log(value): 10.385246<br />country: Norvège<br />country: Norvège","year: 1993<br />log(value): 10.405554<br />country: Norvège<br />country: Norvège","year: 1994<br />log(value): 10.432323<br />country: Norvège<br />country: Norvège","year: 1995<br />log(value): 10.472851<br />country: Norvège<br />country: Norvège","year: 1996<br />log(value): 10.546216<br />country: Norvège<br />country: Norvège","year: 1997<br />log(value): 10.595169<br />country: Norvège<br />country: Norvège","year: 1998<br />log(value): 10.586925<br />country: Norvège<br />country: Norvège","year: 1999<br />log(value): 10.642545<br />country: Norvège<br />country: Norvège","year: 2000<br />log(value): 10.781214<br />country: Norvège<br />country: Norvège","year: 2001<br />log(value): 10.783937<br />country: Norvège<br />country: Norvège","year: 2002<br />log(value): 10.763235<br />country: Norvège<br />country: Norvège","year: 2003<br />log(value): 10.770673<br />country: Norvège<br />country: Norvège","year: 2004<br />log(value): 10.856853<br />country: Norvège<br />country: Norvège","year: 2005<br />log(value): 10.944498<br />country: Norvège<br />country: Norvège","year: 2006<br />log(value): 11.020369<br />country: Norvège<br />country: Norvège","year: 2007<br />log(value): 11.060082<br />country: Norvège<br />country: Norvège","year: 2008<br />log(value): 11.112851<br />country: Norvège<br />country: Norvège","year: 2009<br />log(value): 11.005831<br />country: Norvège<br />country: Norvège","year: 2010<br />log(value): 11.032282<br />country: Norvège<br />country: Norvège","year: 2011<br />log(value): 11.077970<br />country: Norvège<br />country: Norvège","year: 2012<br />log(value): 11.088204<br />country: Norvège<br />country: Norvège","year: 2013<br />log(value): 11.083329<br />country: Norvège<br />country: Norvège","year: 2014<br />log(value): 11.088678<br />country: Norvège<br />country: Norvège","year: 2015<br />log(value): 11.095259<br />country: Norvège<br />country: Norvège","year: 2016<br />log(value): 11.094704<br />country: Norvège<br />country: Norvège","year: 2017<br />log(value): 11.107471<br />country: Norvège<br />country: Norvège","year: 2018<br />log(value): 11.109038<br />country: Norvège<br />country: Norvège","year: 2019<br />log(value): 11.106153<br />country: Norvège<br />country: Norvège","year: 2020<br />log(value): 11.089140<br />country: Norvège<br />country: Norvège","year: 2021<br />log(value): 11.119373<br />country: Norvège<br />country: Norvège","year: 2022<br />log(value): 11.282541<br />country: Norvège<br />country: Norvège"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(139,0,0,1)","dash":"solid"},"hoveron":"points","name":"Norvège","legendgroup":"Norvège","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[10.121289796431519,10.187632806562835,10.183247511498131,10.205293234350234,10.248090909673294,10.30158835727117,10.354996555679032,10.383818601181673,10.352228844377075,10.402932829102786,10.460694845231183,10.523832575303249,10.551225475341177,10.580280930660589,10.614400905872669,10.631666673558218,10.642188124086221,10.656060771015373,10.674208008075105,10.712714011515352,10.764003318106512,10.821755969501286,10.850144905909042,10.854610706158617,10.8619744875532,10.833979060398734,10.832452934596661,10.846411122812933,10.844824951389173,10.841787794356428,10.841351676310342,10.845447050651519,10.863197165220619,10.851515785349672,10.873478460432956,10.912941397278772,10.934748411100694,10.94276656347318,10.959340824297392,10.970901369121846,10.982192222996705,10.97073712258346,10.947055391954052,10.951951428032112,10.95023669851907,10.948142232259645,10.946048046600003,10.961151746719827,10.977819617819748,10.973965758417771,11.009951782207592,11.019268533783654,10.99838939098985,10.992676525903974,11.000503122126537,11.01756974284479,11.062749115265824,11.089640067495088,11.121055084371683,11.079842912894499,11.098121737375342,11.109207319034674,11.110223823967095,11.114504818774575,11.128597766469264,11.132290619978168,11.141143245782787,11.144821773844981,11.165101325420421,11.16873410159968,11.136769242925705,11.171602857093706,11.199515514826041],"text":["year: 1950<br />log(value): 10.121290<br />country: Suisse<br />country: Suisse","year: 1951<br />log(value): 10.187633<br />country: Suisse<br />country: Suisse","year: 1952<br />log(value): 10.183248<br />country: Suisse<br />country: Suisse","year: 1953<br />log(value): 10.205293<br />country: Suisse<br />country: Suisse","year: 1954<br />log(value): 10.248091<br />country: Suisse<br />country: Suisse","year: 1955<br />log(value): 10.301588<br />country: Suisse<br />country: Suisse","year: 1956<br />log(value): 10.354997<br />country: Suisse<br />country: Suisse","year: 1957<br />log(value): 10.383819<br />country: Suisse<br />country: Suisse","year: 1958<br />log(value): 10.352229<br />country: Suisse<br />country: Suisse","year: 1959<br />log(value): 10.402933<br />country: Suisse<br />country: Suisse","year: 1960<br />log(value): 10.460695<br />country: Suisse<br />country: Suisse","year: 1961<br />log(value): 10.523833<br />country: Suisse<br />country: Suisse","year: 1962<br />log(value): 10.551225<br />country: Suisse<br />country: Suisse","year: 1963<br />log(value): 10.580281<br />country: Suisse<br />country: Suisse","year: 1964<br />log(value): 10.614401<br />country: Suisse<br />country: Suisse","year: 1965<br />log(value): 10.631667<br />country: Suisse<br />country: Suisse","year: 1966<br />log(value): 10.642188<br />country: Suisse<br />country: Suisse","year: 1967<br />log(value): 10.656061<br />country: Suisse<br />country: Suisse","year: 1968<br />log(value): 10.674208<br />country: Suisse<br />country: Suisse","year: 1969<br />log(value): 10.712714<br />country: Suisse<br />country: Suisse","year: 1970<br />log(value): 10.764003<br />country: Suisse<br />country: Suisse","year: 1971<br />log(value): 10.821756<br />country: Suisse<br />country: Suisse","year: 1972<br />log(value): 10.850145<br />country: Suisse<br />country: Suisse","year: 1973<br />log(value): 10.854611<br />country: Suisse<br />country: Suisse","year: 1974<br />log(value): 10.861974<br />country: Suisse<br />country: Suisse","year: 1975<br />log(value): 10.833979<br />country: Suisse<br />country: Suisse","year: 1976<br />log(value): 10.832453<br />country: Suisse<br />country: Suisse","year: 1977<br />log(value): 10.846411<br />country: Suisse<br />country: Suisse","year: 1978<br />log(value): 10.844825<br />country: Suisse<br />country: Suisse","year: 1979<br />log(value): 10.841788<br />country: Suisse<br />country: Suisse","year: 1980<br />log(value): 10.841352<br />country: Suisse<br />country: Suisse","year: 1981<br />log(value): 10.845447<br />country: Suisse<br />country: Suisse","year: 1982<br />log(value): 10.863197<br />country: Suisse<br />country: Suisse","year: 1983<br />log(value): 10.851516<br />country: Suisse<br />country: Suisse","year: 1984<br />log(value): 10.873478<br />country: Suisse<br />country: Suisse","year: 1985<br />log(value): 10.912941<br />country: Suisse<br />country: Suisse","year: 1986<br />log(value): 10.934748<br />country: Suisse<br />country: Suisse","year: 1987<br />log(value): 10.942767<br />country: Suisse<br />country: Suisse","year: 1988<br />log(value): 10.959341<br />country: Suisse<br />country: Suisse","year: 1989<br />log(value): 10.970901<br />country: Suisse<br />country: Suisse","year: 1990<br />log(value): 10.982192<br />country: Suisse<br />country: Suisse","year: 1991<br />log(value): 10.970737<br />country: Suisse<br />country: Suisse","year: 1992<br />log(value): 10.947055<br />country: Suisse<br />country: Suisse","year: 1993<br />log(value): 10.951951<br />country: Suisse<br />country: Suisse","year: 1994<br />log(value): 10.950237<br />country: Suisse<br />country: Suisse","year: 1995<br />log(value): 10.948142<br />country: Suisse<br />country: Suisse","year: 1996<br />log(value): 10.946048<br />country: Suisse<br />country: Suisse","year: 1997<br />log(value): 10.961152<br />country: Suisse<br />country: Suisse","year: 1998<br />log(value): 10.977820<br />country: Suisse<br />country: Suisse","year: 1999<br />log(value): 10.973966<br />country: Suisse<br />country: Suisse","year: 2000<br />log(value): 11.009952<br />country: Suisse<br />country: Suisse","year: 2001<br />log(value): 11.019269<br />country: Suisse<br />country: Suisse","year: 2002<br />log(value): 10.998389<br />country: Suisse<br />country: Suisse","year: 2003<br />log(value): 10.992677<br />country: Suisse<br />country: Suisse","year: 2004<br />log(value): 11.000503<br />country: Suisse<br />country: Suisse","year: 2005<br />log(value): 11.017570<br />country: Suisse<br />country: Suisse","year: 2006<br />log(value): 11.062749<br />country: Suisse<br />country: Suisse","year: 2007<br />log(value): 11.089640<br />country: Suisse<br />country: Suisse","year: 2008<br />log(value): 11.121055<br />country: Suisse<br />country: Suisse","year: 2009<br />log(value): 11.079843<br />country: Suisse<br />country: Suisse","year: 2010<br />log(value): 11.098122<br />country: Suisse<br />country: Suisse","year: 2011<br />log(value): 11.109207<br />country: Suisse<br />country: Suisse","year: 2012<br />log(value): 11.110224<br />country: Suisse<br />country: Suisse","year: 2013<br />log(value): 11.114505<br />country: Suisse<br />country: Suisse","year: 2014<br />log(value): 11.128598<br />country: Suisse<br />country: Suisse","year: 2015<br />log(value): 11.132291<br />country: Suisse<br />country: Suisse","year: 2016<br />log(value): 11.141143<br />country: Suisse<br />country: Suisse","year: 2017<br />log(value): 11.144822<br />country: Suisse<br />country: Suisse","year: 2018<br />log(value): 11.165101<br />country: Suisse<br />country: Suisse","year: 2019<br />log(value): 11.168734<br />country: Suisse<br />country: Suisse","year: 2020<br />log(value): 11.136769<br />country: Suisse<br />country: Suisse","year: 2021<br />log(value): 11.171603<br />country: Suisse<br />country: Suisse","year: 2022<br />log(value): 11.199516<br />country: Suisse<br />country: Suisse"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(255,0,0,1)","dash":"solid"},"hoveron":"points","name":"Suisse","legendgroup":"Suisse","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"name":"États-Unis","legendgroup":"États-Unis","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"name":"Norvège","legendgroup":"Norvège","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"name":"Suisse","legendgroup":"Suisse","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":21.291338582677163,"r":98.267716535433081,"b":20.633804336101825,"l":45.423363175493485},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1946.4000000000001,2025.5999999999999],"tickmode":"array","ticktext":["1960","1980","2000","2020"],"tickvals":[1960,1980,2000,2020],"categoryorder":"array","categoryarray":["1960","1980","2000","2020"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[9.0243390363064968,11.390074932194096],"tickmode":"array","ticktext":["9.5","10.0","10.5","11.0"],"tickvals":[9.5,10,10.5,11],"categoryorder":"array","categoryarray":["9.5","10.0","10.5","11.0"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Log","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"country","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"42c049576a1":{"x":{},"y":{},"type":"scatter"},"42c04933645f":{"x":{},"y":{},"colour":{}},"42c033a24738":{"x":{},"y":{},"label":{},"colour":{}}},"cur_data":"42c049576a1","visdat":{"42c049576a1":["function (y) ","x"],"42c04933645f":["function (y) ","x"],"42c033a24738":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gdpcap-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Real GDP per capita growth in Switzerland in international comparison. Constant 2022 euros at ppp. Data source: World Inequality Database (WID).
</figcaption>
</figure>
</div>
</div>
<p>Figure&nbsp;1 shows the evolution of the Swiss real gdp per capita at purchasing power parities (ppp) compared to a sample of Western countries, using high-quality data provided by the World Inequality Database (WID). One can see that Switzerland’s gdp per capita was indeed well in advance compared to other Western countries in the post-war period. However, starting from the 1970s, gdp per capita growth has slowed down in Switzerland, and the difference with other countries is gradually getting smaller. Contrary to what is argued by EconomieSuisse, Switzerland has even been caught up and surpassed by Norway which is, interestingly, not taken into account in EconomieSuisse’s article, showing that the lobby has carefully chosen the countries for the comparison. Norway’s growth has been particularly impressive and the country would have surpassed Switzerland shortly after 2008 if the Great Recession did not happen. Moreover, The United States are now very close to Switzerland, at least when we take a longer historical perspective.</p>
<p>Another issue of the debate about Switzerland’s economic growth is the excessive focus on GDP as an indicator of a country’s economic wealth and performance. In that matter, other indicators such as national income<sup>1</sup> also deserves close attention.</p>
<div class="cell">
<div id="fig-nationalincome" class="cell-output-display quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-nationalincome-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="plotly html-widget html-fill-item" id="htmlwidget-32339ae1cf362c46a005" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-32339ae1cf362c46a005">{"x":{"data":[{"x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,null,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[8.8624909539745698,8.9524007095044826,9.0367647418238182,9.120471209951468,9.1870404241778605,9.2942556852697251,9.3568073073015974,9.4031621579064772,9.431827872795413,9.4938488295012959,9.5657040295546185,9.5944151971296456,9.6268810917629164,9.6433910228134145,9.700174544795102,9.7470478131432454,9.7700897167067851,9.7598798785555765,9.8140929342453127,9.8870712951118112,9.9292517176382571,9.9513239381938856,9.9867999412795161,10.030466438677351,10.030204732936426,10.014612194651995,10.062768177380621,10.090048236520621,10.117891000176741,10.149440351827332,10.152698552383926,10.14603090100174,10.130657487079297,10.139836152161637,10.162406303417704,10.176958516324099,10.189082212858329,10.191245414615803,10.223668162649561,10.255881854084254,10.297927749035976,10.414354307456222,10.422060074448753,10.397160304321522,10.415683233345209,10.424488560046807,10.430561937266042,10.445041424572109,10.459841580998807,10.475911524363832,10.498130481671694,10.505784832939106,10.497039645924264,10.4951415186685,10.52221626158857,10.529416809563752,10.575641841215967,10.5976896839397,10.599181913775206,10.536287910502361,10.568670696165073,10.592427969561067,10.596791863250484,10.597423486947953,10.615247471382474,10.630523499440022,10.65218934291852,10.674299355364642,10.6823263272637,10.677920990318185,10.632340767379958,10.665470345218418,10.689266830035599,null,9.2796636342114329,9.3333039299688156,9.3132307403305941,9.3397847227618573,9.3773035063496497,9.4226507032852727,9.4482413192938619,9.4621675932007552,9.4520929522569066,9.4787104270630476,9.5596198517586366,9.6071871487258438,9.657106822099232,9.6960570582506165,9.760878983862094,9.7955577000686862,9.8210767765340652,9.8528395814616392,9.8884323597186459,9.9475047154648255,9.9988114867913147,10.03548093240015,10.083550986689142,10.145033398196656,10.180822305645236,10.156186826475489,10.212089550667837,10.202772223757719,10.222805299376464,10.233453925417537,10.247054416239827,10.229764785552808,10.224260726212327,10.219891438702748,10.244315574649365,10.258615579114913,10.276903430292762,10.300312592521882,10.346070719255238,10.374447849029792,10.400789950273879,10.415838013147285,10.42368709254545,10.418827265453768,10.457068199877302,10.474880869439323,10.479987719422299,10.517041022524916,10.531671601824376,10.558321108213805,10.591377229110945,10.585937367256738,10.592817777781597,10.591435264255024,10.615831108030971,10.631454615726778,10.648200662690268,10.67485326797765,10.670892663469784,10.625316155406757,10.64559838459666,10.63477432358526,10.65663715432704,10.657886845058206,10.665871805763489,10.673648133972518,10.672492916307906,10.68352616997651,10.692818996686929,10.69772338758383,10.628016440796586,10.69320275784529,10.746353321414231,null,9.6271970293089524,9.6673458399487089,9.7164561739234507,9.7312563880734029,9.6904799955316285,9.7554035771535386,9.8109767029483699,9.8123346950794001,9.8159899027896085,9.8364723456093941,9.8269889620532105,9.8782327835904766,9.9391478194318239,9.9748853186112374,10.019669734175874,10.062803378570861,10.10646100416445,10.111184525342498,10.13828455386939,10.168602568676398,10.155655681866129,10.165111331373332,10.20678832804353,10.253578647930929,10.266043802638357,10.250768980221666,10.27481552604872,10.277162433725476,10.291752322654306,10.300954799514328,10.296334019415225,10.303944477270212,10.246141549785243,10.253450715279069,10.291246894597169,10.321544338351339,10.321994935879996,10.352591027861118,10.392492765288901,10.395916301772361,10.372957229879916,10.336560784850908,10.324380582528594,10.334958836149287,10.370178460148576,10.388364569406022,10.391825620910204,10.425635675202956,10.451227396930006,10.496385264312787,10.543659435460144,10.53715557311267,10.555362431473625,10.562530522093274,10.587120034066583,10.606594739645006,10.63130787168866,10.635620043544312,10.623180335157642,10.569722287686414,10.588294537653882,10.594523152778702,10.611066817751526,10.622859449464606,10.639749733467868,10.628099860348804,10.627226814427662,10.65133181227999,10.659361698732368,10.652175013881253,10.57580849724136,10.61617882697537,10.643258533345156,null,9.5211133872249256,9.5192931993794971,9.5208000391757412,9.5751505271674215,9.5874789041400508,9.5890451826395555,9.5907905800649615,9.6625354282273239,9.6741554918375741,9.742386405744595,9.758936251721618,9.814626808338847,9.8602280062656522,9.8490787151439303,9.933379915644915,9.9644229731084497,9.9817187912592651,10.031991900091231,10.076253327090706,10.147687407710647,10.155985593959445,10.173081897634908,10.211464109243796,10.258458846587159,10.196655963720719,10.183922897017091,10.247497675630074,10.259423679116518,10.285945429084419,10.30466529969962,10.269364657915119,10.234177597316773,10.258986243460441,10.28455888031578,10.317574789695822,10.352473257060833,10.40910183783541,10.399793839017885,10.384746372568562,10.383874290260414,10.390741661122137,10.394395946599333,10.42672379697062,10.4204492639516,10.463033752336067,10.499274876638998,10.52680970564194,10.551019752317366,10.574879216201712,10.603670911036186,10.628039725709991,10.636285985765452,10.645874003545039,10.653297415609327,10.696818053928558,10.746140138178768,10.78835617018067,10.776083964543648,10.765420281756088,10.705055835626057,10.740742657127681,10.743330826407757,10.737951650653047,10.753751776769684,10.77828020097675,10.780229031693789,10.800182242013973,10.819401341376183,10.836706557253825,10.830244290201065,10.812258664803494,10.855457559066361,10.929494128042936,null,9.7634349659280257,9.8289879306207268,9.8541819865700049,9.8846856238740131,9.8645068877689273,9.933022582650457,9.9486271089573162,9.9495662821823156,9.9230170641082314,9.9824774646764176,9.9915432136545679,10.00789281008017,10.059875128644395,10.092766876995318,10.136033165619596,10.187434597197718,10.238334197169776,10.250775470380772,10.279671473797361,10.291298407339182,10.270376084257041,10.275275411397148,10.311073736238837,10.352489418058891,10.321024238411391,10.284639762953093,10.320007978134536,10.349391397730798,10.383124466712967,10.386355125943377,10.355996351410154,10.36429363876282,10.33170713935543,10.350956903233811,10.418505034176697,10.438373766769555,10.448365660986841,10.480787220605649,10.523224424441644,10.538783121991584,10.541687243948131,10.524230013046132,10.546575143171594,10.557161099961229,10.590895032484285,10.61302466631952,10.645700809198306,10.683594103108364,10.723630516326811,10.754948644635126,10.787926532527802,10.784512674554243,10.783433724121121,10.795558128144844,10.825416493793053,10.847856249005202,10.870868700019326,10.864058289275086,10.839119387573524,10.788920475845233,10.823687630947617,10.84417174201436,10.86664429191036,10.873224303721937,10.892896627757198,10.916277814838489,10.910293369738996,10.924253642631827,10.939073491714154,10.943757336605442,10.90332186487124,10.963978221692861,10.977011699152401,null,9.2124587765718893,9.2521401507096126,9.2703881215514645,9.302650683945755,9.3553508817099722,9.4033524888863411,9.4407540954277192,9.4885735261714856,9.504152959361619,9.5180691007701625,9.5941814774907623,9.6366001902669183,9.7002482164951189,9.740478102752947,9.7965497714266476,9.8351005207055504,9.8788351128888134,9.9135794921741809,9.9438844679230485,9.9995268709996967,10.041665815465764,10.084005604826416,10.114334343643687,10.16839874774325,10.197119837311034,10.164786669165785,10.196445725608033,10.218903178738579,10.240959193158181,10.269689162842427,10.274137836890178,10.271465318734693,10.278582954308876,10.273538986977838,10.27723016757775,10.289709397674715,10.30761171197436,10.324954236487326,10.360839665917316,10.393268771999912,10.408594575227143,10.40509023745523,10.412683667373289,10.398113688256322,10.412771415399344,10.426299349263301,10.436765466609375,10.459534912627934,10.489861411564528,10.52413492484564,10.549726861302323,10.556412176064763,10.54666175880747,10.548502301073421,10.568363928279613,10.58050664435641,10.599457403112162,10.612077522054939,10.595502111922803,10.553919390030462,10.569872492677758,10.572782640170061,10.557739493170635,10.560414379558882,10.56406079630135,10.571514792714186,10.576397879787423,10.596441336896234,10.607268112796472,10.605267260383851,10.509678222783059,10.585006139823022,10.611361706911232,null,9.0057420646457196,9.064041408258392,9.124810446186542,9.1798734531215356,9.2141493286816605,9.2595921819517422,9.2932294464400407,9.3429615141984783,9.3855616060328675,9.4366256469043375,9.4825529971323341,9.551787996516456,9.6027864794765971,9.6449331926563371,9.6593243786873533,9.6882073042616739,9.747718421222535,9.8094515606095332,9.8670480087435006,9.9182066481996589,9.9563342966955393,9.968622968933774,9.998197011034442,10.055163518497695,10.086529970280719,10.044865692507882,10.111914836824253,10.130327555547078,10.15965865196282,10.219295360831593,10.248308771350574,10.231914829359877,10.22394340534351,10.230479864181692,10.254401771314365,10.269799893715948,10.290339447914079,10.315982562877279,10.349655617679867,10.372507463714864,10.375840653984257,10.380153144671647,10.368157247236809,10.351283132839791,10.365801050876332,10.3918479512164,10.400707576465516,10.421826379374458,10.429213515820704,10.449732438472346,10.478197682681154,10.494619299740215,10.48941568588236,10.478167473099095,10.486839590666676,10.490221722092619,10.507834666445367,10.514010188055297,10.476859072230058,10.410026465471878,10.422825682892105,10.416422211722583,10.369784137927406,10.343249257390505,10.343295583234832,10.34471037170092,10.370704060740914,10.390902981512417,10.406474659239683,10.401825502856122,10.294943938416873,10.378719592913328,10.424077989948033,null,9.153677995089561,9.1997609062591721,9.225007501816382,9.2564764075365247,9.30119961558926,9.3140334983127211,9.3637236345569939,9.3882093725039688,9.3768263214349492,9.4132814771973283,9.4555592679675744,9.5167977132897921,9.531040944328165,9.5673173632940127,9.6027299736865679,9.6460091035102327,9.6754963767032898,9.7005624550404601,9.7267214714704266,9.7743745956605093,9.7950666252590395,9.8522140526895061,9.877944216558209,9.9293963521004862,9.9669866039246617,9.9819653409774389,10.006745149609799,10.014169080962944,10.016068592354454,10.057333950360027,10.131119933960839,10.134879984096608,10.111875424300612,10.130478596747867,10.186900262967981,10.237761692970151,10.180077454946925,10.166526650790532,10.112586689141343,10.122103091859435,10.135922928827183,10.147545610818369,10.157407898019056,10.176056513827469,10.215076198242484,10.26370405674032,10.344266495467377,10.401687247667427,10.389416356612896,10.453753699910697,10.6079264658475,10.622437151575227,10.607681462684427,10.621661997001519,10.708830980562318,10.816165612562655,10.875802514751667,10.908553468477267,10.968189101555312,10.859944533096225,10.902609624539219,10.947347143659885,10.957733222963068,10.952593130626735,10.978825944718416,10.987688185373573,10.983257042125542,11.000769032738008,11.005710292341194,10.936217911430568,10.919681670183707,10.948013117243786,11.136994335009085,null,9.4738216431285895,9.4730727225378288,9.4756808262706809,9.5528711542039044,9.6100178573937036,9.6732574508322493,9.6963461253048653,9.711655623173165,9.691872893659216,9.7266899784175465,9.8018419004426143,9.8317641995322109,9.8590967546978163,9.8850501025611948,9.9815552357476065,10.034319115773958,10.043162060654241,10.081110534126758,10.129136626405595,10.288668803775733,10.319191550520367,10.348551568298658,10.370862877689722,10.421527249191792,10.46717956992001,10.409415225902675,10.447767383534194,10.442971884259926,10.458731569620554,10.477401067659892,10.461672334213175,10.422844699142846,10.379864255536962,10.378480253142479,10.38891668829956,10.37367908600176,10.388033986338232,10.390143748676623,10.406989697978823,10.446727659339105,10.449327635366574,10.455191734662609,10.442181675057132,10.441336649836524,10.467931807497227,10.509224495663101,10.537455921685629,10.571454277217013,10.595648341772067,10.65153614501677,10.688516490297472,10.687144274160584,10.684028629832362,10.700211594988859,10.709154736597355,10.69709659742951,10.750384020947779,10.779119068307569,10.765028253967762,10.728400074670068,10.757209527612536,10.781248747699523,10.766311423221158,10.755999679263404,10.743461534394049,10.756671997934816,10.749588020620925,10.796217072195061,10.81720789378487,10.795741933982784,10.749920428932519,10.815269103316654,10.886594024465561,null,9.3529736229791229,9.3276406066584858,9.3494656595557668,9.4190964704751483,9.456535987013627,9.4714051001042883,9.471019031994981,9.4980888072259049,9.5062147109893615,9.5455852771627772,9.5757711128043059,9.6169097967688266,9.6506026738861816,9.680936944146513,9.685391503621835,9.7015705162694026,9.7320396902628801,9.7536731947598518,9.7526576046371005,9.7720244138847558,9.7684672405925852,9.7749732844960775,9.8001139505462476,9.8202930239225488,9.8218882293817629,9.6948777293230801,9.7794846196114324,9.8105301163586756,9.8432957148676223,9.8425854303450251,9.8078642537151595,9.8530987437149964,9.8697103362339327,9.9110752331418617,9.9516427294295191,9.961742800189441,10.001185588232923,10.018565786846487,10.04383384153884,10.078620197580587,10.086319150070521,10.093284916551998,10.10493673353613,10.125982065270358,10.163824205094905,10.208044039102377,10.215881355688211,10.258409000999869,10.310396274798444,10.376424472350564,10.384983185651206,10.417156034548634,10.435196025830477,10.461535111442958,10.485411073866249,10.497869774409672,10.509880298548453,10.519330011008412,10.546881707148982,10.551760916018219,10.466442009479895,10.477114140636798,10.445583392850054,10.459187070458528,10.468347096491604,10.490686692101255,10.499902927260147,10.52235720541478,10.534767294771793,10.523138789768341,10.391239939689413,10.474366755104523,10.51746267275746,null,9.2043430338421039,9.2574692617550411,9.2599160465991019,9.2808646675677462,9.3371284469539546,9.3393128912108576,9.3785211847197214,9.3950682479272167,9.4179939954027727,9.465372095877985,9.5047842095804498,9.5582882183367772,9.5866009559455705,9.6214797641748397,9.6821385275958729,9.7086614690061559,9.7276814201916615,9.7690435836405154,9.8016022413541108,9.8443530805197828,9.8703724811588938,9.8675479167565925,9.8932896855984307,9.921638252425744,9.9261566655729307,9.9934131341037329,10.020552392573991,9.9733753361364226,10.003533672776996,10.02815396772956,10.021675919368064,10.014291531130159,10.001474949938576,10.015922834412823,10.053613954379321,10.07729282349267,10.137469127716168,10.170292829554649,10.192284666847611,10.215770728513405,10.195646524949712,10.179051573337285,10.14201072090477,10.087800263166907,10.145262567170271,10.187166505686788,10.214908352286523,10.236396523259081,10.301575818526524,10.340761221542072,10.387843123199854,10.401301754697545,10.417630269659842,10.460102393559824,10.488417098090496,10.522969629784544,10.570045776518986,10.6026836415062,10.602753487777997,10.526708090065855,10.573871965905601,10.593995225157883,10.600948819031082,10.63097849631515,10.67043104490304,10.700438032672047,10.708091842203599,10.740028054460966,10.75277380903858,10.762396098711751,10.742346358345246,10.793778389498611,10.816705927551762,null,9.9714893991200793,10.039465278570548,10.029436903994275,10.048918188767821,10.095314242087383,10.145569471507216,10.196600967258552,10.22551845611922,10.20025308764513,10.241941730955368,10.294682267880006,10.355410312970998,10.384608102943476,10.413423729861883,10.443303170200924,10.460751834991262,10.471879944587373,10.485655690814632,10.507036881335292,10.546304398597998,10.538793627451566,10.586286996962887,10.605917004213357,10.619159292278159,10.63432100758102,10.605949862251352,10.622076562514387,10.642115240675084,10.640072350290934,10.64659244398892,10.646229575805824,10.657790562032314,10.670857336000868,10.650448050556557,10.685785551098794,10.712420150396376,10.723399529482867,10.725658263685585,10.745664804241391,10.737783593690155,10.744539851372519,10.72924742822225,10.701868301446432,10.710567871844995,10.709066384492004,10.724780472214118,10.728225966390591,10.762310285712712,10.781832472624778,10.787430209602269,10.830372030009961,10.810750601226818,10.770461282186051,10.789177027661799,10.798391613218756,10.831679821313305,10.869838519792946,10.84885847893354,10.807039837812173,10.833364178784393,10.894400483326757,10.864087176949592,10.87617028129444,10.878360822592493,10.875130319953104,10.897519106623292,10.895384938407714,10.879281194990892,10.894694690407572,10.909994219647364,10.887067870396391,10.929278658218001,10.961770005068063],"text":["year: 1950<br />log(value):  8.862491<br />country: Allemagne","year: 1951<br />log(value):  8.952401<br />country: Allemagne","year: 1952<br />log(value):  9.036765<br />country: Allemagne","year: 1953<br />log(value):  9.120471<br />country: Allemagne","year: 1954<br />log(value):  9.187040<br />country: Allemagne","year: 1955<br />log(value):  9.294256<br />country: Allemagne","year: 1956<br />log(value):  9.356807<br />country: Allemagne","year: 1957<br />log(value):  9.403162<br />country: Allemagne","year: 1958<br />log(value):  9.431828<br />country: Allemagne","year: 1959<br />log(value):  9.493849<br />country: Allemagne","year: 1960<br />log(value):  9.565704<br />country: Allemagne","year: 1961<br />log(value):  9.594415<br />country: Allemagne","year: 1962<br />log(value):  9.626881<br />country: Allemagne","year: 1963<br />log(value):  9.643391<br />country: Allemagne","year: 1964<br />log(value):  9.700175<br />country: Allemagne","year: 1965<br />log(value):  9.747048<br />country: Allemagne","year: 1966<br />log(value):  9.770090<br />country: Allemagne","year: 1967<br />log(value):  9.759880<br />country: Allemagne","year: 1968<br />log(value):  9.814093<br />country: Allemagne","year: 1969<br />log(value):  9.887071<br />country: Allemagne","year: 1970<br />log(value):  9.929252<br />country: Allemagne","year: 1971<br />log(value):  9.951324<br />country: Allemagne","year: 1972<br />log(value):  9.986800<br />country: Allemagne","year: 1973<br />log(value): 10.030466<br />country: Allemagne","year: 1974<br />log(value): 10.030205<br />country: Allemagne","year: 1975<br />log(value): 10.014612<br />country: Allemagne","year: 1976<br />log(value): 10.062768<br />country: Allemagne","year: 1977<br />log(value): 10.090048<br />country: Allemagne","year: 1978<br />log(value): 10.117891<br />country: Allemagne","year: 1979<br />log(value): 10.149440<br />country: Allemagne","year: 1980<br />log(value): 10.152699<br />country: Allemagne","year: 1981<br />log(value): 10.146031<br />country: Allemagne","year: 1982<br />log(value): 10.130657<br />country: Allemagne","year: 1983<br />log(value): 10.139836<br />country: Allemagne","year: 1984<br />log(value): 10.162406<br />country: Allemagne","year: 1985<br />log(value): 10.176959<br />country: Allemagne","year: 1986<br />log(value): 10.189082<br />country: Allemagne","year: 1987<br />log(value): 10.191245<br />country: Allemagne","year: 1988<br />log(value): 10.223668<br />country: Allemagne","year: 1989<br />log(value): 10.255882<br />country: Allemagne","year: 1990<br />log(value): 10.297928<br />country: Allemagne","year: 1991<br />log(value): 10.414354<br />country: Allemagne","year: 1992<br />log(value): 10.422060<br />country: Allemagne","year: 1993<br />log(value): 10.397160<br />country: Allemagne","year: 1994<br />log(value): 10.415683<br />country: Allemagne","year: 1995<br />log(value): 10.424489<br />country: Allemagne","year: 1996<br />log(value): 10.430562<br />country: Allemagne","year: 1997<br />log(value): 10.445041<br />country: Allemagne","year: 1998<br />log(value): 10.459842<br />country: Allemagne","year: 1999<br />log(value): 10.475912<br />country: Allemagne","year: 2000<br />log(value): 10.498130<br />country: Allemagne","year: 2001<br />log(value): 10.505785<br />country: Allemagne","year: 2002<br />log(value): 10.497040<br />country: Allemagne","year: 2003<br />log(value): 10.495142<br />country: Allemagne","year: 2004<br />log(value): 10.522216<br />country: Allemagne","year: 2005<br />log(value): 10.529417<br />country: Allemagne","year: 2006<br />log(value): 10.575642<br />country: Allemagne","year: 2007<br />log(value): 10.597690<br />country: Allemagne","year: 2008<br />log(value): 10.599182<br />country: Allemagne","year: 2009<br />log(value): 10.536288<br />country: Allemagne","year: 2010<br />log(value): 10.568671<br />country: Allemagne","year: 2011<br />log(value): 10.592428<br />country: Allemagne","year: 2012<br />log(value): 10.596792<br />country: Allemagne","year: 2013<br />log(value): 10.597423<br />country: Allemagne","year: 2014<br />log(value): 10.615247<br />country: Allemagne","year: 2015<br />log(value): 10.630523<br />country: Allemagne","year: 2016<br />log(value): 10.652189<br />country: Allemagne","year: 2017<br />log(value): 10.674299<br />country: Allemagne","year: 2018<br />log(value): 10.682326<br />country: Allemagne","year: 2019<br />log(value): 10.677921<br />country: Allemagne","year: 2020<br />log(value): 10.632341<br />country: Allemagne","year: 2021<br />log(value): 10.665470<br />country: Allemagne","year: 2022<br />log(value): 10.689267<br />country: Allemagne",null,"year: 1950<br />log(value):  9.279664<br />country: Belgique","year: 1951<br />log(value):  9.333304<br />country: Belgique","year: 1952<br />log(value):  9.313231<br />country: Belgique","year: 1953<br />log(value):  9.339785<br />country: Belgique","year: 1954<br />log(value):  9.377304<br />country: Belgique","year: 1955<br />log(value):  9.422651<br />country: Belgique","year: 1956<br />log(value):  9.448241<br />country: Belgique","year: 1957<br />log(value):  9.462168<br />country: Belgique","year: 1958<br />log(value):  9.452093<br />country: Belgique","year: 1959<br />log(value):  9.478710<br />country: Belgique","year: 1960<br />log(value):  9.559620<br />country: Belgique","year: 1961<br />log(value):  9.607187<br />country: Belgique","year: 1962<br />log(value):  9.657107<br />country: Belgique","year: 1963<br />log(value):  9.696057<br />country: Belgique","year: 1964<br />log(value):  9.760879<br />country: Belgique","year: 1965<br />log(value):  9.795558<br />country: Belgique","year: 1966<br />log(value):  9.821077<br />country: Belgique","year: 1967<br />log(value):  9.852840<br />country: Belgique","year: 1968<br />log(value):  9.888432<br />country: Belgique","year: 1969<br />log(value):  9.947505<br />country: Belgique","year: 1970<br />log(value):  9.998811<br />country: Belgique","year: 1971<br />log(value): 10.035481<br />country: Belgique","year: 1972<br />log(value): 10.083551<br />country: Belgique","year: 1973<br />log(value): 10.145033<br />country: Belgique","year: 1974<br />log(value): 10.180822<br />country: Belgique","year: 1975<br />log(value): 10.156187<br />country: Belgique","year: 1976<br />log(value): 10.212090<br />country: Belgique","year: 1977<br />log(value): 10.202772<br />country: Belgique","year: 1978<br />log(value): 10.222805<br />country: Belgique","year: 1979<br />log(value): 10.233454<br />country: Belgique","year: 1980<br />log(value): 10.247054<br />country: Belgique","year: 1981<br />log(value): 10.229765<br />country: Belgique","year: 1982<br />log(value): 10.224261<br />country: Belgique","year: 1983<br />log(value): 10.219891<br />country: Belgique","year: 1984<br />log(value): 10.244316<br />country: Belgique","year: 1985<br />log(value): 10.258616<br />country: Belgique","year: 1986<br />log(value): 10.276903<br />country: Belgique","year: 1987<br />log(value): 10.300313<br />country: Belgique","year: 1988<br />log(value): 10.346071<br />country: Belgique","year: 1989<br />log(value): 10.374448<br />country: Belgique","year: 1990<br />log(value): 10.400790<br />country: Belgique","year: 1991<br />log(value): 10.415838<br />country: Belgique","year: 1992<br />log(value): 10.423687<br />country: Belgique","year: 1993<br />log(value): 10.418827<br />country: Belgique","year: 1994<br />log(value): 10.457068<br />country: Belgique","year: 1995<br />log(value): 10.474881<br />country: Belgique","year: 1996<br />log(value): 10.479988<br />country: Belgique","year: 1997<br />log(value): 10.517041<br />country: Belgique","year: 1998<br />log(value): 10.531672<br />country: Belgique","year: 1999<br />log(value): 10.558321<br />country: Belgique","year: 2000<br />log(value): 10.591377<br />country: Belgique","year: 2001<br />log(value): 10.585937<br />country: Belgique","year: 2002<br />log(value): 10.592818<br />country: Belgique","year: 2003<br />log(value): 10.591435<br />country: Belgique","year: 2004<br />log(value): 10.615831<br />country: Belgique","year: 2005<br />log(value): 10.631455<br />country: Belgique","year: 2006<br />log(value): 10.648201<br />country: Belgique","year: 2007<br />log(value): 10.674853<br />country: Belgique","year: 2008<br />log(value): 10.670893<br />country: Belgique","year: 2009<br />log(value): 10.625316<br />country: Belgique","year: 2010<br />log(value): 10.645598<br />country: Belgique","year: 2011<br />log(value): 10.634774<br />country: Belgique","year: 2012<br />log(value): 10.656637<br />country: Belgique","year: 2013<br />log(value): 10.657887<br />country: Belgique","year: 2014<br />log(value): 10.665872<br />country: Belgique","year: 2015<br />log(value): 10.673648<br />country: Belgique","year: 2016<br />log(value): 10.672493<br />country: Belgique","year: 2017<br />log(value): 10.683526<br />country: Belgique","year: 2018<br />log(value): 10.692819<br />country: Belgique","year: 2019<br />log(value): 10.697723<br />country: Belgique","year: 2020<br />log(value): 10.628016<br />country: Belgique","year: 2021<br />log(value): 10.693203<br />country: Belgique","year: 2022<br />log(value): 10.746353<br />country: Belgique",null,"year: 1950<br />log(value):  9.627197<br />country: Canada","year: 1951<br />log(value):  9.667346<br />country: Canada","year: 1952<br />log(value):  9.716456<br />country: Canada","year: 1953<br />log(value):  9.731256<br />country: Canada","year: 1954<br />log(value):  9.690480<br />country: Canada","year: 1955<br />log(value):  9.755404<br />country: Canada","year: 1956<br />log(value):  9.810977<br />country: Canada","year: 1957<br />log(value):  9.812335<br />country: Canada","year: 1958<br />log(value):  9.815990<br />country: Canada","year: 1959<br />log(value):  9.836472<br />country: Canada","year: 1960<br />log(value):  9.826989<br />country: Canada","year: 1961<br />log(value):  9.878233<br />country: Canada","year: 1962<br />log(value):  9.939148<br />country: Canada","year: 1963<br />log(value):  9.974885<br />country: Canada","year: 1964<br />log(value): 10.019670<br />country: Canada","year: 1965<br />log(value): 10.062803<br />country: Canada","year: 1966<br />log(value): 10.106461<br />country: Canada","year: 1967<br />log(value): 10.111185<br />country: Canada","year: 1968<br />log(value): 10.138285<br />country: Canada","year: 1969<br />log(value): 10.168603<br />country: Canada","year: 1970<br />log(value): 10.155656<br />country: Canada","year: 1971<br />log(value): 10.165111<br />country: Canada","year: 1972<br />log(value): 10.206788<br />country: Canada","year: 1973<br />log(value): 10.253579<br />country: Canada","year: 1974<br />log(value): 10.266044<br />country: Canada","year: 1975<br />log(value): 10.250769<br />country: Canada","year: 1976<br />log(value): 10.274816<br />country: Canada","year: 1977<br />log(value): 10.277162<br />country: Canada","year: 1978<br />log(value): 10.291752<br />country: Canada","year: 1979<br />log(value): 10.300955<br />country: Canada","year: 1980<br />log(value): 10.296334<br />country: Canada","year: 1981<br />log(value): 10.303944<br />country: Canada","year: 1982<br />log(value): 10.246142<br />country: Canada","year: 1983<br />log(value): 10.253451<br />country: Canada","year: 1984<br />log(value): 10.291247<br />country: Canada","year: 1985<br />log(value): 10.321544<br />country: Canada","year: 1986<br />log(value): 10.321995<br />country: Canada","year: 1987<br />log(value): 10.352591<br />country: Canada","year: 1988<br />log(value): 10.392493<br />country: Canada","year: 1989<br />log(value): 10.395916<br />country: Canada","year: 1990<br />log(value): 10.372957<br />country: Canada","year: 1991<br />log(value): 10.336561<br />country: Canada","year: 1992<br />log(value): 10.324381<br />country: Canada","year: 1993<br />log(value): 10.334959<br />country: Canada","year: 1994<br />log(value): 10.370178<br />country: Canada","year: 1995<br />log(value): 10.388365<br />country: Canada","year: 1996<br />log(value): 10.391826<br />country: Canada","year: 1997<br />log(value): 10.425636<br />country: Canada","year: 1998<br />log(value): 10.451227<br />country: Canada","year: 1999<br />log(value): 10.496385<br />country: Canada","year: 2000<br />log(value): 10.543659<br />country: Canada","year: 2001<br />log(value): 10.537156<br />country: Canada","year: 2002<br />log(value): 10.555362<br />country: Canada","year: 2003<br />log(value): 10.562531<br />country: Canada","year: 2004<br />log(value): 10.587120<br />country: Canada","year: 2005<br />log(value): 10.606595<br />country: Canada","year: 2006<br />log(value): 10.631308<br />country: Canada","year: 2007<br />log(value): 10.635620<br />country: Canada","year: 2008<br />log(value): 10.623180<br />country: Canada","year: 2009<br />log(value): 10.569722<br />country: Canada","year: 2010<br />log(value): 10.588295<br />country: Canada","year: 2011<br />log(value): 10.594523<br />country: Canada","year: 2012<br />log(value): 10.611067<br />country: Canada","year: 2013<br />log(value): 10.622859<br />country: Canada","year: 2014<br />log(value): 10.639750<br />country: Canada","year: 2015<br />log(value): 10.628100<br />country: Canada","year: 2016<br />log(value): 10.627227<br />country: Canada","year: 2017<br />log(value): 10.651332<br />country: Canada","year: 2018<br />log(value): 10.659362<br />country: Canada","year: 2019<br />log(value): 10.652175<br />country: Canada","year: 2020<br />log(value): 10.575808<br />country: Canada","year: 2021<br />log(value): 10.616179<br />country: Canada","year: 2022<br />log(value): 10.643259<br />country: Canada",null,"year: 1950<br />log(value):  9.521113<br />country: Danemark","year: 1951<br />log(value):  9.519293<br />country: Danemark","year: 1952<br />log(value):  9.520800<br />country: Danemark","year: 1953<br />log(value):  9.575151<br />country: Danemark","year: 1954<br />log(value):  9.587479<br />country: Danemark","year: 1955<br />log(value):  9.589045<br />country: Danemark","year: 1956<br />log(value):  9.590791<br />country: Danemark","year: 1957<br />log(value):  9.662535<br />country: Danemark","year: 1958<br />log(value):  9.674155<br />country: Danemark","year: 1959<br />log(value):  9.742386<br />country: Danemark","year: 1960<br />log(value):  9.758936<br />country: Danemark","year: 1961<br />log(value):  9.814627<br />country: Danemark","year: 1962<br />log(value):  9.860228<br />country: Danemark","year: 1963<br />log(value):  9.849079<br />country: Danemark","year: 1964<br />log(value):  9.933380<br />country: Danemark","year: 1965<br />log(value):  9.964423<br />country: Danemark","year: 1966<br />log(value):  9.981719<br />country: Danemark","year: 1967<br />log(value): 10.031992<br />country: Danemark","year: 1968<br />log(value): 10.076253<br />country: Danemark","year: 1969<br />log(value): 10.147687<br />country: Danemark","year: 1970<br />log(value): 10.155986<br />country: Danemark","year: 1971<br />log(value): 10.173082<br />country: Danemark","year: 1972<br />log(value): 10.211464<br />country: Danemark","year: 1973<br />log(value): 10.258459<br />country: Danemark","year: 1974<br />log(value): 10.196656<br />country: Danemark","year: 1975<br />log(value): 10.183923<br />country: Danemark","year: 1976<br />log(value): 10.247498<br />country: Danemark","year: 1977<br />log(value): 10.259424<br />country: Danemark","year: 1978<br />log(value): 10.285945<br />country: Danemark","year: 1979<br />log(value): 10.304665<br />country: Danemark","year: 1980<br />log(value): 10.269365<br />country: Danemark","year: 1981<br />log(value): 10.234178<br />country: Danemark","year: 1982<br />log(value): 10.258986<br />country: Danemark","year: 1983<br />log(value): 10.284559<br />country: Danemark","year: 1984<br />log(value): 10.317575<br />country: Danemark","year: 1985<br />log(value): 10.352473<br />country: Danemark","year: 1986<br />log(value): 10.409102<br />country: Danemark","year: 1987<br />log(value): 10.399794<br />country: Danemark","year: 1988<br />log(value): 10.384746<br />country: Danemark","year: 1989<br />log(value): 10.383874<br />country: Danemark","year: 1990<br />log(value): 10.390742<br />country: Danemark","year: 1991<br />log(value): 10.394396<br />country: Danemark","year: 1992<br />log(value): 10.426724<br />country: Danemark","year: 1993<br />log(value): 10.420449<br />country: Danemark","year: 1994<br />log(value): 10.463034<br />country: Danemark","year: 1995<br />log(value): 10.499275<br />country: Danemark","year: 1996<br />log(value): 10.526810<br />country: Danemark","year: 1997<br />log(value): 10.551020<br />country: Danemark","year: 1998<br />log(value): 10.574879<br />country: Danemark","year: 1999<br />log(value): 10.603671<br />country: Danemark","year: 2000<br />log(value): 10.628040<br />country: Danemark","year: 2001<br />log(value): 10.636286<br />country: Danemark","year: 2002<br />log(value): 10.645874<br />country: Danemark","year: 2003<br />log(value): 10.653297<br />country: Danemark","year: 2004<br />log(value): 10.696818<br />country: Danemark","year: 2005<br />log(value): 10.746140<br />country: Danemark","year: 2006<br />log(value): 10.788356<br />country: Danemark","year: 2007<br />log(value): 10.776084<br />country: Danemark","year: 2008<br />log(value): 10.765420<br />country: Danemark","year: 2009<br />log(value): 10.705056<br />country: Danemark","year: 2010<br />log(value): 10.740743<br />country: Danemark","year: 2011<br />log(value): 10.743331<br />country: Danemark","year: 2012<br />log(value): 10.737952<br />country: Danemark","year: 2013<br />log(value): 10.753752<br />country: Danemark","year: 2014<br />log(value): 10.778280<br />country: Danemark","year: 2015<br />log(value): 10.780229<br />country: Danemark","year: 2016<br />log(value): 10.800182<br />country: Danemark","year: 2017<br />log(value): 10.819401<br />country: Danemark","year: 2018<br />log(value): 10.836707<br />country: Danemark","year: 2019<br />log(value): 10.830244<br />country: Danemark","year: 2020<br />log(value): 10.812259<br />country: Danemark","year: 2021<br />log(value): 10.855458<br />country: Danemark","year: 2022<br />log(value): 10.929494<br />country: Danemark",null,"year: 1950<br />log(value):  9.763435<br />country: États-Unis","year: 1951<br />log(value):  9.828988<br />country: États-Unis","year: 1952<br />log(value):  9.854182<br />country: États-Unis","year: 1953<br />log(value):  9.884686<br />country: États-Unis","year: 1954<br />log(value):  9.864507<br />country: États-Unis","year: 1955<br />log(value):  9.933023<br />country: États-Unis","year: 1956<br />log(value):  9.948627<br />country: États-Unis","year: 1957<br />log(value):  9.949566<br />country: États-Unis","year: 1958<br />log(value):  9.923017<br />country: États-Unis","year: 1959<br />log(value):  9.982477<br />country: États-Unis","year: 1960<br />log(value):  9.991543<br />country: États-Unis","year: 1961<br />log(value): 10.007893<br />country: États-Unis","year: 1962<br />log(value): 10.059875<br />country: États-Unis","year: 1963<br />log(value): 10.092767<br />country: États-Unis","year: 1964<br />log(value): 10.136033<br />country: États-Unis","year: 1965<br />log(value): 10.187435<br />country: États-Unis","year: 1966<br />log(value): 10.238334<br />country: États-Unis","year: 1967<br />log(value): 10.250775<br />country: États-Unis","year: 1968<br />log(value): 10.279671<br />country: États-Unis","year: 1969<br />log(value): 10.291298<br />country: États-Unis","year: 1970<br />log(value): 10.270376<br />country: États-Unis","year: 1971<br />log(value): 10.275275<br />country: États-Unis","year: 1972<br />log(value): 10.311074<br />country: États-Unis","year: 1973<br />log(value): 10.352489<br />country: États-Unis","year: 1974<br />log(value): 10.321024<br />country: États-Unis","year: 1975<br />log(value): 10.284640<br />country: États-Unis","year: 1976<br />log(value): 10.320008<br />country: États-Unis","year: 1977<br />log(value): 10.349391<br />country: États-Unis","year: 1978<br />log(value): 10.383124<br />country: États-Unis","year: 1979<br />log(value): 10.386355<br />country: États-Unis","year: 1980<br />log(value): 10.355996<br />country: États-Unis","year: 1981<br />log(value): 10.364294<br />country: États-Unis","year: 1982<br />log(value): 10.331707<br />country: États-Unis","year: 1983<br />log(value): 10.350957<br />country: États-Unis","year: 1984<br />log(value): 10.418505<br />country: États-Unis","year: 1985<br />log(value): 10.438374<br />country: États-Unis","year: 1986<br />log(value): 10.448366<br />country: États-Unis","year: 1987<br />log(value): 10.480787<br />country: États-Unis","year: 1988<br />log(value): 10.523224<br />country: États-Unis","year: 1989<br />log(value): 10.538783<br />country: États-Unis","year: 1990<br />log(value): 10.541687<br />country: États-Unis","year: 1991<br />log(value): 10.524230<br />country: États-Unis","year: 1992<br />log(value): 10.546575<br />country: États-Unis","year: 1993<br />log(value): 10.557161<br />country: États-Unis","year: 1994<br />log(value): 10.590895<br />country: États-Unis","year: 1995<br />log(value): 10.613025<br />country: États-Unis","year: 1996<br />log(value): 10.645701<br />country: États-Unis","year: 1997<br />log(value): 10.683594<br />country: États-Unis","year: 1998<br />log(value): 10.723631<br />country: États-Unis","year: 1999<br />log(value): 10.754949<br />country: États-Unis","year: 2000<br />log(value): 10.787927<br />country: États-Unis","year: 2001<br />log(value): 10.784513<br />country: États-Unis","year: 2002<br />log(value): 10.783434<br />country: États-Unis","year: 2003<br />log(value): 10.795558<br />country: États-Unis","year: 2004<br />log(value): 10.825416<br />country: États-Unis","year: 2005<br />log(value): 10.847856<br />country: États-Unis","year: 2006<br />log(value): 10.870869<br />country: États-Unis","year: 2007<br />log(value): 10.864058<br />country: États-Unis","year: 2008<br />log(value): 10.839119<br />country: États-Unis","year: 2009<br />log(value): 10.788920<br />country: États-Unis","year: 2010<br />log(value): 10.823688<br />country: États-Unis","year: 2011<br />log(value): 10.844172<br />country: États-Unis","year: 2012<br />log(value): 10.866644<br />country: États-Unis","year: 2013<br />log(value): 10.873224<br />country: États-Unis","year: 2014<br />log(value): 10.892897<br />country: États-Unis","year: 2015<br />log(value): 10.916278<br />country: États-Unis","year: 2016<br />log(value): 10.910293<br />country: États-Unis","year: 2017<br />log(value): 10.924254<br />country: États-Unis","year: 2018<br />log(value): 10.939073<br />country: États-Unis","year: 2019<br />log(value): 10.943757<br />country: États-Unis","year: 2020<br />log(value): 10.903322<br />country: États-Unis","year: 2021<br />log(value): 10.963978<br />country: États-Unis","year: 2022<br />log(value): 10.977012<br />country: États-Unis",null,"year: 1950<br />log(value):  9.212459<br />country: France","year: 1951<br />log(value):  9.252140<br />country: France","year: 1952<br />log(value):  9.270388<br />country: France","year: 1953<br />log(value):  9.302651<br />country: France","year: 1954<br />log(value):  9.355351<br />country: France","year: 1955<br />log(value):  9.403352<br />country: France","year: 1956<br />log(value):  9.440754<br />country: France","year: 1957<br />log(value):  9.488574<br />country: France","year: 1958<br />log(value):  9.504153<br />country: France","year: 1959<br />log(value):  9.518069<br />country: France","year: 1960<br />log(value):  9.594181<br />country: France","year: 1961<br />log(value):  9.636600<br />country: France","year: 1962<br />log(value):  9.700248<br />country: France","year: 1963<br />log(value):  9.740478<br />country: France","year: 1964<br />log(value):  9.796550<br />country: France","year: 1965<br />log(value):  9.835101<br />country: France","year: 1966<br />log(value):  9.878835<br />country: France","year: 1967<br />log(value):  9.913579<br />country: France","year: 1968<br />log(value):  9.943884<br />country: France","year: 1969<br />log(value):  9.999527<br />country: France","year: 1970<br />log(value): 10.041666<br />country: France","year: 1971<br />log(value): 10.084006<br />country: France","year: 1972<br />log(value): 10.114334<br />country: France","year: 1973<br />log(value): 10.168399<br />country: France","year: 1974<br />log(value): 10.197120<br />country: France","year: 1975<br />log(value): 10.164787<br />country: France","year: 1976<br />log(value): 10.196446<br />country: France","year: 1977<br />log(value): 10.218903<br />country: France","year: 1978<br />log(value): 10.240959<br />country: France","year: 1979<br />log(value): 10.269689<br />country: France","year: 1980<br />log(value): 10.274138<br />country: France","year: 1981<br />log(value): 10.271465<br />country: France","year: 1982<br />log(value): 10.278583<br />country: France","year: 1983<br />log(value): 10.273539<br />country: France","year: 1984<br />log(value): 10.277230<br />country: France","year: 1985<br />log(value): 10.289709<br />country: France","year: 1986<br />log(value): 10.307612<br />country: France","year: 1987<br />log(value): 10.324954<br />country: France","year: 1988<br />log(value): 10.360840<br />country: France","year: 1989<br />log(value): 10.393269<br />country: France","year: 1990<br />log(value): 10.408595<br />country: France","year: 1991<br />log(value): 10.405090<br />country: France","year: 1992<br />log(value): 10.412684<br />country: France","year: 1993<br />log(value): 10.398114<br />country: France","year: 1994<br />log(value): 10.412771<br />country: France","year: 1995<br />log(value): 10.426299<br />country: France","year: 1996<br />log(value): 10.436765<br />country: France","year: 1997<br />log(value): 10.459535<br />country: France","year: 1998<br />log(value): 10.489861<br />country: France","year: 1999<br />log(value): 10.524135<br />country: France","year: 2000<br />log(value): 10.549727<br />country: France","year: 2001<br />log(value): 10.556412<br />country: France","year: 2002<br />log(value): 10.546662<br />country: France","year: 2003<br />log(value): 10.548502<br />country: France","year: 2004<br />log(value): 10.568364<br />country: France","year: 2005<br />log(value): 10.580507<br />country: France","year: 2006<br />log(value): 10.599457<br />country: France","year: 2007<br />log(value): 10.612078<br />country: France","year: 2008<br />log(value): 10.595502<br />country: France","year: 2009<br />log(value): 10.553919<br />country: France","year: 2010<br />log(value): 10.569872<br />country: France","year: 2011<br />log(value): 10.572783<br />country: France","year: 2012<br />log(value): 10.557739<br />country: France","year: 2013<br />log(value): 10.560414<br />country: France","year: 2014<br />log(value): 10.564061<br />country: France","year: 2015<br />log(value): 10.571515<br />country: France","year: 2016<br />log(value): 10.576398<br />country: France","year: 2017<br />log(value): 10.596441<br />country: France","year: 2018<br />log(value): 10.607268<br />country: France","year: 2019<br />log(value): 10.605267<br />country: France","year: 2020<br />log(value): 10.509678<br />country: France","year: 2021<br />log(value): 10.585006<br />country: France","year: 2022<br />log(value): 10.611362<br />country: France",null,"year: 1950<br />log(value):  9.005742<br />country: Italie","year: 1951<br />log(value):  9.064041<br />country: Italie","year: 1952<br />log(value):  9.124810<br />country: Italie","year: 1953<br />log(value):  9.179873<br />country: Italie","year: 1954<br />log(value):  9.214149<br />country: Italie","year: 1955<br />log(value):  9.259592<br />country: Italie","year: 1956<br />log(value):  9.293229<br />country: Italie","year: 1957<br />log(value):  9.342962<br />country: Italie","year: 1958<br />log(value):  9.385562<br />country: Italie","year: 1959<br />log(value):  9.436626<br />country: Italie","year: 1960<br />log(value):  9.482553<br />country: Italie","year: 1961<br />log(value):  9.551788<br />country: Italie","year: 1962<br />log(value):  9.602786<br />country: Italie","year: 1963<br />log(value):  9.644933<br />country: Italie","year: 1964<br />log(value):  9.659324<br />country: Italie","year: 1965<br />log(value):  9.688207<br />country: Italie","year: 1966<br />log(value):  9.747718<br />country: Italie","year: 1967<br />log(value):  9.809452<br />country: Italie","year: 1968<br />log(value):  9.867048<br />country: Italie","year: 1969<br />log(value):  9.918207<br />country: Italie","year: 1970<br />log(value):  9.956334<br />country: Italie","year: 1971<br />log(value):  9.968623<br />country: Italie","year: 1972<br />log(value):  9.998197<br />country: Italie","year: 1973<br />log(value): 10.055164<br />country: Italie","year: 1974<br />log(value): 10.086530<br />country: Italie","year: 1975<br />log(value): 10.044866<br />country: Italie","year: 1976<br />log(value): 10.111915<br />country: Italie","year: 1977<br />log(value): 10.130328<br />country: Italie","year: 1978<br />log(value): 10.159659<br />country: Italie","year: 1979<br />log(value): 10.219295<br />country: Italie","year: 1980<br />log(value): 10.248309<br />country: Italie","year: 1981<br />log(value): 10.231915<br />country: Italie","year: 1982<br />log(value): 10.223943<br />country: Italie","year: 1983<br />log(value): 10.230480<br />country: Italie","year: 1984<br />log(value): 10.254402<br />country: Italie","year: 1985<br />log(value): 10.269800<br />country: Italie","year: 1986<br />log(value): 10.290339<br />country: Italie","year: 1987<br />log(value): 10.315983<br />country: Italie","year: 1988<br />log(value): 10.349656<br />country: Italie","year: 1989<br />log(value): 10.372507<br />country: Italie","year: 1990<br />log(value): 10.375841<br />country: Italie","year: 1991<br />log(value): 10.380153<br />country: Italie","year: 1992<br />log(value): 10.368157<br />country: Italie","year: 1993<br />log(value): 10.351283<br />country: Italie","year: 1994<br />log(value): 10.365801<br />country: Italie","year: 1995<br />log(value): 10.391848<br />country: Italie","year: 1996<br />log(value): 10.400708<br />country: Italie","year: 1997<br />log(value): 10.421826<br />country: Italie","year: 1998<br />log(value): 10.429214<br />country: Italie","year: 1999<br />log(value): 10.449732<br />country: Italie","year: 2000<br />log(value): 10.478198<br />country: Italie","year: 2001<br />log(value): 10.494619<br />country: Italie","year: 2002<br />log(value): 10.489416<br />country: Italie","year: 2003<br />log(value): 10.478167<br />country: Italie","year: 2004<br />log(value): 10.486840<br />country: Italie","year: 2005<br />log(value): 10.490222<br />country: Italie","year: 2006<br />log(value): 10.507835<br />country: Italie","year: 2007<br />log(value): 10.514010<br />country: Italie","year: 2008<br />log(value): 10.476859<br />country: Italie","year: 2009<br />log(value): 10.410026<br />country: Italie","year: 2010<br />log(value): 10.422826<br />country: Italie","year: 2011<br />log(value): 10.416422<br />country: Italie","year: 2012<br />log(value): 10.369784<br />country: Italie","year: 2013<br />log(value): 10.343249<br />country: Italie","year: 2014<br />log(value): 10.343296<br />country: Italie","year: 2015<br />log(value): 10.344710<br />country: Italie","year: 2016<br />log(value): 10.370704<br />country: Italie","year: 2017<br />log(value): 10.390903<br />country: Italie","year: 2018<br />log(value): 10.406475<br />country: Italie","year: 2019<br />log(value): 10.401826<br />country: Italie","year: 2020<br />log(value): 10.294944<br />country: Italie","year: 2021<br />log(value): 10.378720<br />country: Italie","year: 2022<br />log(value): 10.424078<br />country: Italie",null,"year: 1950<br />log(value):  9.153678<br />country: Norvège","year: 1951<br />log(value):  9.199761<br />country: Norvège","year: 1952<br />log(value):  9.225008<br />country: Norvège","year: 1953<br />log(value):  9.256476<br />country: Norvège","year: 1954<br />log(value):  9.301200<br />country: Norvège","year: 1955<br />log(value):  9.314033<br />country: Norvège","year: 1956<br />log(value):  9.363724<br />country: Norvège","year: 1957<br />log(value):  9.388209<br />country: Norvège","year: 1958<br />log(value):  9.376826<br />country: Norvège","year: 1959<br />log(value):  9.413281<br />country: Norvège","year: 1960<br />log(value):  9.455559<br />country: Norvège","year: 1961<br />log(value):  9.516798<br />country: Norvège","year: 1962<br />log(value):  9.531041<br />country: Norvège","year: 1963<br />log(value):  9.567317<br />country: Norvège","year: 1964<br />log(value):  9.602730<br />country: Norvège","year: 1965<br />log(value):  9.646009<br />country: Norvège","year: 1966<br />log(value):  9.675496<br />country: Norvège","year: 1967<br />log(value):  9.700562<br />country: Norvège","year: 1968<br />log(value):  9.726721<br />country: Norvège","year: 1969<br />log(value):  9.774375<br />country: Norvège","year: 1970<br />log(value):  9.795067<br />country: Norvège","year: 1971<br />log(value):  9.852214<br />country: Norvège","year: 1972<br />log(value):  9.877944<br />country: Norvège","year: 1973<br />log(value):  9.929396<br />country: Norvège","year: 1974<br />log(value):  9.966987<br />country: Norvège","year: 1975<br />log(value):  9.981965<br />country: Norvège","year: 1976<br />log(value): 10.006745<br />country: Norvège","year: 1977<br />log(value): 10.014169<br />country: Norvège","year: 1978<br />log(value): 10.016069<br />country: Norvège","year: 1979<br />log(value): 10.057334<br />country: Norvège","year: 1980<br />log(value): 10.131120<br />country: Norvège","year: 1981<br />log(value): 10.134880<br />country: Norvège","year: 1982<br />log(value): 10.111875<br />country: Norvège","year: 1983<br />log(value): 10.130479<br />country: Norvège","year: 1984<br />log(value): 10.186900<br />country: Norvège","year: 1985<br />log(value): 10.237762<br />country: Norvège","year: 1986<br />log(value): 10.180077<br />country: Norvège","year: 1987<br />log(value): 10.166527<br />country: Norvège","year: 1988<br />log(value): 10.112587<br />country: Norvège","year: 1989<br />log(value): 10.122103<br />country: Norvège","year: 1990<br />log(value): 10.135923<br />country: Norvège","year: 1991<br />log(value): 10.147546<br />country: Norvège","year: 1992<br />log(value): 10.157408<br />country: Norvège","year: 1993<br />log(value): 10.176057<br />country: Norvège","year: 1994<br />log(value): 10.215076<br />country: Norvège","year: 1995<br />log(value): 10.263704<br />country: Norvège","year: 1996<br />log(value): 10.344266<br />country: Norvège","year: 1997<br />log(value): 10.401687<br />country: Norvège","year: 1998<br />log(value): 10.389416<br />country: Norvège","year: 1999<br />log(value): 10.453754<br />country: Norvège","year: 2000<br />log(value): 10.607926<br />country: Norvège","year: 2001<br />log(value): 10.622437<br />country: Norvège","year: 2002<br />log(value): 10.607681<br />country: Norvège","year: 2003<br />log(value): 10.621662<br />country: Norvège","year: 2004<br />log(value): 10.708831<br />country: Norvège","year: 2005<br />log(value): 10.816166<br />country: Norvège","year: 2006<br />log(value): 10.875803<br />country: Norvège","year: 2007<br />log(value): 10.908553<br />country: Norvège","year: 2008<br />log(value): 10.968189<br />country: Norvège","year: 2009<br />log(value): 10.859945<br />country: Norvège","year: 2010<br />log(value): 10.902610<br />country: Norvège","year: 2011<br />log(value): 10.947347<br />country: Norvège","year: 2012<br />log(value): 10.957733<br />country: Norvège","year: 2013<br />log(value): 10.952593<br />country: Norvège","year: 2014<br />log(value): 10.978826<br />country: Norvège","year: 2015<br />log(value): 10.987688<br />country: Norvège","year: 2016<br />log(value): 10.983257<br />country: Norvège","year: 2017<br />log(value): 11.000769<br />country: Norvège","year: 2018<br />log(value): 11.005710<br />country: Norvège","year: 2019<br />log(value): 10.936218<br />country: Norvège","year: 2020<br />log(value): 10.919682<br />country: Norvège","year: 2021<br />log(value): 10.948013<br />country: Norvège","year: 2022<br />log(value): 11.136994<br />country: Norvège",null,"year: 1950<br />log(value):  9.473822<br />country: Pays-Bas","year: 1951<br />log(value):  9.473073<br />country: Pays-Bas","year: 1952<br />log(value):  9.475681<br />country: Pays-Bas","year: 1953<br />log(value):  9.552871<br />country: Pays-Bas","year: 1954<br />log(value):  9.610018<br />country: Pays-Bas","year: 1955<br />log(value):  9.673257<br />country: Pays-Bas","year: 1956<br />log(value):  9.696346<br />country: Pays-Bas","year: 1957<br />log(value):  9.711656<br />country: Pays-Bas","year: 1958<br />log(value):  9.691873<br />country: Pays-Bas","year: 1959<br />log(value):  9.726690<br />country: Pays-Bas","year: 1960<br />log(value):  9.801842<br />country: Pays-Bas","year: 1961<br />log(value):  9.831764<br />country: Pays-Bas","year: 1962<br />log(value):  9.859097<br />country: Pays-Bas","year: 1963<br />log(value):  9.885050<br />country: Pays-Bas","year: 1964<br />log(value):  9.981555<br />country: Pays-Bas","year: 1965<br />log(value): 10.034319<br />country: Pays-Bas","year: 1966<br />log(value): 10.043162<br />country: Pays-Bas","year: 1967<br />log(value): 10.081111<br />country: Pays-Bas","year: 1968<br />log(value): 10.129137<br />country: Pays-Bas","year: 1969<br />log(value): 10.288669<br />country: Pays-Bas","year: 1970<br />log(value): 10.319192<br />country: Pays-Bas","year: 1971<br />log(value): 10.348552<br />country: Pays-Bas","year: 1972<br />log(value): 10.370863<br />country: Pays-Bas","year: 1973<br />log(value): 10.421527<br />country: Pays-Bas","year: 1974<br />log(value): 10.467180<br />country: Pays-Bas","year: 1975<br />log(value): 10.409415<br />country: Pays-Bas","year: 1976<br />log(value): 10.447767<br />country: Pays-Bas","year: 1977<br />log(value): 10.442972<br />country: Pays-Bas","year: 1978<br />log(value): 10.458732<br />country: Pays-Bas","year: 1979<br />log(value): 10.477401<br />country: Pays-Bas","year: 1980<br />log(value): 10.461672<br />country: Pays-Bas","year: 1981<br />log(value): 10.422845<br />country: Pays-Bas","year: 1982<br />log(value): 10.379864<br />country: Pays-Bas","year: 1983<br />log(value): 10.378480<br />country: Pays-Bas","year: 1984<br />log(value): 10.388917<br />country: Pays-Bas","year: 1985<br />log(value): 10.373679<br />country: Pays-Bas","year: 1986<br />log(value): 10.388034<br />country: Pays-Bas","year: 1987<br />log(value): 10.390144<br />country: Pays-Bas","year: 1988<br />log(value): 10.406990<br />country: Pays-Bas","year: 1989<br />log(value): 10.446728<br />country: Pays-Bas","year: 1990<br />log(value): 10.449328<br />country: Pays-Bas","year: 1991<br />log(value): 10.455192<br />country: Pays-Bas","year: 1992<br />log(value): 10.442182<br />country: Pays-Bas","year: 1993<br />log(value): 10.441337<br />country: Pays-Bas","year: 1994<br />log(value): 10.467932<br />country: Pays-Bas","year: 1995<br />log(value): 10.509224<br />country: Pays-Bas","year: 1996<br />log(value): 10.537456<br />country: Pays-Bas","year: 1997<br />log(value): 10.571454<br />country: Pays-Bas","year: 1998<br />log(value): 10.595648<br />country: Pays-Bas","year: 1999<br />log(value): 10.651536<br />country: Pays-Bas","year: 2000<br />log(value): 10.688516<br />country: Pays-Bas","year: 2001<br />log(value): 10.687144<br />country: Pays-Bas","year: 2002<br />log(value): 10.684029<br />country: Pays-Bas","year: 2003<br />log(value): 10.700212<br />country: Pays-Bas","year: 2004<br />log(value): 10.709155<br />country: Pays-Bas","year: 2005<br />log(value): 10.697097<br />country: Pays-Bas","year: 2006<br />log(value): 10.750384<br />country: Pays-Bas","year: 2007<br />log(value): 10.779119<br />country: Pays-Bas","year: 2008<br />log(value): 10.765028<br />country: Pays-Bas","year: 2009<br />log(value): 10.728400<br />country: Pays-Bas","year: 2010<br />log(value): 10.757210<br />country: Pays-Bas","year: 2011<br />log(value): 10.781249<br />country: Pays-Bas","year: 2012<br />log(value): 10.766311<br />country: Pays-Bas","year: 2013<br />log(value): 10.756000<br />country: Pays-Bas","year: 2014<br />log(value): 10.743462<br />country: Pays-Bas","year: 2015<br />log(value): 10.756672<br />country: Pays-Bas","year: 2016<br />log(value): 10.749588<br />country: Pays-Bas","year: 2017<br />log(value): 10.796217<br />country: Pays-Bas","year: 2018<br />log(value): 10.817208<br />country: Pays-Bas","year: 2019<br />log(value): 10.795742<br />country: Pays-Bas","year: 2020<br />log(value): 10.749920<br />country: Pays-Bas","year: 2021<br />log(value): 10.815269<br />country: Pays-Bas","year: 2022<br />log(value): 10.886594<br />country: Pays-Bas",null,"year: 1950<br />log(value):  9.352974<br />country: Royaume-Uni","year: 1951<br />log(value):  9.327641<br />country: Royaume-Uni","year: 1952<br />log(value):  9.349466<br />country: Royaume-Uni","year: 1953<br />log(value):  9.419096<br />country: Royaume-Uni","year: 1954<br />log(value):  9.456536<br />country: Royaume-Uni","year: 1955<br />log(value):  9.471405<br />country: Royaume-Uni","year: 1956<br />log(value):  9.471019<br />country: Royaume-Uni","year: 1957<br />log(value):  9.498089<br />country: Royaume-Uni","year: 1958<br />log(value):  9.506215<br />country: Royaume-Uni","year: 1959<br />log(value):  9.545585<br />country: Royaume-Uni","year: 1960<br />log(value):  9.575771<br />country: Royaume-Uni","year: 1961<br />log(value):  9.616910<br />country: Royaume-Uni","year: 1962<br />log(value):  9.650603<br />country: Royaume-Uni","year: 1963<br />log(value):  9.680937<br />country: Royaume-Uni","year: 1964<br />log(value):  9.685392<br />country: Royaume-Uni","year: 1965<br />log(value):  9.701571<br />country: Royaume-Uni","year: 1966<br />log(value):  9.732040<br />country: Royaume-Uni","year: 1967<br />log(value):  9.753673<br />country: Royaume-Uni","year: 1968<br />log(value):  9.752658<br />country: Royaume-Uni","year: 1969<br />log(value):  9.772024<br />country: Royaume-Uni","year: 1970<br />log(value):  9.768467<br />country: Royaume-Uni","year: 1971<br />log(value):  9.774973<br />country: Royaume-Uni","year: 1972<br />log(value):  9.800114<br />country: Royaume-Uni","year: 1973<br />log(value):  9.820293<br />country: Royaume-Uni","year: 1974<br />log(value):  9.821888<br />country: Royaume-Uni","year: 1975<br />log(value):  9.694878<br />country: Royaume-Uni","year: 1976<br />log(value):  9.779485<br />country: Royaume-Uni","year: 1977<br />log(value):  9.810530<br />country: Royaume-Uni","year: 1978<br />log(value):  9.843296<br />country: Royaume-Uni","year: 1979<br />log(value):  9.842585<br />country: Royaume-Uni","year: 1980<br />log(value):  9.807864<br />country: Royaume-Uni","year: 1981<br />log(value):  9.853099<br />country: Royaume-Uni","year: 1982<br />log(value):  9.869710<br />country: Royaume-Uni","year: 1983<br />log(value):  9.911075<br />country: Royaume-Uni","year: 1984<br />log(value):  9.951643<br />country: Royaume-Uni","year: 1985<br />log(value):  9.961743<br />country: Royaume-Uni","year: 1986<br />log(value): 10.001186<br />country: Royaume-Uni","year: 1987<br />log(value): 10.018566<br />country: Royaume-Uni","year: 1988<br />log(value): 10.043834<br />country: Royaume-Uni","year: 1989<br />log(value): 10.078620<br />country: Royaume-Uni","year: 1990<br />log(value): 10.086319<br />country: Royaume-Uni","year: 1991<br />log(value): 10.093285<br />country: Royaume-Uni","year: 1992<br />log(value): 10.104937<br />country: Royaume-Uni","year: 1993<br />log(value): 10.125982<br />country: Royaume-Uni","year: 1994<br />log(value): 10.163824<br />country: Royaume-Uni","year: 1995<br />log(value): 10.208044<br />country: Royaume-Uni","year: 1996<br />log(value): 10.215881<br />country: Royaume-Uni","year: 1997<br />log(value): 10.258409<br />country: Royaume-Uni","year: 1998<br />log(value): 10.310396<br />country: Royaume-Uni","year: 1999<br />log(value): 10.376424<br />country: Royaume-Uni","year: 2000<br />log(value): 10.384983<br />country: Royaume-Uni","year: 2001<br />log(value): 10.417156<br />country: Royaume-Uni","year: 2002<br />log(value): 10.435196<br />country: Royaume-Uni","year: 2003<br />log(value): 10.461535<br />country: Royaume-Uni","year: 2004<br />log(value): 10.485411<br />country: Royaume-Uni","year: 2005<br />log(value): 10.497870<br />country: Royaume-Uni","year: 2006<br />log(value): 10.509880<br />country: Royaume-Uni","year: 2007<br />log(value): 10.519330<br />country: Royaume-Uni","year: 2008<br />log(value): 10.546882<br />country: Royaume-Uni","year: 2009<br />log(value): 10.551761<br />country: Royaume-Uni","year: 2010<br />log(value): 10.466442<br />country: Royaume-Uni","year: 2011<br />log(value): 10.477114<br />country: Royaume-Uni","year: 2012<br />log(value): 10.445583<br />country: Royaume-Uni","year: 2013<br />log(value): 10.459187<br />country: Royaume-Uni","year: 2014<br />log(value): 10.468347<br />country: Royaume-Uni","year: 2015<br />log(value): 10.490687<br />country: Royaume-Uni","year: 2016<br />log(value): 10.499903<br />country: Royaume-Uni","year: 2017<br />log(value): 10.522357<br />country: Royaume-Uni","year: 2018<br />log(value): 10.534767<br />country: Royaume-Uni","year: 2019<br />log(value): 10.523139<br />country: Royaume-Uni","year: 2020<br />log(value): 10.391240<br />country: Royaume-Uni","year: 2021<br />log(value): 10.474367<br />country: Royaume-Uni","year: 2022<br />log(value): 10.517463<br />country: Royaume-Uni",null,"year: 1950<br />log(value):  9.204343<br />country: Suède","year: 1951<br />log(value):  9.257469<br />country: Suède","year: 1952<br />log(value):  9.259916<br />country: Suède","year: 1953<br />log(value):  9.280865<br />country: Suède","year: 1954<br />log(value):  9.337128<br />country: Suède","year: 1955<br />log(value):  9.339313<br />country: Suède","year: 1956<br />log(value):  9.378521<br />country: Suède","year: 1957<br />log(value):  9.395068<br />country: Suède","year: 1958<br />log(value):  9.417994<br />country: Suède","year: 1959<br />log(value):  9.465372<br />country: Suède","year: 1960<br />log(value):  9.504784<br />country: Suède","year: 1961<br />log(value):  9.558288<br />country: Suède","year: 1962<br />log(value):  9.586601<br />country: Suède","year: 1963<br />log(value):  9.621480<br />country: Suède","year: 1964<br />log(value):  9.682139<br />country: Suède","year: 1965<br />log(value):  9.708661<br />country: Suède","year: 1966<br />log(value):  9.727681<br />country: Suède","year: 1967<br />log(value):  9.769044<br />country: Suède","year: 1968<br />log(value):  9.801602<br />country: Suède","year: 1969<br />log(value):  9.844353<br />country: Suède","year: 1970<br />log(value):  9.870372<br />country: Suède","year: 1971<br />log(value):  9.867548<br />country: Suède","year: 1972<br />log(value):  9.893290<br />country: Suède","year: 1973<br />log(value):  9.921638<br />country: Suède","year: 1974<br />log(value):  9.926157<br />country: Suède","year: 1975<br />log(value):  9.993413<br />country: Suède","year: 1976<br />log(value): 10.020552<br />country: Suède","year: 1977<br />log(value):  9.973375<br />country: Suède","year: 1978<br />log(value): 10.003534<br />country: Suède","year: 1979<br />log(value): 10.028154<br />country: Suède","year: 1980<br />log(value): 10.021676<br />country: Suède","year: 1981<br />log(value): 10.014292<br />country: Suède","year: 1982<br />log(value): 10.001475<br />country: Suède","year: 1983<br />log(value): 10.015923<br />country: Suède","year: 1984<br />log(value): 10.053614<br />country: Suède","year: 1985<br />log(value): 10.077293<br />country: Suède","year: 1986<br />log(value): 10.137469<br />country: Suède","year: 1987<br />log(value): 10.170293<br />country: Suède","year: 1988<br />log(value): 10.192285<br />country: Suède","year: 1989<br />log(value): 10.215771<br />country: Suède","year: 1990<br />log(value): 10.195647<br />country: Suède","year: 1991<br />log(value): 10.179052<br />country: Suède","year: 1992<br />log(value): 10.142011<br />country: Suède","year: 1993<br />log(value): 10.087800<br />country: Suède","year: 1994<br />log(value): 10.145263<br />country: Suède","year: 1995<br />log(value): 10.187167<br />country: Suède","year: 1996<br />log(value): 10.214908<br />country: Suède","year: 1997<br />log(value): 10.236397<br />country: Suède","year: 1998<br />log(value): 10.301576<br />country: Suède","year: 1999<br />log(value): 10.340761<br />country: Suède","year: 2000<br />log(value): 10.387843<br />country: Suède","year: 2001<br />log(value): 10.401302<br />country: Suède","year: 2002<br />log(value): 10.417630<br />country: Suède","year: 2003<br />log(value): 10.460102<br />country: Suède","year: 2004<br />log(value): 10.488417<br />country: Suède","year: 2005<br />log(value): 10.522970<br />country: Suède","year: 2006<br />log(value): 10.570046<br />country: Suède","year: 2007<br />log(value): 10.602684<br />country: Suède","year: 2008<br />log(value): 10.602753<br />country: Suède","year: 2009<br />log(value): 10.526708<br />country: Suède","year: 2010<br />log(value): 10.573872<br />country: Suède","year: 2011<br />log(value): 10.593995<br />country: Suède","year: 2012<br />log(value): 10.600949<br />country: Suède","year: 2013<br />log(value): 10.630978<br />country: Suède","year: 2014<br />log(value): 10.670431<br />country: Suède","year: 2015<br />log(value): 10.700438<br />country: Suède","year: 2016<br />log(value): 10.708092<br />country: Suède","year: 2017<br />log(value): 10.740028<br />country: Suède","year: 2018<br />log(value): 10.752774<br />country: Suède","year: 2019<br />log(value): 10.762396<br />country: Suède","year: 2020<br />log(value): 10.742346<br />country: Suède","year: 2021<br />log(value): 10.793778<br />country: Suède","year: 2022<br />log(value): 10.816706<br />country: Suède",null,"year: 1950<br />log(value):  9.971489<br />country: Suisse","year: 1951<br />log(value): 10.039465<br />country: Suisse","year: 1952<br />log(value): 10.029437<br />country: Suisse","year: 1953<br />log(value): 10.048918<br />country: Suisse","year: 1954<br />log(value): 10.095314<br />country: Suisse","year: 1955<br />log(value): 10.145569<br />country: Suisse","year: 1956<br />log(value): 10.196601<br />country: Suisse","year: 1957<br />log(value): 10.225518<br />country: Suisse","year: 1958<br />log(value): 10.200253<br />country: Suisse","year: 1959<br />log(value): 10.241942<br />country: Suisse","year: 1960<br />log(value): 10.294682<br />country: Suisse","year: 1961<br />log(value): 10.355410<br />country: Suisse","year: 1962<br />log(value): 10.384608<br />country: Suisse","year: 1963<br />log(value): 10.413424<br />country: Suisse","year: 1964<br />log(value): 10.443303<br />country: Suisse","year: 1965<br />log(value): 10.460752<br />country: Suisse","year: 1966<br />log(value): 10.471880<br />country: Suisse","year: 1967<br />log(value): 10.485656<br />country: Suisse","year: 1968<br />log(value): 10.507037<br />country: Suisse","year: 1969<br />log(value): 10.546304<br />country: Suisse","year: 1970<br />log(value): 10.538794<br />country: Suisse","year: 1971<br />log(value): 10.586287<br />country: Suisse","year: 1972<br />log(value): 10.605917<br />country: Suisse","year: 1973<br />log(value): 10.619159<br />country: Suisse","year: 1974<br />log(value): 10.634321<br />country: Suisse","year: 1975<br />log(value): 10.605950<br />country: Suisse","year: 1976<br />log(value): 10.622077<br />country: Suisse","year: 1977<br />log(value): 10.642115<br />country: Suisse","year: 1978<br />log(value): 10.640072<br />country: Suisse","year: 1979<br />log(value): 10.646592<br />country: Suisse","year: 1980<br />log(value): 10.646230<br />country: Suisse","year: 1981<br />log(value): 10.657791<br />country: Suisse","year: 1982<br />log(value): 10.670857<br />country: Suisse","year: 1983<br />log(value): 10.650448<br />country: Suisse","year: 1984<br />log(value): 10.685786<br />country: Suisse","year: 1985<br />log(value): 10.712420<br />country: Suisse","year: 1986<br />log(value): 10.723400<br />country: Suisse","year: 1987<br />log(value): 10.725658<br />country: Suisse","year: 1988<br />log(value): 10.745665<br />country: Suisse","year: 1989<br />log(value): 10.737784<br />country: Suisse","year: 1990<br />log(value): 10.744540<br />country: Suisse","year: 1991<br />log(value): 10.729247<br />country: Suisse","year: 1992<br />log(value): 10.701868<br />country: Suisse","year: 1993<br />log(value): 10.710568<br />country: Suisse","year: 1994<br />log(value): 10.709066<br />country: Suisse","year: 1995<br />log(value): 10.724780<br />country: Suisse","year: 1996<br />log(value): 10.728226<br />country: Suisse","year: 1997<br />log(value): 10.762310<br />country: Suisse","year: 1998<br />log(value): 10.781832<br />country: Suisse","year: 1999<br />log(value): 10.787430<br />country: Suisse","year: 2000<br />log(value): 10.830372<br />country: Suisse","year: 2001<br />log(value): 10.810751<br />country: Suisse","year: 2002<br />log(value): 10.770461<br />country: Suisse","year: 2003<br />log(value): 10.789177<br />country: Suisse","year: 2004<br />log(value): 10.798392<br />country: Suisse","year: 2005<br />log(value): 10.831680<br />country: Suisse","year: 2006<br />log(value): 10.869839<br />country: Suisse","year: 2007<br />log(value): 10.848858<br />country: Suisse","year: 2008<br />log(value): 10.807040<br />country: Suisse","year: 2009<br />log(value): 10.833364<br />country: Suisse","year: 2010<br />log(value): 10.894400<br />country: Suisse","year: 2011<br />log(value): 10.864087<br />country: Suisse","year: 2012<br />log(value): 10.876170<br />country: Suisse","year: 2013<br />log(value): 10.878361<br />country: Suisse","year: 2014<br />log(value): 10.875130<br />country: Suisse","year: 2015<br />log(value): 10.897519<br />country: Suisse","year: 2016<br />log(value): 10.895385<br />country: Suisse","year: 2017<br />log(value): 10.879281<br />country: Suisse","year: 2018<br />log(value): 10.894695<br />country: Suisse","year: 2019<br />log(value): 10.909994<br />country: Suisse","year: 2020<br />log(value): 10.887068<br />country: Suisse","year: 2021<br />log(value): 10.929279<br />country: Suisse","year: 2022<br />log(value): 10.961770<br />country: Suisse"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(191,191,191,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[9.7634349659280257,9.8289879306207268,9.8541819865700049,9.8846856238740131,9.8645068877689273,9.933022582650457,9.9486271089573162,9.9495662821823156,9.9230170641082314,9.9824774646764176,9.9915432136545679,10.00789281008017,10.059875128644395,10.092766876995318,10.136033165619596,10.187434597197718,10.238334197169776,10.250775470380772,10.279671473797361,10.291298407339182,10.270376084257041,10.275275411397148,10.311073736238837,10.352489418058891,10.321024238411391,10.284639762953093,10.320007978134536,10.349391397730798,10.383124466712967,10.386355125943377,10.355996351410154,10.36429363876282,10.33170713935543,10.350956903233811,10.418505034176697,10.438373766769555,10.448365660986841,10.480787220605649,10.523224424441644,10.538783121991584,10.541687243948131,10.524230013046132,10.546575143171594,10.557161099961229,10.590895032484285,10.61302466631952,10.645700809198306,10.683594103108364,10.723630516326811,10.754948644635126,10.787926532527802,10.784512674554243,10.783433724121121,10.795558128144844,10.825416493793053,10.847856249005202,10.870868700019326,10.864058289275086,10.839119387573524,10.788920475845233,10.823687630947617,10.84417174201436,10.86664429191036,10.873224303721937,10.892896627757198,10.916277814838489,10.910293369738996,10.924253642631827,10.939073491714154,10.943757336605442,10.90332186487124,10.963978221692861,10.977011699152401],"text":["year: 1950<br />log(value):  9.763435<br />country: États-Unis<br />country: États-Unis","year: 1951<br />log(value):  9.828988<br />country: États-Unis<br />country: États-Unis","year: 1952<br />log(value):  9.854182<br />country: États-Unis<br />country: États-Unis","year: 1953<br />log(value):  9.884686<br />country: États-Unis<br />country: États-Unis","year: 1954<br />log(value):  9.864507<br />country: États-Unis<br />country: États-Unis","year: 1955<br />log(value):  9.933023<br />country: États-Unis<br />country: États-Unis","year: 1956<br />log(value):  9.948627<br />country: États-Unis<br />country: États-Unis","year: 1957<br />log(value):  9.949566<br />country: États-Unis<br />country: États-Unis","year: 1958<br />log(value):  9.923017<br />country: États-Unis<br />country: États-Unis","year: 1959<br />log(value):  9.982477<br />country: États-Unis<br />country: États-Unis","year: 1960<br />log(value):  9.991543<br />country: États-Unis<br />country: États-Unis","year: 1961<br />log(value): 10.007893<br />country: États-Unis<br />country: États-Unis","year: 1962<br />log(value): 10.059875<br />country: États-Unis<br />country: États-Unis","year: 1963<br />log(value): 10.092767<br />country: États-Unis<br />country: États-Unis","year: 1964<br />log(value): 10.136033<br />country: États-Unis<br />country: États-Unis","year: 1965<br />log(value): 10.187435<br />country: États-Unis<br />country: États-Unis","year: 1966<br />log(value): 10.238334<br />country: États-Unis<br />country: États-Unis","year: 1967<br />log(value): 10.250775<br />country: États-Unis<br />country: États-Unis","year: 1968<br />log(value): 10.279671<br />country: États-Unis<br />country: États-Unis","year: 1969<br />log(value): 10.291298<br />country: États-Unis<br />country: États-Unis","year: 1970<br />log(value): 10.270376<br />country: États-Unis<br />country: États-Unis","year: 1971<br />log(value): 10.275275<br />country: États-Unis<br />country: États-Unis","year: 1972<br />log(value): 10.311074<br />country: États-Unis<br />country: États-Unis","year: 1973<br />log(value): 10.352489<br />country: États-Unis<br />country: États-Unis","year: 1974<br />log(value): 10.321024<br />country: États-Unis<br />country: États-Unis","year: 1975<br />log(value): 10.284640<br />country: États-Unis<br />country: États-Unis","year: 1976<br />log(value): 10.320008<br />country: États-Unis<br />country: États-Unis","year: 1977<br />log(value): 10.349391<br />country: États-Unis<br />country: États-Unis","year: 1978<br />log(value): 10.383124<br />country: États-Unis<br />country: États-Unis","year: 1979<br />log(value): 10.386355<br />country: États-Unis<br />country: États-Unis","year: 1980<br />log(value): 10.355996<br />country: États-Unis<br />country: États-Unis","year: 1981<br />log(value): 10.364294<br />country: États-Unis<br />country: États-Unis","year: 1982<br />log(value): 10.331707<br />country: États-Unis<br />country: États-Unis","year: 1983<br />log(value): 10.350957<br />country: États-Unis<br />country: États-Unis","year: 1984<br />log(value): 10.418505<br />country: États-Unis<br />country: États-Unis","year: 1985<br />log(value): 10.438374<br />country: États-Unis<br />country: États-Unis","year: 1986<br />log(value): 10.448366<br />country: États-Unis<br />country: États-Unis","year: 1987<br />log(value): 10.480787<br />country: États-Unis<br />country: États-Unis","year: 1988<br />log(value): 10.523224<br />country: États-Unis<br />country: États-Unis","year: 1989<br />log(value): 10.538783<br />country: États-Unis<br />country: États-Unis","year: 1990<br />log(value): 10.541687<br />country: États-Unis<br />country: États-Unis","year: 1991<br />log(value): 10.524230<br />country: États-Unis<br />country: États-Unis","year: 1992<br />log(value): 10.546575<br />country: États-Unis<br />country: États-Unis","year: 1993<br />log(value): 10.557161<br />country: États-Unis<br />country: États-Unis","year: 1994<br />log(value): 10.590895<br />country: États-Unis<br />country: États-Unis","year: 1995<br />log(value): 10.613025<br />country: États-Unis<br />country: États-Unis","year: 1996<br />log(value): 10.645701<br />country: États-Unis<br />country: États-Unis","year: 1997<br />log(value): 10.683594<br />country: États-Unis<br />country: États-Unis","year: 1998<br />log(value): 10.723631<br />country: États-Unis<br />country: États-Unis","year: 1999<br />log(value): 10.754949<br />country: États-Unis<br />country: États-Unis","year: 2000<br />log(value): 10.787927<br />country: États-Unis<br />country: États-Unis","year: 2001<br />log(value): 10.784513<br />country: États-Unis<br />country: États-Unis","year: 2002<br />log(value): 10.783434<br />country: États-Unis<br />country: États-Unis","year: 2003<br />log(value): 10.795558<br />country: États-Unis<br />country: États-Unis","year: 2004<br />log(value): 10.825416<br />country: États-Unis<br />country: États-Unis","year: 2005<br />log(value): 10.847856<br />country: États-Unis<br />country: États-Unis","year: 2006<br />log(value): 10.870869<br />country: États-Unis<br />country: États-Unis","year: 2007<br />log(value): 10.864058<br />country: États-Unis<br />country: États-Unis","year: 2008<br />log(value): 10.839119<br />country: États-Unis<br />country: États-Unis","year: 2009<br />log(value): 10.788920<br />country: États-Unis<br />country: États-Unis","year: 2010<br />log(value): 10.823688<br />country: États-Unis<br />country: États-Unis","year: 2011<br />log(value): 10.844172<br />country: États-Unis<br />country: États-Unis","year: 2012<br />log(value): 10.866644<br />country: États-Unis<br />country: États-Unis","year: 2013<br />log(value): 10.873224<br />country: États-Unis<br />country: États-Unis","year: 2014<br />log(value): 10.892897<br />country: États-Unis<br />country: États-Unis","year: 2015<br />log(value): 10.916278<br />country: États-Unis<br />country: États-Unis","year: 2016<br />log(value): 10.910293<br />country: États-Unis<br />country: États-Unis","year: 2017<br />log(value): 10.924254<br />country: États-Unis<br />country: États-Unis","year: 2018<br />log(value): 10.939073<br />country: États-Unis<br />country: États-Unis","year: 2019<br />log(value): 10.943757<br />country: États-Unis<br />country: États-Unis","year: 2020<br />log(value): 10.903322<br />country: États-Unis<br />country: États-Unis","year: 2021<br />log(value): 10.963978<br />country: États-Unis<br />country: États-Unis","year: 2022<br />log(value): 10.977012<br />country: États-Unis<br />country: États-Unis"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,139,1)","dash":"solid"},"hoveron":"points","name":"États-Unis","legendgroup":"États-Unis","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[9.153677995089561,9.1997609062591721,9.225007501816382,9.2564764075365247,9.30119961558926,9.3140334983127211,9.3637236345569939,9.3882093725039688,9.3768263214349492,9.4132814771973283,9.4555592679675744,9.5167977132897921,9.531040944328165,9.5673173632940127,9.6027299736865679,9.6460091035102327,9.6754963767032898,9.7005624550404601,9.7267214714704266,9.7743745956605093,9.7950666252590395,9.8522140526895061,9.877944216558209,9.9293963521004862,9.9669866039246617,9.9819653409774389,10.006745149609799,10.014169080962944,10.016068592354454,10.057333950360027,10.131119933960839,10.134879984096608,10.111875424300612,10.130478596747867,10.186900262967981,10.237761692970151,10.180077454946925,10.166526650790532,10.112586689141343,10.122103091859435,10.135922928827183,10.147545610818369,10.157407898019056,10.176056513827469,10.215076198242484,10.26370405674032,10.344266495467377,10.401687247667427,10.389416356612896,10.453753699910697,10.6079264658475,10.622437151575227,10.607681462684427,10.621661997001519,10.708830980562318,10.816165612562655,10.875802514751667,10.908553468477267,10.968189101555312,10.859944533096225,10.902609624539219,10.947347143659885,10.957733222963068,10.952593130626735,10.978825944718416,10.987688185373573,10.983257042125542,11.000769032738008,11.005710292341194,10.936217911430568,10.919681670183707,10.948013117243786,11.136994335009085],"text":["year: 1950<br />log(value):  9.153678<br />country: Norvège<br />country: Norvège","year: 1951<br />log(value):  9.199761<br />country: Norvège<br />country: Norvège","year: 1952<br />log(value):  9.225008<br />country: Norvège<br />country: Norvège","year: 1953<br />log(value):  9.256476<br />country: Norvège<br />country: Norvège","year: 1954<br />log(value):  9.301200<br />country: Norvège<br />country: Norvège","year: 1955<br />log(value):  9.314033<br />country: Norvège<br />country: Norvège","year: 1956<br />log(value):  9.363724<br />country: Norvège<br />country: Norvège","year: 1957<br />log(value):  9.388209<br />country: Norvège<br />country: Norvège","year: 1958<br />log(value):  9.376826<br />country: Norvège<br />country: Norvège","year: 1959<br />log(value):  9.413281<br />country: Norvège<br />country: Norvège","year: 1960<br />log(value):  9.455559<br />country: Norvège<br />country: Norvège","year: 1961<br />log(value):  9.516798<br />country: Norvège<br />country: Norvège","year: 1962<br />log(value):  9.531041<br />country: Norvège<br />country: Norvège","year: 1963<br />log(value):  9.567317<br />country: Norvège<br />country: Norvège","year: 1964<br />log(value):  9.602730<br />country: Norvège<br />country: Norvège","year: 1965<br />log(value):  9.646009<br />country: Norvège<br />country: Norvège","year: 1966<br />log(value):  9.675496<br />country: Norvège<br />country: Norvège","year: 1967<br />log(value):  9.700562<br />country: Norvège<br />country: Norvège","year: 1968<br />log(value):  9.726721<br />country: Norvège<br />country: Norvège","year: 1969<br />log(value):  9.774375<br />country: Norvège<br />country: Norvège","year: 1970<br />log(value):  9.795067<br />country: Norvège<br />country: Norvège","year: 1971<br />log(value):  9.852214<br />country: Norvège<br />country: Norvège","year: 1972<br />log(value):  9.877944<br />country: Norvège<br />country: Norvège","year: 1973<br />log(value):  9.929396<br />country: Norvège<br />country: Norvège","year: 1974<br />log(value):  9.966987<br />country: Norvège<br />country: Norvège","year: 1975<br />log(value):  9.981965<br />country: Norvège<br />country: Norvège","year: 1976<br />log(value): 10.006745<br />country: Norvège<br />country: Norvège","year: 1977<br />log(value): 10.014169<br />country: Norvège<br />country: Norvège","year: 1978<br />log(value): 10.016069<br />country: Norvège<br />country: Norvège","year: 1979<br />log(value): 10.057334<br />country: Norvège<br />country: Norvège","year: 1980<br />log(value): 10.131120<br />country: Norvège<br />country: Norvège","year: 1981<br />log(value): 10.134880<br />country: Norvège<br />country: Norvège","year: 1982<br />log(value): 10.111875<br />country: Norvège<br />country: Norvège","year: 1983<br />log(value): 10.130479<br />country: Norvège<br />country: Norvège","year: 1984<br />log(value): 10.186900<br />country: Norvège<br />country: Norvège","year: 1985<br />log(value): 10.237762<br />country: Norvège<br />country: Norvège","year: 1986<br />log(value): 10.180077<br />country: Norvège<br />country: Norvège","year: 1987<br />log(value): 10.166527<br />country: Norvège<br />country: Norvège","year: 1988<br />log(value): 10.112587<br />country: Norvège<br />country: Norvège","year: 1989<br />log(value): 10.122103<br />country: Norvège<br />country: Norvège","year: 1990<br />log(value): 10.135923<br />country: Norvège<br />country: Norvège","year: 1991<br />log(value): 10.147546<br />country: Norvège<br />country: Norvège","year: 1992<br />log(value): 10.157408<br />country: Norvège<br />country: Norvège","year: 1993<br />log(value): 10.176057<br />country: Norvège<br />country: Norvège","year: 1994<br />log(value): 10.215076<br />country: Norvège<br />country: Norvège","year: 1995<br />log(value): 10.263704<br />country: Norvège<br />country: Norvège","year: 1996<br />log(value): 10.344266<br />country: Norvège<br />country: Norvège","year: 1997<br />log(value): 10.401687<br />country: Norvège<br />country: Norvège","year: 1998<br />log(value): 10.389416<br />country: Norvège<br />country: Norvège","year: 1999<br />log(value): 10.453754<br />country: Norvège<br />country: Norvège","year: 2000<br />log(value): 10.607926<br />country: Norvège<br />country: Norvège","year: 2001<br />log(value): 10.622437<br />country: Norvège<br />country: Norvège","year: 2002<br />log(value): 10.607681<br />country: Norvège<br />country: Norvège","year: 2003<br />log(value): 10.621662<br />country: Norvège<br />country: Norvège","year: 2004<br />log(value): 10.708831<br />country: Norvège<br />country: Norvège","year: 2005<br />log(value): 10.816166<br />country: Norvège<br />country: Norvège","year: 2006<br />log(value): 10.875803<br />country: Norvège<br />country: Norvège","year: 2007<br />log(value): 10.908553<br />country: Norvège<br />country: Norvège","year: 2008<br />log(value): 10.968189<br />country: Norvège<br />country: Norvège","year: 2009<br />log(value): 10.859945<br />country: Norvège<br />country: Norvège","year: 2010<br />log(value): 10.902610<br />country: Norvège<br />country: Norvège","year: 2011<br />log(value): 10.947347<br />country: Norvège<br />country: Norvège","year: 2012<br />log(value): 10.957733<br />country: Norvège<br />country: Norvège","year: 2013<br />log(value): 10.952593<br />country: Norvège<br />country: Norvège","year: 2014<br />log(value): 10.978826<br />country: Norvège<br />country: Norvège","year: 2015<br />log(value): 10.987688<br />country: Norvège<br />country: Norvège","year: 2016<br />log(value): 10.983257<br />country: Norvège<br />country: Norvège","year: 2017<br />log(value): 11.000769<br />country: Norvège<br />country: Norvège","year: 2018<br />log(value): 11.005710<br />country: Norvège<br />country: Norvège","year: 2019<br />log(value): 10.936218<br />country: Norvège<br />country: Norvège","year: 2020<br />log(value): 10.919682<br />country: Norvège<br />country: Norvège","year: 2021<br />log(value): 10.948013<br />country: Norvège<br />country: Norvège","year: 2022<br />log(value): 11.136994<br />country: Norvège<br />country: Norvège"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(139,0,0,1)","dash":"solid"},"hoveron":"points","name":"Norvège","legendgroup":"Norvège","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[9.9714893991200793,10.039465278570548,10.029436903994275,10.048918188767821,10.095314242087383,10.145569471507216,10.196600967258552,10.22551845611922,10.20025308764513,10.241941730955368,10.294682267880006,10.355410312970998,10.384608102943476,10.413423729861883,10.443303170200924,10.460751834991262,10.471879944587373,10.485655690814632,10.507036881335292,10.546304398597998,10.538793627451566,10.586286996962887,10.605917004213357,10.619159292278159,10.63432100758102,10.605949862251352,10.622076562514387,10.642115240675084,10.640072350290934,10.64659244398892,10.646229575805824,10.657790562032314,10.670857336000868,10.650448050556557,10.685785551098794,10.712420150396376,10.723399529482867,10.725658263685585,10.745664804241391,10.737783593690155,10.744539851372519,10.72924742822225,10.701868301446432,10.710567871844995,10.709066384492004,10.724780472214118,10.728225966390591,10.762310285712712,10.781832472624778,10.787430209602269,10.830372030009961,10.810750601226818,10.770461282186051,10.789177027661799,10.798391613218756,10.831679821313305,10.869838519792946,10.84885847893354,10.807039837812173,10.833364178784393,10.894400483326757,10.864087176949592,10.87617028129444,10.878360822592493,10.875130319953104,10.897519106623292,10.895384938407714,10.879281194990892,10.894694690407572,10.909994219647364,10.887067870396391,10.929278658218001,10.961770005068063],"text":["year: 1950<br />log(value):  9.971489<br />country: Suisse<br />country: Suisse","year: 1951<br />log(value): 10.039465<br />country: Suisse<br />country: Suisse","year: 1952<br />log(value): 10.029437<br />country: Suisse<br />country: Suisse","year: 1953<br />log(value): 10.048918<br />country: Suisse<br />country: Suisse","year: 1954<br />log(value): 10.095314<br />country: Suisse<br />country: Suisse","year: 1955<br />log(value): 10.145569<br />country: Suisse<br />country: Suisse","year: 1956<br />log(value): 10.196601<br />country: Suisse<br />country: Suisse","year: 1957<br />log(value): 10.225518<br />country: Suisse<br />country: Suisse","year: 1958<br />log(value): 10.200253<br />country: Suisse<br />country: Suisse","year: 1959<br />log(value): 10.241942<br />country: Suisse<br />country: Suisse","year: 1960<br />log(value): 10.294682<br />country: Suisse<br />country: Suisse","year: 1961<br />log(value): 10.355410<br />country: Suisse<br />country: Suisse","year: 1962<br />log(value): 10.384608<br />country: Suisse<br />country: Suisse","year: 1963<br />log(value): 10.413424<br />country: Suisse<br />country: Suisse","year: 1964<br />log(value): 10.443303<br />country: Suisse<br />country: Suisse","year: 1965<br />log(value): 10.460752<br />country: Suisse<br />country: Suisse","year: 1966<br />log(value): 10.471880<br />country: Suisse<br />country: Suisse","year: 1967<br />log(value): 10.485656<br />country: Suisse<br />country: Suisse","year: 1968<br />log(value): 10.507037<br />country: Suisse<br />country: Suisse","year: 1969<br />log(value): 10.546304<br />country: Suisse<br />country: Suisse","year: 1970<br />log(value): 10.538794<br />country: Suisse<br />country: Suisse","year: 1971<br />log(value): 10.586287<br />country: Suisse<br />country: Suisse","year: 1972<br />log(value): 10.605917<br />country: Suisse<br />country: Suisse","year: 1973<br />log(value): 10.619159<br />country: Suisse<br />country: Suisse","year: 1974<br />log(value): 10.634321<br />country: Suisse<br />country: Suisse","year: 1975<br />log(value): 10.605950<br />country: Suisse<br />country: Suisse","year: 1976<br />log(value): 10.622077<br />country: Suisse<br />country: Suisse","year: 1977<br />log(value): 10.642115<br />country: Suisse<br />country: Suisse","year: 1978<br />log(value): 10.640072<br />country: Suisse<br />country: Suisse","year: 1979<br />log(value): 10.646592<br />country: Suisse<br />country: Suisse","year: 1980<br />log(value): 10.646230<br />country: Suisse<br />country: Suisse","year: 1981<br />log(value): 10.657791<br />country: Suisse<br />country: Suisse","year: 1982<br />log(value): 10.670857<br />country: Suisse<br />country: Suisse","year: 1983<br />log(value): 10.650448<br />country: Suisse<br />country: Suisse","year: 1984<br />log(value): 10.685786<br />country: Suisse<br />country: Suisse","year: 1985<br />log(value): 10.712420<br />country: Suisse<br />country: Suisse","year: 1986<br />log(value): 10.723400<br />country: Suisse<br />country: Suisse","year: 1987<br />log(value): 10.725658<br />country: Suisse<br />country: Suisse","year: 1988<br />log(value): 10.745665<br />country: Suisse<br />country: Suisse","year: 1989<br />log(value): 10.737784<br />country: Suisse<br />country: Suisse","year: 1990<br />log(value): 10.744540<br />country: Suisse<br />country: Suisse","year: 1991<br />log(value): 10.729247<br />country: Suisse<br />country: Suisse","year: 1992<br />log(value): 10.701868<br />country: Suisse<br />country: Suisse","year: 1993<br />log(value): 10.710568<br />country: Suisse<br />country: Suisse","year: 1994<br />log(value): 10.709066<br />country: Suisse<br />country: Suisse","year: 1995<br />log(value): 10.724780<br />country: Suisse<br />country: Suisse","year: 1996<br />log(value): 10.728226<br />country: Suisse<br />country: Suisse","year: 1997<br />log(value): 10.762310<br />country: Suisse<br />country: Suisse","year: 1998<br />log(value): 10.781832<br />country: Suisse<br />country: Suisse","year: 1999<br />log(value): 10.787430<br />country: Suisse<br />country: Suisse","year: 2000<br />log(value): 10.830372<br />country: Suisse<br />country: Suisse","year: 2001<br />log(value): 10.810751<br />country: Suisse<br />country: Suisse","year: 2002<br />log(value): 10.770461<br />country: Suisse<br />country: Suisse","year: 2003<br />log(value): 10.789177<br />country: Suisse<br />country: Suisse","year: 2004<br />log(value): 10.798392<br />country: Suisse<br />country: Suisse","year: 2005<br />log(value): 10.831680<br />country: Suisse<br />country: Suisse","year: 2006<br />log(value): 10.869839<br />country: Suisse<br />country: Suisse","year: 2007<br />log(value): 10.848858<br />country: Suisse<br />country: Suisse","year: 2008<br />log(value): 10.807040<br />country: Suisse<br />country: Suisse","year: 2009<br />log(value): 10.833364<br />country: Suisse<br />country: Suisse","year: 2010<br />log(value): 10.894400<br />country: Suisse<br />country: Suisse","year: 2011<br />log(value): 10.864087<br />country: Suisse<br />country: Suisse","year: 2012<br />log(value): 10.876170<br />country: Suisse<br />country: Suisse","year: 2013<br />log(value): 10.878361<br />country: Suisse<br />country: Suisse","year: 2014<br />log(value): 10.875130<br />country: Suisse<br />country: Suisse","year: 2015<br />log(value): 10.897519<br />country: Suisse<br />country: Suisse","year: 2016<br />log(value): 10.895385<br />country: Suisse<br />country: Suisse","year: 2017<br />log(value): 10.879281<br />country: Suisse<br />country: Suisse","year: 2018<br />log(value): 10.894695<br />country: Suisse<br />country: Suisse","year: 2019<br />log(value): 10.909994<br />country: Suisse<br />country: Suisse","year: 2020<br />log(value): 10.887068<br />country: Suisse<br />country: Suisse","year: 2021<br />log(value): 10.929279<br />country: Suisse<br />country: Suisse","year: 2022<br />log(value): 10.961770<br />country: Suisse<br />country: Suisse"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(255,0,0,1)","dash":"solid"},"hoveron":"points","name":"Suisse","legendgroup":"Suisse","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"name":"États-Unis","legendgroup":"États-Unis","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"name":"Norvège","legendgroup":"Norvège","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"name":"Suisse","legendgroup":"Suisse","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":21.291338582677163,"r":98.267716535433081,"b":20.633804336101825,"l":45.423363175493485},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1946.4000000000001,2025.5999999999999],"tickmode":"array","ticktext":["1960","1980","2000","2020"],"tickvals":[1960,1980,2000,2020],"categoryorder":"array","categoryarray":["1960","1980","2000","2020"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[8.7487657849228437,11.250719504060811],"tickmode":"array","ticktext":["9.0","9.5","10.0","10.5","11.0"],"tickvals":[9,9.5,10,10.5,11],"categoryorder":"array","categoryarray":["9.0","9.5","10.0","10.5","11.0"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Log","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"country","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"3a70f7b10f4":{"x":{},"y":{},"type":"scatter"},"3a705d26742b":{"x":{},"y":{},"colour":{}},"3a7033ff3ece":{"x":{},"y":{},"label":{},"colour":{}}},"cur_data":"3a70f7b10f4","visdat":{"3a70f7b10f4":["function (y) ","x"],"3a705d26742b":["function (y) ","x"],"3a7033ff3ece":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-nationalincome-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Real net national income per capita in Switzerland and other Western countries. Constant 2022 euros at ppp. Data source: WID.
</figcaption>
</figure>
</div>
</div>
<p>Figure&nbsp;2 puts even more into question the discourse elaborated by EconomieSuisse. In terms of average national income, Switzerland has been caught up and surpassed Norway and the United States since the 2008 crisis. Other countries such as Denmark are also getting closer to Switzerland.</p>
<p>Looking at Figure&nbsp;2 and Figure&nbsp;1, one can identify different growth periods of the Swiss economy. The first period, ranging from 1950 to 1970, corresponds to sustained high growth of gdp and national income per capita. The compound average rates of growth were 3.2% for GDP per capita and 2.8% for national income per capita Figure&nbsp;3. Few studies have conducted a detailed analysis of Switzerland’s growth regime during this period. Post-war studies of the so-called “Trentes Glorieuses” generally emphasized a catching-up effect, but Switzerland was not, or at least very little, impacted by the destructive consequences of WWII. Other explanations, which focused not so much on small countries like Switzerland, but on larger economies such as France and the US, explain post-WWII growth through the constitution of a new accumulation regime, the Fordist regime, based on a virtuous cycle of production and mass consumption. The institution which laid the foundations of this Fordist regime was a wage-labour nexus based on productivity gainsharing <span class="citation" data-cites="boyer_political_2022">(Boyer 2022, 62)</span>. However, whether Switzerland’s post-WWII growth regime was Fordist as in the US or France deserves more investigation. Switzerland is a highly decentralized country, and Fordist institutions require a certain degree of government intervention. Contrary to most Western countries during the Trentes Glorieuses, Switzerland never implemented active Keynesian macroeconomic management through fiscal and monetary policies, which remained constrained during the period.</p>
<p>One could argue that Switzerland’s post-war regime had its own national peculiarities which helped real wages to grow with productivity and thus sustain a Fordist accumulation regime. A first characteristic is the importance of the labour collective agreements regulating industrial relations. A second factor were full-employment and the structural labour shortage which induced Switzerland to extensively rely on immigration as a reserve of labour supply. These factors surely helped Switzerland to have its own Fordist growth regime.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-tblgrowth" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-tblgrowth-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://jeylal.github.io/celalguney/posts/growth debate switzerland/growth-debate-switzerland_files/figure-html/fig-tblgrowth-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-tblgrowth-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Compound growth rates over different periods. Real GDP and national income per capita. Constant 2015 euros corrected for ppp. Data source: WID
</figcaption>
</figure>
</div>
</div>
</div>
<p>The second growth period, ranging from 1971 to 1980, marked the end of the post-war sustained high growth regime. The average growth rates for this period fell to 0.2% for GDP and 0.7% for national income per capita. The 70s were thus a deep period of economic crisis and stagnation, both in Switzerland and at the international level. According to the Régulation school, the 70s marked the end of the Fordist accumulation regime. But the disintegration of the latter is not only the result international events such as the Oil shocks (1973, 1979), but suffered from internal contradictions (as does each regime). <span class="citation" data-cites="boyer_political_2022">Boyer (2022)</span> identifies several sources of crisis of the Fordist regime: (1) the end of productivity gains associated with Fordist production methods; (2) full-employment which induce more indexation of wages to productivity gains, which can provoke instability because of factor (1).</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-prodwage" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-prodwage-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://jeylal.github.io/celalguney/posts/growth debate switzerland/growth-debate-switzerland_files/figure-html/fig-prodwage-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-prodwage-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Real wage and productivity in Switzerland, 1970-2022. 1 = 1970. Data source: OECD, OFS.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Unfortunately, data on productivity are not available for Switzerland before the 70s, but one can still have a look at the co-evolution with real wage since the 70s. Figure&nbsp;4 shows that real wage and productivity were still growing together after the 70s and 80s, but that a “decoupling” between the two happened during the 90s, which are often characterized as a period of wage moderation.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-roll" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-roll-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://jeylal.github.io/celalguney/posts/growth debate switzerland/growth-debate-switzerland_files/figure-html/fig-roll-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-roll-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Swiss GDP and national income per capita, estimated growth trend with a rolling ten-years window. 95% confidence intervals. The horizontal lines represent the average rate of growth over the whole period. Data source: WID.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Finally, Figure&nbsp;5 shows an estimated growth trend of the Swiss real gdp and national income per capita over the period 1950-2022. The overall rates of growth are respectively 1.2380011% for gdp and 1.1079029% for national income. We can see that the Swiss economy was growing at a rate higher than its overall average until the 70s. Since the 70s, the rate of growth of the Swiss economy follows a downwards trend.</p>
<p>No matter how Switzerland’s post-war growth regime is characterized, it is clear that the country’s economy lost its dynamics during the 70s. During the 80s, the average rates of growth increased slightly to 1.5% and 1%. However, the tendency shows a downwards pattern and the average rates of growth are consistently around or below 1% since the 70s.</p>
<p>In conclusion, if Switzerland shows a clear economic slow-down and tendancy towards stagnation, the situation is not catastrophic either. EconomieSuisse clearly exaggerates the economic performance and advance of Switzerland, while NZZ’s article argument of a non-growing Swiss economy does not hold, because, as we have seen, Switzerland’s GDP and national income per capita are still growing, although at very slow and below long-run average rates. Switzerland’s economy, and more particularly, the country’s evolution in terms of growth and demand regimes needs closer examination. It is disappointing that Switzerland is often overlooked in macroeconomic studies, whether they are from the post-Keynesian or neoclassical schools, and research on Swiss growth regimes and macroeconomic dynamics is yet to be done.</p>





<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0">
<div id="ref-boyer_political_2022" class="csl-entry">
Boyer, Robert. 2022. <em>Political Economy of Capitalisms</em>. Translated by Froane Miller Roger. 1st ed. Palgrave Macmillan. <a href="http://gen.lib.rus.ec/book/index.php?md5=314C8D10360339A0BE2ACC0D116FCB83">http://gen.lib.rus.ec/book/index.php?md5=314C8D10360339A0BE2ACC0D116FCB83</a>.
</div>
<div id="ref-minsch_croissance_2023" class="csl-entry">
Minsch, Rudolf. 2023. <span>“La croissance suisse est-elle avant tout quantitative ? <span>EconomieSuisse</span>.”</span> 2023. <a href="https://www.economiesuisse.ch/fr/articles/la-croissance-economique-suisse-reste-fragile">https://www.economiesuisse.ch/fr/articles/la-croissance-economique-suisse-reste-fragile</a>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>National income is defined as GDP minus depreciation of capital and plus net foreign income earned by residents in the rest of the world.↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>Economics</category>
  <guid>https://jeylal.github.io/celalguney/posts/growth debate switzerland/growth debate switzerland.html</guid>
  <pubDate>Tue, 07 May 2024 22:00:00 GMT</pubDate>
  <media:content url="https://jeylal.github.io/celalguney/posts/growth debate switzerland/fig-roll-1.png" medium="image" type="image/png" height="103" width="144"/>
</item>
<item>
  <title>Political Compass: what lies behind political science’s most famous graphs</title>
  <dc:creator>Celâl Güney</dc:creator>
  <link>https://jeylal.github.io/celalguney/posts/political compass/pol_compass.html</link>
  <description><![CDATA[ 





<section id="intro" class="level2">
<h2 class="anchored" data-anchor-id="intro">Intro</h2>
<p>People who get lost or waste their time on the internet have surely seen the now famous “political compass” graphs, which have become a popular meme on the web. The irony and paradox of political compass, and that is what makes the latter intriguing, are that it is actually an important visualization in political science. Very shortly, a political compass is a mapping of political leaning and preferences based on two axes: (1) an economic axis representing the position of an individual, party, association or group on global economic issues (pro and anti redistribution, for economic planning or free market…) and (2) a “cultural” or “post-material” (a lot of different names are given to this axis) axis representing position on cultural issues, such as: “in favor or against immigration”, “in favor or against gay marriage/lgbt rights/traditional values…”</p>
<p>Whereas most people who use political compass do so to make memes and amuse their friends, political scientists are still seriously attached to their favorite toy and one often sees such mapping in political science articles. For instance, Oesch and Rennwald provide such graphics to map individuals political preferences for Switzerland and other countries using European Social Survey data <span class="citation" data-cites="oesch_electoral_2018">(Oesch and Rennwald 2018, 795)</span>. Pascal Sciarini, in a manual on Swiss politics, also provides such a graph using Swiss Elections Studies data <span class="citation" data-cites="sciarini_politique_2023">(Sciarini 2023, 341)</span>. The idea that political preferences can be separated between an economic and cultural cleavage comes back at least to Inglehart <span class="citation" data-cites="inglehart_silent_1971">(1971)</span> who explained the emerging salience of cultural issues over the traditional economic divide as a consequence of post-war tremendous economic growth which made the West so wealthy that people would get rid off of any material insecurity, hence shifting the focus on cultural matters rather than economic ones. But how do political scientists construct such graphs? The goal of this post is to explore how the economic and cultural axes are constructed, what are the data and variables used, and what kind of statistical manipulation is done with those data.</p>
</section>
<section id="constructing-a-political-compass" class="level2">
<h2 class="anchored" data-anchor-id="constructing-a-political-compass">Constructing a Political Compass</h2>
<p>Political compass is typically constructed from ordinal variables related to economic and cultural issues and the individual self-placement of survey respondents to these issues. For instance, Oesch and Rennwald <span class="citation" data-cites="oesch_electoral_2018">(2018)</span> construct the preferences of respondents on the economic axis from an ordinal 5-points scale variable about preferences on redistribution (1 = strongly agree to reduce differences in income levels, 5 = strongly disagree). For the cultural cleavage, they took three variables: (1) the impact of immigrants on cultural life, (2) European integration and (3) freedom of gay people. One can directly see the problem with the construction of such a “cultural” axis: are here the European integration and immigration issues purely cultural issues? In my opinion, European integration cannot be considered only as a cultural “openness vs closeness values” issue and should not have been included to construct the cultural axis. However, the next step after choosing the variables is to standardize them: each observed value of the dataset is subtracted by the mean of the variable and divided by its standard deviation. If more than one variable are taken into account, the variables are standardized and the average values on these three standardized variables are computed to create the final index.</p>
<section id="example-and-variables" class="level3">
<h3 class="anchored" data-anchor-id="example-and-variables">Example and Variables</h3>
<p>To work with an example, I will work here with a dataset which is not used by the literature cited above: the Voxit studies. The latter offer a cumulative dataset on Swiss referendum voting from 1981 to 2016. The dataset contains a list of “issue positions” variables:</p>
<ul>
<li>In favor of state intervention or free markets</li>
<li>In favor of or against income equality</li>
<li>In favor of an open or closed Switzerland</li>
<li>In favor of active equality policy between men and women</li>
<li>In favor of equal chances between Swiss people and foreigners</li>
<li>In favor of environnment protection or economic growth</li>
<li>In favor of a strong or weak Swiss army</li>
</ul>
<p>All these variables are ordinal on a 7-points scale. Another variable, “p02” collected political party support (which party the respondent feels the most closed to). I will use this variable as a group to plot Swiss political parties on the economic and cultural axes depending on the average value of their supporters on the standardized economic and cultural issues variables.</p>
</section>
<section id="constructing-the-axes" class="level3">
<h3 class="anchored" data-anchor-id="constructing-the-axes">Constructing the axes</h3>
<p>To construct the economic axis, I will use the “state vs market” variable. “Open vs closed Switzerland” will be used for the cultural axis.</p>
<p>Here are all the steps to transform the variable, compute the average values for each year for each political party support and how to plot the final political compass.</p>
<div class="cell" data-hash="pol_compass_cache/html/political compass_6fe8769a866c2574fbef6cdaee6af4b6">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1">strdz <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(x){</span>
<span id="cb1-2">  (x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sd</span>(x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>))</span>
<span id="cb1-3">} <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># create a function which transfrom x into standardize variable by subtracting the mean and dividing by standard deviation</span></span>
<span id="cb1-4"></span>
<span id="cb1-5"></span>
<span id="cb1-6">vox <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb1-7">vox <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(annee) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># group by year</span></span>
<span id="cb1-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">state_market =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">strdz</span>(val11), <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># compute the standardization transformation and store into new variable</span></span>
<span id="cb1-10">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">open_closed =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">strdz</span>(val14),</span>
<span id="cb1-11">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">envi_vs_growth =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">strdz</span>(val10),</span>
<span id="cb1-12">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">inegalite_hf =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">strdz</span>(val16),</span>
<span id="cb1-13">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">weak_army =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">strdz</span>(val3),</span>
<span id="cb1-14">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">inc_equality =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">strdz</span>(val5),</span>
<span id="cb1-15">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">no_chance_foreign =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">strdz</span>(val9)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>()</span>
<span id="cb1-17"></span>
<span id="cb1-18"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">#### create a table: each row (observation) is a political party repeated for each year in which data were available (1996 to 2016)</span></span>
<span id="cb1-19">values <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb1-20">vox <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-21">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(annee, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as_character</span>(p02)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># average computed across both year and parties</span></span>
<span id="cb1-22">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">state_market =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(state_market, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># compute the average of standardized state vs market variable in each year for each party support group.</span></span>
<span id="cb1-23">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">open_closed =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(open_closed, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb1-24">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">envi_vs_growth =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(envi_vs_growth, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb1-25">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">inegalite_hf =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(inegalite_hf, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb1-26">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">weak_army =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(weak_army, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb1-27">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">inc_equality =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(inc_equality, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb1-28">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">no_chance_foreign =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(no_chance_foreign, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-29">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-30">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">drop_na</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-31">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"party"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">as_character(p02)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span>)</span></code></pre></div>
</div>
<p>Before plotting the political compass, it could be interesting to see the correlation between the average values through the years. If two variables are positively correlated, that means there are chances that, given any year, when one has high value (average of the standardized issue position variable for each respondent having declared to support the Swiss’s People party for instance) the other will have a high value as well:</p>
<div class="cell" data-hash="pol_compass_cache/html/corrplot_a7202aa12d96c61b9258888952dd9edc">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">values <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb2-2">  dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>annee, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>party) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb2-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cor</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb2-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">corrplot</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">order =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hclust"</span>)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/political compass/pol_compass_files/figure-html/corrplot-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The correlation plots give coherent results overall. For example, the average of party supporters who declared not being in favor of equal chance for foreigners are also supportive of a isolated Switzerland (see “no_chance-foreign” - “open_closed”).</p>
</section>
<section id="plotting-the-graph" class="level3">
<h3 class="anchored" data-anchor-id="plotting-the-graph">Plotting the Graph</h3>
<p>Let’s now plot a political compass for a given year. I choose the first year available: 1996. I also filter political parties to select only the most important ones: the Swiss Social Democratic Party (PSS/SPS), the Radicals (PRD), The Swiss Peoples Party (UDC/SVP), the Liberals, The Catholic-Conservatives (PDC), the Greens (PES/GPS), the Evangelical party (PEP/EVP).</p>
<div class="cell" data-hash="pol_compass_cache/html/pol compass plot 1_77d78d271d1883cd0b9b165baf130bef">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">values <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(annee <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1996</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> party <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"UDC/SVP"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PDC/CVP"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PLS/LPS"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PSS/SPS"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PRD/FDP"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PES/GPS"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PEP/EVP"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> state_market, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> open_closed, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> party, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> party)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_hline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yintercept =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_label</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"State intervention - Free market"</span>,</span>
<span id="cb3-9">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Open vs Closed Switzerland"</span>,</span>
<span id="cb3-10">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Swiss Political Compass"</span>,</span>
<span id="cb3-11">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1996"</span>,</span>
<span id="cb3-12">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Data source: Voxit"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-13">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">xlim</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-14">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ylim</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PSS/SPS"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkred"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PES/GPS"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"green"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"UDC/SVP"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkgreen"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PEP/EVP"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gold"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PLS/LPS"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blue"</span>,</span>
<span id="cb3-17">                                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PLR"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkblue"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PDC/CVP"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkorange"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PRD/FDP"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkblue"</span>))</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/political compass/pol_compass_files/figure-html/pol compass plot 1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Switzerland’s political space is often considered as constituted by three political blocs. The first plot above shows that it was indeed the case in 1996 if we look only at the main parties. The greens and social-democratic supporters are for an open Switzerland and rather for state intervention. Piketty <span class="citation" data-cites="piketty_capital_2019">(2019)</span> would call this bloc “Social-egalitarian” because social economically and egalitarian in terms of cultural/openess values. A second bloc is constituted by free-market and open Switzerland Swiss citizen, who support the Radical-Democratic party (PRD/FDP) and the Liberal party (PLS/PRD). Note that these two parties, constituting a “Social-inegalitarian bloc” <span class="citation" data-cites="piketty_capital_2019">(Piketty 2019)</span>, merged in 2009 and gave birth to the Liberal-Radical party (PLR). The graph above shows that base the two parties was indeed very close. Third and finally, what Piketty calls negatively the “Social-nativist trap” is represented here on the upper-right cadran. However, the graph clearly shows that the SVP cannot be considered as “social-nativist” because its supporters are on average clearly in favor of pro-market policies. The party is thus more “nativist-inegalitarian” than “social-nativist”. Social-nativism is not represented in Switzerland: there is no political support for any party which is on the left economically and on the right in terms of cultural values (empty upper-left cadran).</p>
</section>
<section id="time-comparisons" class="level3">
<h3 class="anchored" data-anchor-id="time-comparisons">Time Comparisons</h3>
<p>Next, let’s take advantage of what can be done with such data and visualization. It would be interesting to compare 1996 with 2016 (the last year of the dataset) to see the evolution: is the tripolar political space described above stable?</p>
<div class="cell" data-hash="pol_compass_cache/html/pol compass plot 2_abf34625f191996e9fbf968cca956a8b">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">values <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(annee <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1996</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2016</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> party <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"UDC/SVP"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PDC/CVP"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PLS/LPS"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PSS/SPS"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PRD/FDP"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PES/GPS"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PEP/EVP"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PLR"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> state_market, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> open_closed, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> party, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> party, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> party)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_hline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yintercept =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_label</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">arrow =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrow</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">length=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unit</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.30</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">type =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"closed"</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"State intervention - Free market"</span>,</span>
<span id="cb4-10">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Open vs Closed Switzerland"</span>,</span>
<span id="cb4-11">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Swiss Political Compass"</span>,</span>
<span id="cb4-12">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1996-2016"</span>,</span>
<span id="cb4-13">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Data source: Voxit"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PSS/SPS"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkred"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PES/GPS"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"green"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"UDC/SVP"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkgreen"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PEP/EVP"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gold"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PLS/LPS"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blue"</span>,</span>
<span id="cb4-16">                                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PLR"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkblue"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PDC/CVP"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkorange"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PRD/FDP"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkblue"</span>))</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/political compass/pol_compass_files/figure-html/pol compass plot 2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We can see that there is no great change overall: Switzerland’s tripolar division is still valid in 2016. The greens supporters haven’t really change their position. PSS supporter have become more right-wing economically. The PEP supporters have totally changed their position in terms of cultural values. The PLS and PRD have merged to create the PLR and the SVP supporters have become slighlty more right-wing economically.</p>
</section>
<section id="making-a-video" class="level3">
<h3 class="anchored" data-anchor-id="making-a-video">Making a Video</h3>
<p>However, a great deal of information is hidden behind this graph. In effect, we also want to know the transition every year. This would allow to check whether the tripolar division was stable or not. To do so, we have few choices but to create an animated graph that would display the graphs every year from 1996 to 2016. Fortunaly, the package gganimate allows to rather easily make such animations in R. In my case, I will simply add the function transition_time():</p>
<div class="cell" data-hash="pol_compass_cache/html/polcompass animation_2cd0f59d691f97c8d32b03d743475b83">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">anim <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb5-2">values <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(party <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"UDC/SVP"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PDC/CVP"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PLS/LPS"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PSS/SPS"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PRD/FDP"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PES/GPS"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PEP/EVP"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PLR"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> state_market, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> open_closed, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> party, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> party)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_hline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yintercept =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_label</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PSS/SPS"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkred"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PES/GPS"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"green"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"UDC/SVP"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkgreen"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PEP/EVP"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gold"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PLS/LPS"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blue"</span>,</span>
<span id="cb5-11">                                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PLR"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkblue"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PDC/CVP"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkorange"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PRD/FDP"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkblue"</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">transition_time</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">time =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(annee))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Year: {frame_time}'</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ease_aes</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'linear'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">interval =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div>
</div>
<p>Then use animate() to improve the fps, add a pause at the end and slow down the animation</p>
<div class="cell" data-hash="pol_compass_cache/html/unnamed-chunk-4_480c505174de1764f88a318bc10daa64">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">animate</span>(anim, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">duration =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fps =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">end_pause =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span>)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/political compass/pol_compass_files/figure-html/unnamed-chunk-4-1.gif" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Since gganimate provides gifs, which are sometimes not really convenient (if we want to pause the animation for example). Here is thus the same animation in video format:</p>
<div class="quarto-video"><video id="video_shortcode_videojs_video1" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://raw.githubusercontent.com/Jeylal/myblog/master/posts/political%20compass/pol_compass_video.mp4"></video></div>
</section>
<section id="replacing-party-support-by-income-group" class="level3">
<h3 class="anchored" data-anchor-id="replacing-party-support-by-income-group">Replacing party support by income group</h3>
<p>What if we average variables across income group instead of party support? We would then see how each income group situates on average on the economic and cultural axes. Have the lowest income groups become more conservative in terms of cultural values? How do the rich situate on the graph? Those are all interesting questions that can be answered by repeating the same steps above, but changing the group (part ==&gt; income group).</p>
<p>The income variable that I will use is a variable I created from two income variables of the dataset (look <a href="https://jeylal.github.io/myblog/posts/vox%20and%20voto%20analysis/vox_voto_analysis.html">here</a> if you want to see the details). The income variable has four groups.</p>
<div class="cell" data-hash="pol_compass_cache/html/table income values_fd40a48459ad04c35e62088b874272bd">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">vox<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>income_f <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(vox<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>income, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"low"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lower middle"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"upper middle"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"high"</span>))</span>
<span id="cb7-2"></span>
<span id="cb7-3">values_inc <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb7-4">vox <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb7-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(annee, income_f) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># average computed across both year and parties</span></span>
<span id="cb7-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">state_market =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(state_market, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># compute the average of standardized state vs market variable in each year for each party support group.</span></span>
<span id="cb7-7">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">open_closed =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(open_closed, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb7-8">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">envi_vs_growth =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(envi_vs_growth, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb7-9">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">inegalite_hf =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(inegalite_hf, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb7-10">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">weak_army =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(weak_army, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb7-11">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">inc_equality =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(inc_equality, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb7-12">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">no_chance_foreign =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(no_chance_foreign, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb7-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb7-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">drop_na</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb7-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"income_group"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> income_f)</span></code></pre></div>
</div>
<div class="cell" data-hash="pol_compass_cache/html/unnamed-chunk-5_fc132dc93a6d00c28d1795b798d0d146">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">values_inc <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb8-2">  dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>annee, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>income_group) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb8-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cor</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb8-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">corrplot</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">order =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hclust"</span>)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/political compass/pol_compass_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-hash="pol_compass_cache/html/plot polcompass income group_8722316470050c65ec81d8e2b0c2365e">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">values_inc <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb9-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(annee <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1996</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2016</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb9-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> state_market, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> open_closed, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> income_group, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> income_group, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> income_group)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_hline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yintercept =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_label</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">arrow =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrow</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">length=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unit</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.30</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">type =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"closed"</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"State intervention - Free market"</span>,</span>
<span id="cb9-10">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Open vs Closed Switzerland"</span>,</span>
<span id="cb9-11">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Swiss Political Compass"</span>,</span>
<span id="cb9-12">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Average by income group, 1996"</span>,</span>
<span id="cb9-13">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Data source: Voxit"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set1"</span>)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/political compass/pol_compass_files/figure-html/plot polcompass income group-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-hash="pol_compass_cache/html/unnamed-chunk-6_381c5c3118f7185adeb1789de14f1a9f">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">anim2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb10-2">values_inc <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb10-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> state_market, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> open_closed, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> income_group, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> income_group)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_hline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yintercept =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_label</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set1"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">transition_time</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">time =</span> annee)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Year: {frame_time}'</span>,</span>
<span id="cb10-12">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"State intervention - Free market"</span>,</span>
<span id="cb10-13">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Open vs Closed Switzerland"</span>,</span>
<span id="cb10-14">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Average by income group, 1996-2016"</span>,</span>
<span id="cb10-15">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Data source: Voxit"</span>)</span>
<span id="cb10-16"></span>
<span id="cb10-17"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">animate</span>(anim2, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">duration =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fps =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">end_pause =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span>)</span></code></pre></div>
</div>
<div class="quarto-video"><video id="video_shortcode_videojs_video2" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://raw.githubusercontent.com/Jeylal/myblog/master/posts/political%20compass/polcomp2.mp4"></video></div>



</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0">
<div id="ref-inglehart_silent_1971" class="csl-entry">
Inglehart, Ronald. 1971. <span>“The Silent Revolution in Europe: Intergenerational Change in Post-Industrial Societies.”</span> <em>American Political Science Review</em> 65 (4): 991–1017. <a href="https://doi.org/10.2307/1953494">https://doi.org/10.2307/1953494</a>.
</div>
<div id="ref-oesch_electoral_2018" class="csl-entry">
Oesch, Daniel, and Line Rennwald. 2018. <span>“Electoral Competition in Europe’s New Tripolar Political Space: Class Voting for the Left, Centre-Right and Radical Right.”</span> <em>European Journal of Political Research</em> 57 (4): 783–807. <a href="https://doi.org/10.1111/1475-6765.12259">https://doi.org/10.1111/1475-6765.12259</a>.
</div>
<div id="ref-piketty_capital_2019" class="csl-entry">
Piketty, Thomas. 2019. <em>Capital Et Idéologie</em>. Le Seuil.
</div>
<div id="ref-sciarini_politique_2023" class="csl-entry">
Sciarini, Pascal. 2023. <em>Politique Suisse - Institutions, Acteurs, Processus</em>. Lausanne: Presses polytechniques et universitaires romandes. <a href="https://www.epflpress.org/produit/1421/9782889155279/politique-suisse">https://www.epflpress.org/produit/1421/9782889155279/politique-suisse</a>.
</div>
</div></section></div> ]]></description>
  <category>Political Science</category>
  <category>Statistics</category>
  <guid>https://jeylal.github.io/celalguney/posts/political compass/pol_compass.html</guid>
  <pubDate>Thu, 20 Jul 2023 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Political Conflict and Inequality in Switzerland</title>
  <dc:creator>Celâl Güney</dc:creator>
  <link>https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis.html</link>
  <description><![CDATA[ 





<section id="political-cleavages-and-inequality" class="level1">
<h1>Political Cleavages and inequality</h1>
<section id="introduction-and-problématique" class="level2">
<h2 class="anchored" data-anchor-id="introduction-and-problématique">Introduction and Problématique</h2>
<p>How does social inequality affect political cleavages and political conflict? A recent trend in political economy has developed and built a tremendous analysis of the evolution of political cleavages in almost all democratic countries around the world. This sudden interest, whose origin can be traced back to Piketty’s last book <span class="citation" data-cites="piketty_capital_2019">(Piketty 2019)</span>, gave rise to the World Political Cleavages and Inequality Database (<a href="https://wpid.world/">WPID</a>) and to a book which analyses the effect of income, social and educational inequality on the structure and transformation of political cleavages from 1948 to 2020 in 50 countries <span class="citation" data-cites="gethin_political_2021">(Gethin, Martinez-Toledano, and Piketty 2021)</span>.</p>
<p>Why have political cleavages and political conflict become popular among economists such as Piketty, who were originally more focused on inequality analysis? An answer could be the inequality paradox: the fact that rising inequality in almost all developed countries in the world has no paved the way to growing support for left and far-left parties, income and wealth redistribution and for political contest in general. Political economists such as Piketty have spent years studying inequality, how the latter has evolved and can disturb political and economic stability and how they can be reduced to make society more equal. However, whereas the technical solutions are here, political outcomes are not. Political economists have thus realized that the persistence of inequality is not only technical problem, but also a political one and that inequality analysis musts thus take politics into account.</p>
<p>It is interesting to note how the same reasoning can be applied to ecology. Ecologists face indeed the same issue: global warming becomes increasingly more threatening, and scholars know how it could be stopped or at least reduced, but there is paradoxically no political outcome and no serious political measure which has been taken despite the emergency.</p>
<p>The work of Piketty and coauthors can be summarized as follows: in the post-war period, political cleavages were bipolar with respectively a left a right bloc. Support for social-democratic parties was negatively correlated with income and education: the lower the income and level of education, the higher the probability to support the left and left economic policies. Conversely, support for right-wing parties was positively linked with income and educational level. Political cleavage was thus “classist” and bipolar in the sense that the political positioning of an individual on the left-right axis was mainly determined by his position in the economic structure.</p>
<p>The situation changed around the 1970s and 1980s: the support for the left became positively correlated with education whereas the support for the right remained linked positively with income and education. Political cleavages became thus “multipolar” by combining an economic cleavage (degree of income and wealth), which became relatively less salient, with a growing “cultural” cleavage due to the increase in average educational level. People who are familiar with political science literature will here recognize that Piketty is simply re-asserting Inglehart’s famous “post-materialist” divide over cultural issue, but giving much importance to education as a source of this cleavage.</p>
<p>The left has thus become “brahmin” because supported by high education voters. The right remains “merchant” because it still is supported by the rich. Finally, a new bloc, the “social-nativist” bloc, gathers voters with low income and low educational level. Piketty shows great concern towards the latter, calling it often the “social-nativist trap” <span class="citation" data-cites="piketty_capital_2019">(Piketty 2019)</span>.</p>
<p>Amable and Darcillon <span class="citation" data-cites="amable_brahmin_2022">(2022)</span> offer more contrasted results. Income levels are found to be still an important factor in the formation of political preferences in the classic left-right divide. They identify the possible alliance between the most educated and rich groups, giving rise to a bourgeois bloc. Amable and Palombarini notably described and analyzed how the traditional left and right blocs collapsed in France and how this phenomena allowed the emergence of a bourgeois bloc (led by Macron and his party) gathering the most educated and wealthy voters. In this perspective, the emergence of a bloc bourgeois does not imply the end of class conflict, but rather its reinforcement <span class="citation" data-cites="amable_illusion_2018">(Amable and Palombarini 2018)</span>.</p>
</section>
<section id="political-cleavages-political-conflict-and-inequality-in-switzerland" class="level2">
<h2 class="anchored" data-anchor-id="political-cleavages-political-conflict-and-inequality-in-switzerland">Political cleavages, political conflict and inequality in Switzerland</h2>
<p>Switzerland is considered by this literature as the country in which those transformations have been one of the most important. For instance, Durrer de la Sota et al.&nbsp;explain that “Switzerland is the country where the shift of the higher educated towards the left has been the most dramatic” <span class="citation" data-cites="durrer_de_la_sota_party_2021">(Durrer de la Sota, Gethin, and Martinez-Toledano 2021, 4)</span>. Switzerland is infamous for being the home of one of the most successful social-nativist party, the SVP which now the first political party in Switzerland. Green parties have also become an important force and they are separated between the liberal ecologists and social ecologists. The important elements of the WPID’s analysis of Switzerland are the following:</p>
<ul>
<li><p>The authors used Swiss Election Studies (<em>Selects</em>) data, which are data collected after each parliamentary election.</p></li>
<li><p>The educational shift happened in the late 80s, the period 1983-7 being the last “class-based” period. Switzerland’s political landscape is now a multi-polar and multi-elite one: the support for the greens and socialists is linked positively with education, the rich still support radical/liberal parties and the SVP represents the social-nativist bloc gathering the low income and low education voters.</p></li>
<li><p>The traditional parties, the Socialists (Swiss Socialist Party SSP), the Liberals and Radicals, and the Christian Democrats are in a declining trend, if not collapsing.</p></li>
<li><p>The Greens andradical right are the new strong emergent parties, the latter being the most important bloc.</p></li>
</ul>
<section id="research-questions-hypotheses-and-empirical-strategy" class="level3">
<h3 class="anchored" data-anchor-id="research-questions-hypotheses-and-empirical-strategy">Research questions, hypotheses and empirical strategy</h3>
</section>
<section id="research-question" class="level3">
<h3 class="anchored" data-anchor-id="research-question">Research question</h3>
<p>The present article will test Piketty’s Brahmin left vs Merchant right divide as well as the WPID’s findings on Switzerland. The objective is to explore the following research question:</p>
<ul>
<li><p>To what extent is the support for the left linked positively with the level of education and negatively with the level of income</p></li>
<li><p>To what extent is the support for right parties linked positively with the level of income</p></li>
<li><p>Are there parties for which the support increase with both the level of income and education?</p></li>
</ul>
</section>
<section id="hypothese" class="level3">
<h3 class="anchored" data-anchor-id="hypothese">Hypothese</h3>
<p>These research questions can be given temporary hypothetical answers:</p>
<ul>
<li><p>Brahmin left hypothesis:</p>
<ul>
<li>The support for left-wing parties (mostly SSP and the Greens) is linked positively with the level of education, with no clear link with the level of income.</li>
</ul></li>
<li><p>Merchant right hypothesis:</p>
<ul>
<li>The support for traditional right-wing parties (Liberal-Radicals, Christian Democrats which have become recenty “the center”) is linked positively with the level of income.</li>
</ul></li>
<li><p>Bourgeois bloc hypothesis</p>
<ul>
<li>The support for right-wing parties is linked positively with both the level of income and education.</li>
</ul></li>
</ul>
</section>
<section id="data" class="level3">
<h3 class="anchored" data-anchor-id="data">Data</h3>
<p>As mentioned above, the WPID’s findings for Switzerland are based on Selects data. Since using Selects data again would not make great sense, unless a very different and specific methodology is used, I tried my best to find another data source. I have thus found an interesting dataset, the standardized Voxlt surveys, which are post-electoral survey data that were collected after each referendum voting from 1981 to 2016. In those surveys, not only referendum voting decisions were collected, but also information on party identification, left-right positioning and various soc-dem characteristics.</p>
<p>Party identification will obviously be the dependent variable. I create a dummy variable for each party support.</p>
<div class="cell">
<div class="cell-output-display">
<div id="xyvwruomjf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#xyvwruomjf .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #FFFFFF;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #333333;
  width: auto;
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #333333;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #333333;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #333333;
}

#xyvwruomjf .gt_heading {
  background-color: #333333;
  text-align: left;
  border-bottom-color: #333333;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xyvwruomjf .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#xyvwruomjf .gt_title {
  color: #FFFFFF;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #333333;
  border-bottom-width: 0;
}

#xyvwruomjf .gt_subtitle {
  color: #FFFFFF;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #333333;
  border-top-width: 0;
}

#xyvwruomjf .gt_bottom_border {
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xyvwruomjf .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xyvwruomjf .gt_col_heading {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xyvwruomjf .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xyvwruomjf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xyvwruomjf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xyvwruomjf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xyvwruomjf .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#xyvwruomjf .gt_empty_group_heading {
  padding: 0.5px;
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xyvwruomjf .gt_from_md > :first-child {
  margin-top: 0;
}

#xyvwruomjf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xyvwruomjf .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xyvwruomjf .gt_stub {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#xyvwruomjf .gt_stub_row_group {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#xyvwruomjf .gt_row_group_first td {
  border-top-width: 2px;
}

#xyvwruomjf .gt_summary_row {
  color: #FFFFFF;
  background-color: #333333;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xyvwruomjf .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#xyvwruomjf .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#xyvwruomjf .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xyvwruomjf .gt_grand_summary_row {
  color: #FFFFFF;
  background-color: #333333;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xyvwruomjf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xyvwruomjf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#xyvwruomjf .gt_table_body {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #333333;
}

#xyvwruomjf .gt_footnotes {
  color: #FFFFFF;
  background-color: #333333;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xyvwruomjf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xyvwruomjf .gt_sourcenotes {
  color: #FFFFFF;
  background-color: #333333;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xyvwruomjf .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xyvwruomjf .gt_left {
  text-align: left;
}

#xyvwruomjf .gt_center {
  text-align: center;
}

#xyvwruomjf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xyvwruomjf .gt_font_normal {
  font-weight: normal;
}

#xyvwruomjf .gt_font_bold {
  font-weight: bold;
}

#xyvwruomjf .gt_font_italic {
  font-style: italic;
}

#xyvwruomjf .gt_super {
  font-size: 65%;
}

#xyvwruomjf .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#xyvwruomjf .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#xyvwruomjf .gt_indent_1 {
  text-indent: 5px;
}

#xyvwruomjf .gt_indent_2 {
  text-indent: 10px;
}

#xyvwruomjf .gt_indent_3 {
  text-indent: 15px;
}

#xyvwruomjf .gt_indent_4 {
  text-indent: 20px;
}

#xyvwruomjf .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead class="gt_col_headings">
<tr class="header">
<th id="p02" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">p02</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">n</th>
<th id="prop" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">prop</th>
<th id="label" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">label</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">1938</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0177440029</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">PDC+PCS groupés</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">227</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0020783739</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">PCS/CSP</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">2</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">6148</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0562900568</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">PDC/CVP</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">3</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">905</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0082860282</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">PEP/EVP</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">4</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">7511</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0687694561</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">PRD/FDP</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">5</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">376</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0034425929</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">PdL (PA)/FPS (AP)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">6</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">3175</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0290697674</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">PES/GPS</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">7</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">663</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0060703168</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">AdI/LdU</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">8</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">580</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0053103827</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">Lega</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">9</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">963</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0088170665</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">PLS/LPS</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">10</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">672</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0061527193</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">PdT [POCH, PSA]/PdA [POCH, PSA]</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">11</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">282</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0025819447</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">DS (AN)/SD (NA)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">12</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">16326</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1494781176</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">PSS/SPS</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">13</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">10603</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0970792895</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">UDC/SVP</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">14</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">79</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0007233107</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">FraP</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">15</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">161</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0014740890</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">AV/GB</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">16</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">15</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0001373375</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">AdG</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">17</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">143</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0013092840</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">UDF/EDU</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">18</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">541</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0049533053</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">PBD/BDP</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">19</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">836</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0076542758</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">Verts Libéraux/GLP</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">20</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">4368</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0399926753</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">PLR/FDP Die Liberalen</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">30</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">915</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0083775865</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">Autre parti</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">31</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">4495</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0411554660</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">Plusieurs partis</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">32</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">2123</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0194378319</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">Pas un parti, mais une personne</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">33</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">34607</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.3168558872</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">Aucun parti</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="p02" style="font-family: 'Source Sans Pro'; font-weight: 400">NA</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">10568</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.0967588354</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">NA</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>The two main explanatory variable will be income and educational level. On the one hand, the dataset contains the variable “educ” which is a 1-6 point scale variable on the highest achieved level of education of the respondant, 1 being mandatory school and 6 university. I do not here perform any modification on this variable and I will consider it as continuous. Considering this variable as continuous is not a ideal option since the distance between each group is not really the same, but since I will perform complex multilevel models with years as a level and varying slopes for education and income, considering this variable as a factor would make computation in R very hard and tedious (especially the glmer function, which can take a long time).</p>
<p>On the other hand, the dataset offers two variables for income: “nivmena” and “revenu”.</p>
<div class="cell">
<div class="cell-output-display">
<div id="kajgedhzma" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#kajgedhzma .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #FFFFFF;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #333333;
  width: auto;
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #333333;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #333333;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #333333;
}

#kajgedhzma .gt_heading {
  background-color: #333333;
  text-align: left;
  border-bottom-color: #333333;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kajgedhzma .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#kajgedhzma .gt_title {
  color: #FFFFFF;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #333333;
  border-bottom-width: 0;
}

#kajgedhzma .gt_subtitle {
  color: #FFFFFF;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #333333;
  border-top-width: 0;
}

#kajgedhzma .gt_bottom_border {
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kajgedhzma .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kajgedhzma .gt_col_heading {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#kajgedhzma .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#kajgedhzma .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#kajgedhzma .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#kajgedhzma .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#kajgedhzma .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#kajgedhzma .gt_empty_group_heading {
  padding: 0.5px;
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#kajgedhzma .gt_from_md > :first-child {
  margin-top: 0;
}

#kajgedhzma .gt_from_md > :last-child {
  margin-bottom: 0;
}

#kajgedhzma .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#kajgedhzma .gt_stub {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#kajgedhzma .gt_stub_row_group {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#kajgedhzma .gt_row_group_first td {
  border-top-width: 2px;
}

#kajgedhzma .gt_summary_row {
  color: #FFFFFF;
  background-color: #333333;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kajgedhzma .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#kajgedhzma .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#kajgedhzma .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kajgedhzma .gt_grand_summary_row {
  color: #FFFFFF;
  background-color: #333333;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kajgedhzma .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#kajgedhzma .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#kajgedhzma .gt_table_body {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #333333;
}

#kajgedhzma .gt_footnotes {
  color: #FFFFFF;
  background-color: #333333;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kajgedhzma .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kajgedhzma .gt_sourcenotes {
  color: #FFFFFF;
  background-color: #333333;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kajgedhzma .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kajgedhzma .gt_left {
  text-align: left;
}

#kajgedhzma .gt_center {
  text-align: center;
}

#kajgedhzma .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#kajgedhzma .gt_font_normal {
  font-weight: normal;
}

#kajgedhzma .gt_font_bold {
  font-weight: bold;
}

#kajgedhzma .gt_font_italic {
  font-style: italic;
}

#kajgedhzma .gt_super {
  font-size: 65%;
}

#kajgedhzma .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#kajgedhzma .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#kajgedhzma .gt_indent_1 {
  text-indent: 5px;
}

#kajgedhzma .gt_indent_2 {
  text-indent: 10px;
}

#kajgedhzma .gt_indent_3 {
  text-indent: 15px;
}

#kajgedhzma .gt_indent_4 {
  text-indent: 20px;
}

#kajgedhzma .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead class="gt_col_headings">
<tr class="header">
<th id="educ" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">educ</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">n</th>
<th id="prop" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">prop</th>
<th id="label" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">label</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="educ" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">14982</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.137172679</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">Ecole obligatoire</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="educ" style="font-family: 'Source Sans Pro'; font-weight: 400">2</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">50054</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.458286028</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">Apprentissage</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="educ" style="font-family: 'Source Sans Pro'; font-weight: 400">3</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">9926</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.090880791</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">Maturité + école normale</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="educ" style="font-family: 'Source Sans Pro'; font-weight: 400">4</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">11006</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.100769090</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">Formation prof. supérieure</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="educ" style="font-family: 'Source Sans Pro'; font-weight: 400">5</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">5695</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.052142465</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">Haute école spécialisée</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="educ" style="font-family: 'Source Sans Pro'; font-weight: 400">6</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">16640</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.152353049</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">Université + Polytechnique</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="educ" style="font-family: 'Source Sans Pro'; font-weight: 400">NA</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">917</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.008395898</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">NA</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>On the other hand, the dataset offers two variables for income: “nivmena” and “revenu”. Nivmena, a 4 point scale ordinal variable (in categories), was collected until 1993 and revenu was then collected. the latter is a 5 points scale ordinal income brackets variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1">vox <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>(nivmena) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop =</span> n<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(n), </span>
<span id="cb1-4">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as_character</span>(nivmena)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt_theme_dark</span>()</span></code></pre></div>
<div class="cell-output-display">
<div id="ohvmsywytj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ohvmsywytj .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #FFFFFF;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #333333;
  width: auto;
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #333333;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #333333;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #333333;
}

#ohvmsywytj .gt_heading {
  background-color: #333333;
  text-align: left;
  border-bottom-color: #333333;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ohvmsywytj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ohvmsywytj .gt_title {
  color: #FFFFFF;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #333333;
  border-bottom-width: 0;
}

#ohvmsywytj .gt_subtitle {
  color: #FFFFFF;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #333333;
  border-top-width: 0;
}

#ohvmsywytj .gt_bottom_border {
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ohvmsywytj .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ohvmsywytj .gt_col_heading {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ohvmsywytj .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ohvmsywytj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ohvmsywytj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ohvmsywytj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ohvmsywytj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ohvmsywytj .gt_empty_group_heading {
  padding: 0.5px;
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ohvmsywytj .gt_from_md > :first-child {
  margin-top: 0;
}

#ohvmsywytj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ohvmsywytj .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ohvmsywytj .gt_stub {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ohvmsywytj .gt_stub_row_group {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ohvmsywytj .gt_row_group_first td {
  border-top-width: 2px;
}

#ohvmsywytj .gt_summary_row {
  color: #FFFFFF;
  background-color: #333333;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ohvmsywytj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ohvmsywytj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ohvmsywytj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ohvmsywytj .gt_grand_summary_row {
  color: #FFFFFF;
  background-color: #333333;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ohvmsywytj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ohvmsywytj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ohvmsywytj .gt_table_body {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #333333;
}

#ohvmsywytj .gt_footnotes {
  color: #FFFFFF;
  background-color: #333333;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ohvmsywytj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ohvmsywytj .gt_sourcenotes {
  color: #FFFFFF;
  background-color: #333333;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ohvmsywytj .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ohvmsywytj .gt_left {
  text-align: left;
}

#ohvmsywytj .gt_center {
  text-align: center;
}

#ohvmsywytj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ohvmsywytj .gt_font_normal {
  font-weight: normal;
}

#ohvmsywytj .gt_font_bold {
  font-weight: bold;
}

#ohvmsywytj .gt_font_italic {
  font-style: italic;
}

#ohvmsywytj .gt_super {
  font-size: 65%;
}

#ohvmsywytj .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#ohvmsywytj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ohvmsywytj .gt_indent_1 {
  text-indent: 5px;
}

#ohvmsywytj .gt_indent_2 {
  text-indent: 10px;
}

#ohvmsywytj .gt_indent_3 {
  text-indent: 15px;
}

#ohvmsywytj .gt_indent_4 {
  text-indent: 20px;
}

#ohvmsywytj .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead class="gt_col_headings">
<tr class="header">
<th id="nivmena" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">nivmena</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">n</th>
<th id="prop" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">prop</th>
<th id="label" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">label</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="nivmena" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">1887</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.01727706</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">Elevé</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="nivmena" style="font-family: 'Source Sans Pro'; font-weight: 400">2</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">6687</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.06122505</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">Moyen supérieur</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="nivmena" style="font-family: 'Source Sans Pro'; font-weight: 400">3</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">12438</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.11388024</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">Moyen inférieur</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="nivmena" style="font-family: 'Source Sans Pro'; font-weight: 400">4</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">3283</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.03005860</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">Bas</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="nivmena" style="font-family: 'Source Sans Pro'; font-weight: 400">NA</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">84925</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.77755906</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">NA</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">vox <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb2-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>(revenu) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb2-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop =</span> n<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(n), </span>
<span id="cb2-4">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as_character</span>(revenu)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb2-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb2-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt_theme_dark</span>()</span></code></pre></div>
<div class="cell-output-display">
<div id="sixjdcijkr" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#sixjdcijkr .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #FFFFFF;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #333333;
  width: auto;
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #333333;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #333333;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #333333;
}

#sixjdcijkr .gt_heading {
  background-color: #333333;
  text-align: left;
  border-bottom-color: #333333;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#sixjdcijkr .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#sixjdcijkr .gt_title {
  color: #FFFFFF;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #333333;
  border-bottom-width: 0;
}

#sixjdcijkr .gt_subtitle {
  color: #FFFFFF;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #333333;
  border-top-width: 0;
}

#sixjdcijkr .gt_bottom_border {
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#sixjdcijkr .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#sixjdcijkr .gt_col_heading {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#sixjdcijkr .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#sixjdcijkr .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#sixjdcijkr .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#sixjdcijkr .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#sixjdcijkr .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#sixjdcijkr .gt_empty_group_heading {
  padding: 0.5px;
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#sixjdcijkr .gt_from_md > :first-child {
  margin-top: 0;
}

#sixjdcijkr .gt_from_md > :last-child {
  margin-bottom: 0;
}

#sixjdcijkr .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#sixjdcijkr .gt_stub {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#sixjdcijkr .gt_stub_row_group {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#sixjdcijkr .gt_row_group_first td {
  border-top-width: 2px;
}

#sixjdcijkr .gt_summary_row {
  color: #FFFFFF;
  background-color: #333333;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#sixjdcijkr .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#sixjdcijkr .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#sixjdcijkr .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#sixjdcijkr .gt_grand_summary_row {
  color: #FFFFFF;
  background-color: #333333;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#sixjdcijkr .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#sixjdcijkr .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#sixjdcijkr .gt_table_body {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #333333;
}

#sixjdcijkr .gt_footnotes {
  color: #FFFFFF;
  background-color: #333333;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#sixjdcijkr .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#sixjdcijkr .gt_sourcenotes {
  color: #FFFFFF;
  background-color: #333333;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#sixjdcijkr .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#sixjdcijkr .gt_left {
  text-align: left;
}

#sixjdcijkr .gt_center {
  text-align: center;
}

#sixjdcijkr .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#sixjdcijkr .gt_font_normal {
  font-weight: normal;
}

#sixjdcijkr .gt_font_bold {
  font-weight: bold;
}

#sixjdcijkr .gt_font_italic {
  font-style: italic;
}

#sixjdcijkr .gt_super {
  font-size: 65%;
}

#sixjdcijkr .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#sixjdcijkr .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#sixjdcijkr .gt_indent_1 {
  text-indent: 5px;
}

#sixjdcijkr .gt_indent_2 {
  text-indent: 10px;
}

#sixjdcijkr .gt_indent_3 {
  text-indent: 15px;
}

#sixjdcijkr .gt_indent_4 {
  text-indent: 20px;
}

#sixjdcijkr .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead class="gt_col_headings">
<tr class="header">
<th id="revenu" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">revenu</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">n</th>
<th id="prop" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">prop</th>
<th id="label" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">label</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="revenu" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">7886</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07220289</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">3'000.- CHF et moins</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="revenu" style="font-family: 'Source Sans Pro'; font-weight: 400">2</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">17535</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.16054752</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">de 3'001 à 5'000.- CHF</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="revenu" style="font-family: 'Source Sans Pro'; font-weight: 400">3</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">18302</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.16757004</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">de 5'001 à 7'000.- CHF</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="revenu" style="font-family: 'Source Sans Pro'; font-weight: 400">4</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">11988</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.10976012</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">de 7'001 à 9'000.- CHF</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="revenu" style="font-family: 'Source Sans Pro'; font-weight: 400">5</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">12390</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.11344076</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">9'001.- CHF et plus</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="revenu" style="font-family: 'Source Sans Pro'; font-weight: 400">8</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">4784</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04380150</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">nsp</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="revenu" style="font-family: 'Source Sans Pro'; font-weight: 400">NA</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">36335</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.33267717</td>
<td class="gt_row gt_left" headers="label" style="font-family: 'Source Sans Pro'; font-weight: 400">NA</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>I made the choice to merge the two variables by recoding the revenu variable so that it fits into the categories of the first variable. I do so by considering the first income bracket as the “low” category, the second as “inferior-middle”, the third and fourth as the “upper-middle” category and the fifth as the “upper” category.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Two ways to create the income variable</span></span>
<span id="cb3-2">vox <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> vox <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">income =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">if_else</span>(revenu <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(nivmena), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>,</span>
<span id="cb3-4">                          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">if_else</span>(revenu <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(nivmena), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>,</span>
<span id="cb3-5">                                  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">if_else</span>(revenu <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(nivmena), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,</span>
<span id="cb3-6">                                          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">if_else</span>(revenu <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(nivmena), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb3-7">                                                  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">if_else</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(revenu) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> annee <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1993</span>, nivmena, <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>))))))</span>
<span id="cb3-8"></span>
<span id="cb3-9">         </span>
<span id="cb3-10">vox<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>income <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(vox<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>income <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb3-11">                    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(vox<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>income <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>,</span>
<span id="cb3-12">                        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(vox<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>income <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb3-13">                          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(vox<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>income <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>)))) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># centering around zero, this will make the intercept more interpretable </span></span>
<span id="cb3-14"></span>
<span id="cb3-15"></span>
<span id="cb3-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># for education, rescale the values so that the lowest level is equal to zero</span></span>
<span id="cb3-17">vox <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> vox <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-18">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">education =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(</span>
<span id="cb3-19">    educ <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>,</span>
<span id="cb3-20">    educ <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb3-21">    educ <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,</span>
<span id="cb3-22">    educ <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>,</span>
<span id="cb3-23">    educ <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>,</span>
<span id="cb3-24">    educ <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>,</span>
<span id="cb3-25">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(educ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span></span>
<span id="cb3-26">  ))</span></code></pre></div>
</div>
</section>
</section>
<section id="exploratory-analysis" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-analysis">Exploratory Analysis</h2>
<p>Let’s first see how support for the Swiss Socialist Party (SSP) evolved across income groups in the last decades. I expect the lower groups to support the SSP until the 1990s, when the poor have supposedly shifted their support from the SSP to other parties (mainly the SVP) or to abstention.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/vote for the left by income group-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The graph above shows well the reversal of the SSP support. From 1981 to around 1992, the lowest income groups (1 and 2) were the groups that supported the SSP the most. The richest group (4) was clearly not supporting the SSP a lot until the middle of the 1990s, when it became the most supportive group!. A reversal has thus clearly happened during the 1990s: the support for SSP declined among the poorest and increased among the upper middle class and the richest.</p>
<p>Let’s now see how the support for the radicals/Liberals evolved. The Radicals are surely one of the most important political bloc historically in Switzerland. Radicals literally created modern Switzerland in the middle of the 19th century. Radicals underwent a lot of transformations, fusions and alliances with other parties. From 1984 to 2008, their party was the “radical-democratic party” after having merged with Swiss democrates. In 2009, this party merged again with another, the Swiss Liberal party, to create the Liberal-Radical (PLR) party which is the party which exists until nowadays. The bourgeois element of this bloc has never been a taboo and the PLR can clearly be named a bourgeois party.</p>
<p>The bourgeois dimension of the PLR is also made clear by the graph below:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/support plr by income group-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We can see that the radical-democrates (from 1981 to 2008) and then PLR (2009-2016) was always mainly supported by the richest income groups. Support among the poorest rarely went beyond the 10%.</p>
<p>Regarding the support for Swiss People’s party (SVP), here is the graph below:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/support udc by income group-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The graph illustrates well how the avarage support for SVP increased in almost all income groups, except for the highest group. The latter used to support SVP the most until the late 1990s. Moreover, we can see that the common and widespread idea that the SVP is the most successful among the poorest voters is an exaggeration. The support for SVP also increased among the third and second income group. It is interesting to note how a reversal happened in 1992, the year of the voting on the adhesion to the European Economic Area (EEA). Before 1992, the richest group used to be the most supportive of the SVP. After 1992, the support among the richest declined and is the lowest in almost every year.</p>
</section>
<section id="modelling" class="level2">
<h2 class="anchored" data-anchor-id="modelling">Modelling</h2>
<p>To analyze the relationship between party support and income and education, let’s now run some regressions. I will run separate binary logit regression for each party support dummies with income and education as explanatory variable. Since we have a timeframe which goes from 1981 to 2016, a choice has to be made regarding which regression model to run in order to take years into account. The first and most simple option would be to run separate regressions for each year. This is the repeated cross-sectional regression option. Another option would be to run a multilevel regression with years as a level and with varying slopes for education and income.</p>
<p>The first option is a lot more convenient than the multilevel model, because it is a lot faster to run in R, especially when control variables are added in the model. However, multilevel model is more appropriated and gives more robust results and better inference. Since it would be also interesting to compare the results between the two options, both repeated cross-sectional and multilevel regressions will be run here.</p>
<section id="repeated-cross-section-support-for-ssp" class="level4">
<h4 class="anchored" data-anchor-id="repeated-cross-section-support-for-ssp">Repeated Cross-section: support for SSP</h4>
<p>Let’s first run binary logit regression separately for each year of the dataset. The package purrr and map() function allows to do this quiet easily:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">glmer_ssp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb4-2">  vox <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">split</span>(.<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>annee_f) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glmer</span>(pss <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> income <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> education <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> gender <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> canton_f),</span>
<span id="cb4-5">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> .x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">binomial</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">link =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"logit"</span>)))</span>
<span id="cb4-6"></span>
<span id="cb4-7"></span>
<span id="cb4-8"></span>
<span id="cb4-9">ame_glmer_ssp_inc <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb4-10">glmer_ssp <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slopes</span>(.x ,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">variables =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"income"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map_df</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(.x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ame =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(estimate),</span>
<span id="cb4-13">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">high =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(conf.high),</span>
<span id="cb4-14">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">low =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(conf.low))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-15">           <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">year =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1981</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2016</span>,</span>
<span id="cb4-16">                  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">variable =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"income"</span>)</span>
<span id="cb4-17"></span>
<span id="cb4-18">ame_glmer_ssp_educ <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb4-19">glmer_ssp <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-20">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slopes</span>(.x ,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">variables =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"education"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-21">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map_df</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(.x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ame =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(estimate),</span>
<span id="cb4-22">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">high =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(conf.high),</span>
<span id="cb4-23">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">low =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(conf.low))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-24">           <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">year =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1981</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2016</span>,</span>
<span id="cb4-25">                  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">variable =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"education"</span>)</span>
<span id="cb4-26"></span>
<span id="cb4-27"></span>
<span id="cb4-28">ame_glmer_ssp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rbind</span>(ame_glmer_ssp_inc, ame_glmer_ssp_educ)</span>
<span id="cb4-29"></span>
<span id="cb4-30">ame_glmer_ssp <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot_ame</span>()</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">nprcs_ssp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb5-2">vox <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">split</span>(.<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>annee_f) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glm</span>(pss <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> income <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> education, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> .x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">binomial</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">link =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"logit"</span>)))</span></code></pre></div>
</div>
<p>To present the results, I compute average marginal effects (AME) for each year:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># computing average marginal effect for each year</span></span>
<span id="cb6-2">ame_income_nprcrs_ssp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb6-3">nprcs_ssp <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb6-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slopes</span>(.x ,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">variables =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"income"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb6-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map_df</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(.x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ame =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(estimate),</span>
<span id="cb6-6">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">high =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(conf.high),</span>
<span id="cb6-7">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">low =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(conf.low))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb6-8">           <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">year =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1981</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2016</span>,</span>
<span id="cb6-9">                  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">variable =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"income"</span>)</span>
<span id="cb6-10"></span>
<span id="cb6-11">ame_educ_nprcrs_ssp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb6-12">nprcs_ssp <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb6-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slopes</span>(.x ,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">variables =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"education"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb6-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map_df</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(.x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ame =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(estimate),</span>
<span id="cb6-15">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">high =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(conf.high),</span>
<span id="cb6-16">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">low =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(conf.low))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb6-17">           <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">year =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1981</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2016</span>, </span>
<span id="cb6-18">                  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">variable =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"educ"</span>)</span>
<span id="cb6-19"></span>
<span id="cb6-20"></span>
<span id="cb6-21">ame_nprcrs_ssp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rbind</span>(ame_income_nprcrs_ssp, ame_educ_nprcrs_ssp)</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## plot the AME for each year</span></span>
<span id="cb7-2">plot_ame_ssp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb7-3">ame_nprcrs_ssp <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb7-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot_ame</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Probability to vote for SSP"</span>,</span>
<span id="cb7-6">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Repeated Cross-sectional logit regressions"</span>,</span>
<span id="cb7-7">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Average Marginal Effect"</span>)</span>
<span id="cb7-8">plot_ame_ssp</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/plot ame nprcs ssp-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This graph offers interesting results. The support for SSP used to be strongly negatively associated with income in 1981-2, but this negative relationship declined a lot during the 80s. It recovered a bit during the 90s but then even became positive in the middle of the 1990s and positive again in the early 2000s. On the other hand, the support for SSP seems to be always linked positively with the level of education. We can thus say that the SSP was and still is indeed a brahmin party, and even endorse the role of a bourgeois party for some years when its support is linked positively with income and education.</p>
<p>Another way to represent the relationship between support for SSP and income and education is to estimates of probability differences between given values of the predictors using the comparisons() function, which compute (in our case) probability differences between values at certain levels. The graph below show comparisons between the highest and lowest income groups (4-1). For education, I compare the highest level of education (university) not with the lowest level (primary school), but with vocational trainees/apprenticeship because the latter is the most widespread highest achieved level of education in Switzerland, even nowadays.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/nprcs comparisons ssp-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>In 1981, an individual of the highest income group was 28% less probable to support the SSP compared with someone from the lowest income income. This difference decreased substantially over the years, and is rather close to zero nowadays. This is not the case for education. In 1981, a highly educated individual from either university of polytechnic school had around 19% more probabilities to support the SSP than someone who completed an apprenticeship. This difference has decreased over the years, but is still quiet high, around 10% in 2016. This show that the SSP was and still is the party of the most educated, but not necessarily of the poorest or the richest.</p>
<p>To check whether the results above are robust, I run and present a second model which controls for soc-dem characteristics (age, gender, marital status, region):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">plot_ame_nprcs_ssp_controls <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb8-2">ame_nprcs_ssp_controls <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb8-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot_ame</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Probability to support the SSP"</span>,</span>
<span id="cb8-5">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Repeated Cross-sectional logit regressions, after controls"</span>,</span>
<span id="cb8-6">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Average Marginal Effect"</span>)</span>
<span id="cb8-7"></span>
<span id="cb8-8">plot_ame_nprcs_ssp_controls</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/plot ame ssp full-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The graph above does not imply any change to the broad picture, let’s see for comparisons</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/plot comparisons ssp controls-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The differences in probability have slighlty change, but the conclusions here are in fine the same as the no-controls regression.</p>
</section>
<section id="repeated-cross-section-support-for-svp" class="level4">
<h4 class="anchored" data-anchor-id="repeated-cross-section-support-for-svp">Repeated Cross-section: support for SVP</h4>
<p>The results show how the support for SVP is clearly linked negatively with educational level. The relationship with income is less clear since a lot of the results are not statistically significant (the confidence interval cross 0 for most years). Here I will not give any conclusion before fitting the multilevel regression.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/comparisons svp-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="repeated-cross-section-support-for-plr" class="level4">
<h4 class="anchored" data-anchor-id="repeated-cross-section-support-for-plr">Repeated Cross-section: support for PLR</h4>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/plr nprcs controls-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">comparisons_plr_educ <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb9-2">  nprcs_plr_controls <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb9-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">comparisons_educ</span>()</span>
<span id="cb9-4"></span>
<span id="cb9-5">comparisons_plr_income <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb9-6">  nprcs_plr_controls <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb9-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">comparisons_income</span>()</span>
<span id="cb9-8"></span>
<span id="cb9-9"></span>
<span id="cb9-10">comparisons_plr <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rbind</span>(comparisons_plr_educ, comparisons_plr_income)</span>
<span id="cb9-11"></span>
<span id="cb9-12">comparisons_plr <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb9-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot_ame</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Difference in Predicted Probabilities: vote for radicals/liberals"</span>,</span>
<span id="cb9-15">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Repeated Cross-sectional regressions, with controls"</span>)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/plr comparisons nprcs-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Finally, here are the results for PLR support. We can see that the PLR clearly fits into the bourgeois category with support linked positively with both education and income, the latter being the important factor even if it declined nonetheless.</p>
<p>Some observations can still be made regarding the comparisons plot. The difference in probability between the richest and poorest in supporting the Radicals/Liberals was highly positive in the 1980s (around 28% in 1981). This difference decreased, but is still high. Most of the time, this difference is also positive between the highest educational group and the second lowest one (apprenticeship).</p>
</section>
<section id="repeated-cross-section-support-for-the-greens" class="level4">
<h4 class="anchored" data-anchor-id="repeated-cross-section-support-for-the-greens">Repeated Cross-section: support for the Greens</h4>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/greens plot-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/greens plot-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Regarding the support for the Greens, it is associated positively with education. The relationship with income is not clear, the multilevel model will hopefully give better results.</p>
</section>
<section id="multilevel-regression-partial-pooling-for-years" class="level3">
<h3 class="anchored" data-anchor-id="multilevel-regression-partial-pooling-for-years">Multilevel regression: partial pooling for years</h3>
<p>All the models computed and presented have major drawbacks. First, estimates are surely biased because not all important and potentially confounding variables are included in the model. Since we are not here interested in causality, this does not constitute a major problem either. A bigger problem is the inference: many estimates are not statistically significant. To try to solve this issue, I will now run multilevel regressions. There are many choices regarding the levels: one can choose the canton as a group and run separate multilevel regression for each year. Alternatively, both years and canton can be included as a level in the regression.</p>
<section id="support-for-ssp" class="level4">
<h4 class="anchored" data-anchor-id="support-for-ssp">Support for SSP</h4>
<p>The multilevel regressions, with years as a level, lead globally to the same conclusions as above.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">glmer_pss <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glmer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> vox,</span>
<span id="cb10-2">                   <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">formula =</span> pss <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> income <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> educ <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> gender <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> age_cat <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> married <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> regionL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> religion <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> (income <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> educ <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> annee_f),</span>
<span id="cb10-3">                   <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">binomial</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">link =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"logit"</span>))</span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/plot ame partial pooling pss-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The results are very close to the repeated cross-section model.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/plot glmer comparisons ssp-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="support-for-radicalsliberals" class="level4">
<h4 class="anchored" data-anchor-id="support-for-radicalsliberals">Support for Radicals/Liberals</h4>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/partial pooling plr plot-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/plot comparisons glmer plr-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="partial-pooling-support-for-svp" class="level4">
<h4 class="anchored" data-anchor-id="partial-pooling-support-for-svp">Partial Pooling: Support for SVP</h4>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/partial pooling udc plot-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/comparison plot glmer svp-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="partial-pooling-support-for-the-greens" class="level4">
<h4 class="anchored" data-anchor-id="partial-pooling-support-for-the-greens">Partial Pooling: Support for the Greens</h4>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis_files/figure-html/plot comparisons glmer greens-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<section id="brahmin-left-hypothesis" class="level4">
<h4 class="anchored" data-anchor-id="brahmin-left-hypothesis">Brahmin Left hypothesis</h4>
<p>This hypothesis is globally confirmed. The Swiss socialist party was clearing gathering the most educated and the lowest income groups in the beginning of the 1980s. Then, the negative association between ssp support and income declined during the 1980s, recovered a bit in the late 80s, then declined further and even became positive in the 90s and the beginning of the 2000s, making the SSP a bourgeois party during this period.</p>
</section>
<section id="merchant-and-bourgeois-bloc-hypotheses" class="level4">
<h4 class="anchored" data-anchor-id="merchant-and-bourgeois-bloc-hypotheses">Merchant and Bourgeois Bloc hypotheses</h4>
<p>The Radicals-Liberals represent clearly a bourgeois bloc, gathering the support of the wealthiest and most educated in almost every year of the dataset. The SVP was a merchant right party until 1992. After this period, the SVP gather mainly support from low income and low level of education groups</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1">tbl_corr_plr <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb11-2">vox <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(annee, income) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>(plr) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">drop_na</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop =</span> n<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(n)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(plr <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"income"</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"prop"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"n"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">drop_na</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">party =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"plr"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-12">  dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>plr)</span>
<span id="cb11-13"></span>
<span id="cb11-14">tbl_corr_pss <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb11-15">vox <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(annee, income) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>(pss) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-18">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">drop_na</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-19">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop =</span> n<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(n)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-20">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(pss <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-21">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"income"</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"prop"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"n"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-22">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">drop_na</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-23">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-24">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">party =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pss"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-25">  dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>pss)</span>
<span id="cb11-26"></span>
<span id="cb11-27">tbl_corr_udc <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb11-28">vox <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-29">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(annee, income) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-30">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>(udc) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-31">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">drop_na</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-32">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop =</span> n<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(n)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-33">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(udc <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-34">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"income"</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"prop"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"n"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-35">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">drop_na</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-36">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-37">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">party =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"udc"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-38">  dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>udc)</span>
<span id="cb11-39"></span>
<span id="cb11-40">tbl_corr <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rbind</span>(tbl_corr_plr, tbl_corr_pss, tbl_corr_udc)</span>
<span id="cb11-41"></span>
<span id="cb11-42">tbl_corr2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb11-43">  tbl_corr <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-44">  dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"n_[1-4]"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-45">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"party"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"prop_[1-4]"</span>))</span>
<span id="cb11-46"></span>
<span id="cb11-47">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cor</span>(tbl_corr2[,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">13</span>]) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-48">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">corrplot.mixed</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">order =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hclust"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lower =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ellipse"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">upper =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'number'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">tl.cex =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>)</span></code></pre></div>
</div>



</section>
</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0">
<div id="ref-amable_brahmin_2022" class="csl-entry">
Amable, Bruno, and Thibault Darcillon. 2022. <span>“Brahmin Left Versus Merchant Right. How Useful Is This Distinction for the Analysis of Political Divides in Western Democracies?”</span> <em>Political Economy Working Papers</em>.
</div>
<div id="ref-amable_illusion_2018" class="csl-entry">
Amable, Bruno, and Stefano Palombarini. 2018. <em>L’illusion Du Bloc Bourgeois: Alliances Sociales Et Avenir Du Modèle Français</em>. Raisons d’agir. Paris.
</div>
<div id="ref-durrer_de_la_sota_party_2021" class="csl-entry">
Durrer de la Sota, Carmen, Amory Gethin, and Clara Martinez-Toledano. 2021. <span>“Party System Transformation and the Structure of Political Cleavages in Austria, Belgium, the Netherlands and Switzerland, 1967-2019.”</span> <em>World Inequality Lab – Working Paper</em>, no. 2021. <a href="https://wid.world/wp-content/uploads/2021/03/WorldInequalityLab_WP2021_08_PoliticalCleavages_AustriaBelgiumNLSwitzerland.pdf">https://wid.world/wp-content/uploads/2021/03/WorldInequalityLab_WP2021_08_PoliticalCleavages_AustriaBelgiumNLSwitzerland.pdf</a>.
</div>
<div id="ref-gethin_political_2021" class="csl-entry">
Gethin, Armory, Clara Martinez-Toledano, and Thomas Piketty. 2021. <em>Political Cleavages and Social Inequalities a Study of Fifty Democracies, 1948–2020</em>. Harvard Univeristy Press.
</div>
<div id="ref-piketty_capital_2019" class="csl-entry">
Piketty, Thomas. 2019. <em>Capital Et Idéologie</em>. Le Seuil.
</div>
</div></section></div> ]]></description>
  <category>Political Economy</category>
  <category>Statistics</category>
  <guid>https://jeylal.github.io/celalguney/posts/vox and voto analysis/vox_voto_analysis.html</guid>
  <pubDate>Sat, 08 Jul 2023 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Web Scraping with R</title>
  <dc:creator>Celâl Güney</dc:creator>
  <link>https://jeylal.github.io/celalguney/posts/web scraping/web_scraping.html</link>
  <description><![CDATA[ 





<section id="an-introduction-to-web-scraping-in-r" class="level2">
<h2 class="anchored" data-anchor-id="an-introduction-to-web-scraping-in-r">An introduction to web scraping in R</h2>
<p>Web scraping is nowadays rife in statistics and data science. This data collection method has become fashionable not only in computer and data science, but also in economics, sociology and social sciences in general. The reasons for the success of web scraping need hardly to be told at length: the usefulness of web scrapping, extracting data from whatever website we visit, is self-evident. Go to any Wikipedia page, and you can extract whatever data table in contains into your favorite statistical software. The potential of web scraping is huge and will be increasingly used in social sciences.</p>
<p>The main goal of this post is to show the basics of web scraping using R and the package rvest. To do so, I draw extensively on Paul C. Bauer’s <a href="https://bookdown.org/paul/2021_computational_social_science/data-collection-web-screen-scraping.html">Computational Social Sciences manual</a>, which explains in depth how to do web scraping in R.</p>
<section id="getting-data-videogame-prices" class="level3">
<h3 class="anchored" data-anchor-id="getting-data-videogame-prices">Getting data: videogame prices</h3>
<p>I will here use web scraping to get video-game prices in Switzerland. The first step of web scraping is to find a webpage from which you want to collect data. To collect the prices of video-games, I need a web page from for instance a chain stores. In Switzerland, MediaMarkt is a famous chain stores selling consumer electronics and most Swiss people who still buy or order physical copy of their favorite video-games go to or order from MediaMarkt.</p>
<p>For the anecdote, at the time and for many years (at least until I was 18 in the 2010s), MediaMarkt used to sell video-games slightly below market prices and some stores in Geneva even sometimes sold copies before the release date. The situation has much changed since and the stores are now barely able to sell and distribute physical copies day one (it was the case this year at least for Wo Long and Dead Space 2 remake).</p>
<p>I search then, on MediaMarkt website, the webpage dedicated to video-games. The webpages are separated by video-games platforms/consoles, so I choose to focus on Playstation 5 games. I store the <a href="https://www.mediamarkt.ch/fr/category/_jeux-ps5-772119.html">link</a> in an object called url. Then, the web page can be read in R using read_html():</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1">url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.mediamarkt.ch/fr/category/_jeux-ps5-772119.html?searchParams=&amp;sort=&amp;view=PRODUCTGRID&amp;page=1"</span></span>
<span id="cb1-2">mediamarkt <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_html</span>(url)</span></code></pre></div>
</div>
<p>The next step is to search and select each videogame price as well as the videogame’s titles using the chrome extension selectorgadget. This step is a bit tricky and is a pain because selectorgadget is a chrome-only extension. So if you don’t have chrome, you have to install it and then add selector gadget on it. To use selectorgadget, just click on what you want to collect on the webpage and then copy the css selector which is on the left of the selectorgadget bar.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/web scraping/imagemediamarkt.png" class="img-fluid figure-img"></p>
<figcaption>Using selectorgadget</figcaption>
</figure>
</div>
<p>Then, you just have to paste it into the html_nodes function (here .info-wrapper for the price, then .product-link for the title).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">price <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html_nodes</span>(mediamarkt, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".info-wrapper"</span>)</span>
<span id="cb2-2">game <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html_nodes</span>(mediamarkt, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".product-link"</span>)</span></code></pre></div>
</div>
<p>Then, html_text() will extract the information we want:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">price <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html_text</span>(price, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">trim =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb3-2">game <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html_text</span>(game, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">trim =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb3-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(price)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "274.95\r\n\t\r\n\t\t\tTVA compris, plus frais d’expédition 0.-"
[2] "72.95\r\n\t\r\n\t\t\tTVA compris, plus frais d’expédition 0.-" 
[3] "67.95\r\n\t\r\n\t\t\tTVA compris, plus frais d’expédition 0.-" 
[4] "69.95\r\n\t\r\n\t\t\tTVA compris, plus frais d’expédition 0.-" 
[5] "73.95\r\n\t\r\n\t\t\tTVA compris, plus frais d’expédition 0.-" 
[6] "54.95\r\n\t\r\n\t\t\tTVA compris, plus frais d’expédition 0.-" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(game)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Marvel's Spider-Man 2: Édition Collector (CiaB) - PlayStation 5 - Allemand, Français, Italien"
[2] "Sports FC 24 : Édition Standard - PlayStation 5 - Allemand, Français, Italien"                
[3] "Marvel’s Spider-Man: Miles Morales - PlayStation 5 - Allemand, Français, Italien"             
[4] "STAR WARS Jedi : Survivor - PlayStation 5 - Allemand, Français, Italien"                      
[5] "F1 23 - PlayStation 5 - Allemand, Français, Italien"                                          
[6] "Ratchet &amp; Clank : Rift Apart - PlayStation 5 - Allemand, Français, Italien"                   </code></pre>
</div>
</div>
<p>It worked well for the game titles (even if they could be simplified), but not so much for prices. We need to extract the latter from the text in the price object. This can be done using function gsub() and some Regex manipulation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">price_final <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gsub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"([0.001-9]+).*$"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">1"</span>, price))</span>
<span id="cb7-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#"([0.001-9]+).*$" means: "keep only characters from 0.001 to 9 multiple times" it will thus extract the number from the character list we got with html_text()</span></span>
<span id="cb7-3">price_final</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 274.95  72.95  67.95  69.95  73.95  54.95  44.95  69.95  62.95  59.95
[11]  69.95  74.95  54.95  40.95  72.95  29.95  69.95  14.00  72.95  26.95
[21]  22.00  24.00  74.95  89.95</code></pre>
</div>
</div>
<p>Similarly, the video-game titles can be simplified using some Regex:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">game_final <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gsub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"- PlayStation 5 - Allemand.*"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, game)</span></code></pre></div>
</div>
<p>And finally, prices and titles can be combined in a dataframe</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(game_final, price_final)</span>
<span id="cb10-2">data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>()</span></code></pre></div>
<div class="cell-output-display">
<div id="cruqxjpltn" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#cruqxjpltn .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#cruqxjpltn .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cruqxjpltn .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#cruqxjpltn .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#cruqxjpltn .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#cruqxjpltn .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cruqxjpltn .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cruqxjpltn .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#cruqxjpltn .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#cruqxjpltn .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#cruqxjpltn .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#cruqxjpltn .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#cruqxjpltn .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#cruqxjpltn .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#cruqxjpltn .gt_from_md > :first-child {
  margin-top: 0;
}

#cruqxjpltn .gt_from_md > :last-child {
  margin-bottom: 0;
}

#cruqxjpltn .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#cruqxjpltn .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#cruqxjpltn .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#cruqxjpltn .gt_row_group_first td {
  border-top-width: 2px;
}

#cruqxjpltn .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cruqxjpltn .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#cruqxjpltn .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#cruqxjpltn .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cruqxjpltn .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cruqxjpltn .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#cruqxjpltn .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#cruqxjpltn .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cruqxjpltn .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cruqxjpltn .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#cruqxjpltn .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cruqxjpltn .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#cruqxjpltn .gt_left {
  text-align: left;
}

#cruqxjpltn .gt_center {
  text-align: center;
}

#cruqxjpltn .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#cruqxjpltn .gt_font_normal {
  font-weight: normal;
}

#cruqxjpltn .gt_font_bold {
  font-weight: bold;
}

#cruqxjpltn .gt_font_italic {
  font-style: italic;
}

#cruqxjpltn .gt_super {
  font-size: 65%;
}

#cruqxjpltn .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#cruqxjpltn .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#cruqxjpltn .gt_indent_1 {
  text-indent: 5px;
}

#cruqxjpltn .gt_indent_2 {
  text-indent: 10px;
}

#cruqxjpltn .gt_indent_3 {
  text-indent: 15px;
}

#cruqxjpltn .gt_indent_4 {
  text-indent: 20px;
}

#cruqxjpltn .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead class="gt_col_headings">
<tr class="header">
<th id="game_final" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">game_final</th>
<th id="price_final" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">price_final</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="game_final">Marvel's Spider-Man 2: Édition Collector (CiaB)</td>
<td class="gt_row gt_right" headers="price_final">274.95</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="game_final">Sports FC 24 : Édition Standard</td>
<td class="gt_row gt_right" headers="price_final">72.95</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="game_final">Marvel’s Spider-Man: Miles Morales</td>
<td class="gt_row gt_right" headers="price_final">67.95</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="game_final">STAR WARS Jedi : Survivor</td>
<td class="gt_row gt_right" headers="price_final">69.95</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="game_final">F1 23</td>
<td class="gt_row gt_right" headers="price_final">73.95</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="game_final">Ratchet &amp; Clank : Rift Apart</td>
<td class="gt_row gt_right" headers="price_final">54.95</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="game_final">Elden Ring : Édition Standard</td>
<td class="gt_row gt_right" headers="price_final">44.95</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="game_final">Street Fighter 6</td>
<td class="gt_row gt_right" headers="price_final">69.95</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="game_final">Hogwarts Legacy</td>
<td class="gt_row gt_right" headers="price_final">62.95</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="game_final">Need for Speed Unbound</td>
<td class="gt_row gt_right" headers="price_final">59.95</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="game_final">Diablo IV</td>
<td class="gt_row gt_right" headers="price_final">69.95</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="game_final">Marvel's Spider-Man 2</td>
<td class="gt_row gt_right" headers="price_final">74.95</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="game_final">The Last of Us Part I</td>
<td class="gt_row gt_right" headers="price_final">54.95</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="game_final">MotoGP 23 : Édition Day One</td>
<td class="gt_row gt_right" headers="price_final">40.95</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="game_final">Gran Turismo 7</td>
<td class="gt_row gt_right" headers="price_final">72.95</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="game_final">Der Herr der Ringe: Gollum</td>
<td class="gt_row gt_right" headers="price_final">29.95</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="game_final">Diablo IV - PlayStation 5 - Français</td>
<td class="gt_row gt_right" headers="price_final">69.95</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="game_final">New Tales from the Borderlands: Deluxe Edition</td>
<td class="gt_row gt_right" headers="price_final">14.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="game_final">Madden NFL 24 - PlayStation 5 - English</td>
<td class="gt_row gt_right" headers="price_final">72.95</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="game_final">Far Cry 6</td>
<td class="gt_row gt_right" headers="price_final">26.95</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="game_final">Assassin's Creed Valhalla</td>
<td class="gt_row gt_right" headers="price_final">22.00</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="game_final">Assassin's Creed : Valhalla - Édition Ragnarök</td>
<td class="gt_row gt_right" headers="price_final">24.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="game_final">Wild Hearts</td>
<td class="gt_row gt_right" headers="price_final">74.95</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="game_final">Mortal Kombat 1: Premium Edition</td>
<td class="gt_row gt_right" headers="price_final">89.95</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We have thus collected every game’s title and price on the first page of MediaMarkt Playstation 5 games.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1">data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb11-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">reorder</span>(game_final, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>price_final), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> price_final)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb11-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_col</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb11-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> price_final), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.4</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"white"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb11-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">base_size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb11-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Playstation 5 games"</span>,</span>
<span id="cb11-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"price in swiss francs"</span>)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/web scraping/web_scraping_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="getting-data-on-all-pages" class="level3">
<h3 class="anchored" data-anchor-id="getting-data-on-all-pages">Getting data on all pages</h3>
<p>We have until now collected data only the first page of the website, but ideally we want to be able to collect data on all pages automatically. This can be done as follow:</p>
<p>First, create a function which will automatically most of the steps: reading the url (read_html), the css nodes found with the chrome extension SelectorGadget and extracting the information of interest:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1">scrape_website <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(url){</span>
<span id="cb12-2">  </span>
<span id="cb12-3">  website <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_html</span>(url)</span>
<span id="cb12-4">  </span>
<span id="cb12-5">  title <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html_nodes</span>(website, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".product-link"</span>)</span>
<span id="cb12-6">  price <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html_nodes</span>(website, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".info-wrapper"</span>)</span>
<span id="cb12-7">  </span>
<span id="cb12-8">  </span>
<span id="cb12-9">  df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">game =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gsub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"- PlayStation 5 - Allemand.*"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html_text</span>(title, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">trim =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)),</span>
<span id="cb12-10">                   <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">price =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gsub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"([0.005-9]+).*$"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">1"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html_text</span>(price, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">trim =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>))))</span>
<span id="cb12-11">  </span>
<span id="cb12-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">return</span>(df)</span>
<span id="cb12-13">}</span></code></pre></div>
</div>
<p>But what about the url? In our example, there are 21 pages in total, resulting in 21 different url. Fortunately, since those pages are in fact a list of products, their patterns are very similar. The only difference between the pages are the “page=#” at the end, with # the number of the page. We can thus define base_url as the recurring url pattern common to all the 21 pages and then number of each particular page (pages object):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1">base_url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.mediamarkt.ch/fr/category/_jeux-ps5-772119.html?searchParams=&amp;sort=&amp;view=PRODUCTGRID&amp;page="</span></span>
<span id="cb13-2"></span>
<span id="cb13-3">pages <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div>
</div>
<p>This is an example on how to extract data using the function for the first page:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1">url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(base_url, pages[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>)</span>
<span id="cb14-2">datasets <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>()</span>
<span id="cb14-3">datasets[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scrape_website</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">url =</span> url)</span></code></pre></div>
</div>
<p>Finally, to perform web scrapping on all the pages, Paul Bauer proposes the following for loop code</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1">datasets <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>()</span>
<span id="cb15-2"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (i <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>(pages)){</span>
<span id="cb15-3">  </span>
<span id="cb15-4">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># informative message about progress of loop</span></span>
<span id="cb15-5">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">message</span>(i, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'/'</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>(pages))</span>
<span id="cb15-6">  </span>
<span id="cb15-7">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># prepare URL</span></span>
<span id="cb15-8">      url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(base_url, pages[i], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>)</span>
<span id="cb15-9">      </span>
<span id="cb15-10">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># scrape website</span></span>
<span id="cb15-11">      datasets[[i<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scrape_website</span>(url)</span>
<span id="cb15-12">      </span>
<span id="cb15-13">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># wait a couple of seconds between URL calls</span></span>
<span id="cb15-14">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Sys.sleep</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>)</span>
<span id="cb15-15">}</span></code></pre></div>
</div>
<p>However, I propose to simplify the code by using the map() function from the purrr package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1">url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(base_url, pages[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#create a vector with all the pages url</span></span>
<span id="cb16-2"></span>
<span id="cb16-3">data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> url <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb16-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map_df</span>(scrape_website) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#apply the scrape_website function for each element of the url vector and store into a dataframe</span></span></code></pre></div>
</div>
<p>We thus have all the data we wanted! Let’s now have a quick look at what we collected.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1">data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb17-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(price, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb17-3">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">median =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">median</span>(price, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb17-4">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sd</span>(price, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb17-5">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>(price, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb17-6">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>(price, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb17-7">            ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb17-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Video-games summary statistics (CHF)"</span>)</span></code></pre></div>
<div class="cell-output-display">
<div id="qhbxlkegpc" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#qhbxlkegpc .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#qhbxlkegpc .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qhbxlkegpc .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#qhbxlkegpc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#qhbxlkegpc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#qhbxlkegpc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qhbxlkegpc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qhbxlkegpc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#qhbxlkegpc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#qhbxlkegpc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#qhbxlkegpc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#qhbxlkegpc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#qhbxlkegpc .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#qhbxlkegpc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#qhbxlkegpc .gt_from_md > :first-child {
  margin-top: 0;
}

#qhbxlkegpc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#qhbxlkegpc .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#qhbxlkegpc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#qhbxlkegpc .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#qhbxlkegpc .gt_row_group_first td {
  border-top-width: 2px;
}

#qhbxlkegpc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qhbxlkegpc .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#qhbxlkegpc .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#qhbxlkegpc .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qhbxlkegpc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qhbxlkegpc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#qhbxlkegpc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#qhbxlkegpc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qhbxlkegpc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qhbxlkegpc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qhbxlkegpc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qhbxlkegpc .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qhbxlkegpc .gt_left {
  text-align: left;
}

#qhbxlkegpc .gt_center {
  text-align: center;
}

#qhbxlkegpc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#qhbxlkegpc .gt_font_normal {
  font-weight: normal;
}

#qhbxlkegpc .gt_font_bold {
  font-weight: bold;
}

#qhbxlkegpc .gt_font_italic {
  font-style: italic;
}

#qhbxlkegpc .gt_super {
  font-size: 65%;
}

#qhbxlkegpc .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#qhbxlkegpc .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#qhbxlkegpc .gt_indent_1 {
  text-indent: 5px;
}

#qhbxlkegpc .gt_indent_2 {
  text-indent: 10px;
}

#qhbxlkegpc .gt_indent_3 {
  text-indent: 15px;
}

#qhbxlkegpc .gt_indent_4 {
  text-indent: 20px;
}

#qhbxlkegpc .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Video-games summary statistics (CHF)</caption>
<thead class="gt_col_headings">
<tr class="header">
<th id="mean" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">mean</th>
<th id="median" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">median</th>
<th id="sd" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">sd</th>
<th id="min" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">min</th>
<th id="max" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">max</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="mean">37.23819</td>
<td class="gt_row gt_right" headers="median">34.95</td>
<td class="gt_row gt_right" headers="sd">23.70447</td>
<td class="gt_row gt_right" headers="min">5</td>
<td class="gt_row gt_right" headers="max">300.95</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1">data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb18-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(price <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">90</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb18-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb18-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> price) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb18-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_histogram</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">binwidth =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"white"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkblue"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb18-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">90</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb18-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">base_size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">13</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb18-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Video-game price"</span>,</span>
<span id="cb18-9">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Switzerland, Playstation 5 games, July 2023"</span>,</span>
<span id="cb18-10">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Swiss Francs (CHF)"</span>)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/web scraping/web_scraping_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="getting-data-from-a-webpage-table" class="level3">
<h3 class="anchored" data-anchor-id="getting-data-from-a-webpage-table">Getting data from a webpage table</h3>
<p>When browsing the internet, it often happens that we come across tables but without any possibility to export this table. Web scraping allows to easily read those tables into R.</p>
<p>I will here import data from a table on the results of the famous 1992 Swiss voting on the adhesion to the European Economic Area. The Swiss government website provides a table <a href="https://www.bk.admin.ch/ch/f/pore/va/19921206/can388.html">here</a>. I am almost certain that the Swiss government provides an excel or csv file on this but since I am too lazy to search for it (for my defense, the website page should allow to export directly the table into csv or excel), I will use web scraping to read this table in R and then extract the data into a dataframe.</p>
<p>The first step is the same as above: read the url to import the html code into R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1">url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.bk.admin.ch/ch/f/pore/va/19921206/can388.html"</span></span>
<span id="cb19-2">page <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_html</span>(url)</span></code></pre></div>
</div>
<p>Then, html_table() can directly import the table information</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1">table <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html_table</span>(page, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">header =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb20-2"></span>
<span id="cb20-3">data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> table[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]] <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#extract the table dataframe from the list</span></span>
<span id="cb20-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(data) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb20-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>()</span></code></pre></div>
<div class="cell-output-display">
<div id="gqcoyrkvua" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#gqcoyrkvua .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#gqcoyrkvua .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gqcoyrkvua .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#gqcoyrkvua .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#gqcoyrkvua .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#gqcoyrkvua .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gqcoyrkvua .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gqcoyrkvua .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#gqcoyrkvua .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#gqcoyrkvua .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#gqcoyrkvua .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#gqcoyrkvua .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#gqcoyrkvua .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#gqcoyrkvua .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#gqcoyrkvua .gt_from_md > :first-child {
  margin-top: 0;
}

#gqcoyrkvua .gt_from_md > :last-child {
  margin-bottom: 0;
}

#gqcoyrkvua .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#gqcoyrkvua .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#gqcoyrkvua .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#gqcoyrkvua .gt_row_group_first td {
  border-top-width: 2px;
}

#gqcoyrkvua .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gqcoyrkvua .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#gqcoyrkvua .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#gqcoyrkvua .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gqcoyrkvua .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gqcoyrkvua .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#gqcoyrkvua .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#gqcoyrkvua .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gqcoyrkvua .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gqcoyrkvua .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#gqcoyrkvua .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gqcoyrkvua .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#gqcoyrkvua .gt_left {
  text-align: left;
}

#gqcoyrkvua .gt_center {
  text-align: center;
}

#gqcoyrkvua .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#gqcoyrkvua .gt_font_normal {
  font-weight: normal;
}

#gqcoyrkvua .gt_font_bold {
  font-weight: bold;
}

#gqcoyrkvua .gt_font_italic {
  font-style: italic;
}

#gqcoyrkvua .gt_super {
  font-size: 65%;
}

#gqcoyrkvua .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#gqcoyrkvua .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#gqcoyrkvua .gt_indent_1 {
  text-indent: 5px;
}

#gqcoyrkvua .gt_indent_2 {
  text-indent: 10px;
}

#gqcoyrkvua .gt_indent_3 {
  text-indent: 15px;
}

#gqcoyrkvua .gt_indent_4 {
  text-indent: 20px;
}

#gqcoyrkvua .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead class="gt_col_headings">
<tr class="header">
<th id="Canton" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Canton</th>
<th id="Electeurs" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Electeurs</th>
<th id="Votants" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Votants</th>
<th id="% Particip." class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">% Particip.</th>
<th id="Oui" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Oui</th>
<th id="Non" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Non</th>
<th id="% Oui" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">% Oui</th>
<th id="% Non" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">% Non</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="Canton">Zurich</td>
<td class="gt_row gt_right" headers="Electeurs">768'126</td>
<td class="gt_row gt_right" headers="Votants">618'209</td>
<td class="gt_row gt_right" headers="% Particip.">80.48%</td>
<td class="gt_row gt_right" headers="Oui">297'503</td>
<td class="gt_row gt_right" headers="Non">316'154</td>
<td class="gt_row gt_right" headers="% Oui">48.5%</td>
<td class="gt_row gt_right" headers="% Non">51.5%</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Canton">Berne</td>
<td class="gt_row gt_right" headers="Electeurs">686'459</td>
<td class="gt_row gt_right" headers="Votants">540'179</td>
<td class="gt_row gt_right" headers="% Particip.">78.69%</td>
<td class="gt_row gt_right" headers="Oui">255'224</td>
<td class="gt_row gt_right" headers="Non">281'026</td>
<td class="gt_row gt_right" headers="% Oui">47.6%</td>
<td class="gt_row gt_right" headers="% Non">52.4%</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Canton">Lucerne</td>
<td class="gt_row gt_right" headers="Electeurs">224'458</td>
<td class="gt_row gt_right" headers="Votants">181'614</td>
<td class="gt_row gt_right" headers="% Particip.">80.91%</td>
<td class="gt_row gt_right" headers="Oui">70'878</td>
<td class="gt_row gt_right" headers="Non">109'447</td>
<td class="gt_row gt_right" headers="% Oui">39.3%</td>
<td class="gt_row gt_right" headers="% Non">60.7%</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Canton">Uri</td>
<td class="gt_row gt_right" headers="Electeurs">25'290</td>
<td class="gt_row gt_right" headers="Votants">19'816</td>
<td class="gt_row gt_right" headers="% Particip.">78.36%</td>
<td class="gt_row gt_right" headers="Oui">4'943</td>
<td class="gt_row gt_right" headers="Non">14'728</td>
<td class="gt_row gt_right" headers="% Oui">25.1%</td>
<td class="gt_row gt_right" headers="% Non">74.9%</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Canton">Schwyz</td>
<td class="gt_row gt_right" headers="Electeurs">77'278</td>
<td class="gt_row gt_right" headers="Votants">64'315</td>
<td class="gt_row gt_right" headers="% Particip.">83.23%</td>
<td class="gt_row gt_right" headers="Oui">17'094</td>
<td class="gt_row gt_right" headers="Non">46'962</td>
<td class="gt_row gt_right" headers="% Oui">26.7%</td>
<td class="gt_row gt_right" headers="% Non">73.3%</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Canton">Obwald</td>
<td class="gt_row gt_right" headers="Electeurs">20'713</td>
<td class="gt_row gt_right" headers="Votants">16'940</td>
<td class="gt_row gt_right" headers="% Particip.">81.78%</td>
<td class="gt_row gt_right" headers="Oui">4'737</td>
<td class="gt_row gt_right" headers="Non">12'062</td>
<td class="gt_row gt_right" headers="% Oui">28.2%</td>
<td class="gt_row gt_right" headers="% Non">71.8%</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>There is one problem here: the numbers either contain “‘” or “%”. As a result, R read them as characters and it will not be possible to convert those number into numeric format unless all the’ and % are deleted.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1">data2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as_tibble</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lapply</span>(data, <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(x) {<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gsub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"'|%"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, x)})) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># collapse all ' and % in the values to transform them into numeric</span></span>
<span id="cb21-2"></span>
<span id="cb21-3">data2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb21-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map_df</span>(<span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(x) {<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gsub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"'|%"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, x)}) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># same using map_df from dplyr</span></span></code></pre></div>
</div>
<p>All the ’ and % symbols are now removed. The last step is to convert the values into numeric values:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1">data2[,<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> data2[,<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb22-2">            <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map_df</span>(as.numeric) <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## convert all columns into numeric except for canton (first column)</span></span>
<span id="cb22-3"></span>
<span id="cb22-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str</span>(data2)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [27 × 8] (S3: tbl_df/tbl/data.frame)
 $ Canton     : chr [1:27] "Zurich" "Berne" "Lucerne" "Uri" ...
 $ Electeurs  : num [1:27] 768126 686459 224458 25290 77278 ...
 $ Votants    : num [1:27] 618209 540179 181614 19816 64315 ...
 $ % Particip.: num [1:27] 80.5 78.7 80.9 78.4 83.2 ...
 $ Oui        : num [1:27] 297503 255224 70878 4943 17094 ...
 $ Non        : num [1:27] 316154 281026 109447 14728 46962 ...
 $ % Oui      : num [1:27] 48.5 47.6 39.3 25.1 26.7 28.2 33.9 31.9 43.8 64.9 ...
 $ % Non      : num [1:27] 51.5 52.4 60.7 74.9 73.3 71.8 66.1 68.1 56.2 35.1 ...</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/web scraping/web_scraping_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>


</section>
</section>

 ]]></description>
  <category>web scraping</category>
  <category>data science</category>
  <guid>https://jeylal.github.io/celalguney/posts/web scraping/web_scraping.html</guid>
  <pubDate>Mon, 03 Jul 2023 22:00:00 GMT</pubDate>
  <media:content url="https://jeylal.github.io/celalguney/posts/web scraping/imagemediamarkt.png" medium="image" type="image/png" height="104" width="144"/>
</item>
<item>
  <title>Political stability and political crises in Switzerland: empirical evidence</title>
  <link>https://jeylal.github.io/celalguney/posts/trust institution switzerland/trust institution switzerland.html</link>
  <description><![CDATA[ 





<section id="political-stability-and-crisis-in-switzerland" class="level2">
<h2 class="anchored" data-anchor-id="political-stability-and-crisis-in-switzerland">Political stability and crisis in Switzerland</h2>
<p>Switzerland is often considered as a successful and well-performing economy. The country typically ranks among the firsts in a wide variety of living standard measures such as the human development index, GDP per capita and so on. Along with the good performances of the economy, one expects that Swiss people also have more trust in their institutions compared with other countries. If one looks at, for instance, the data provided by the OECD on the confidence in government and other institutions, Switzerland is indeed one of the countries with the highest level of trust:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.oecd.org/gov/government-at-a-glance-22214399.htm"><img src="https://jeylal.github.io/celalguney/posts/trust institution switzerland/graph_ocde2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" alt="Source: OECD (Government at Glance, 2021)"></a></p>
</figure>
</div>
<figcaption>Source: OECD (Government at Glance, 2021)</figcaption>
</figure>
</div>
<p>In Switzerland, the confidence in national government in 2020 was the highest among OECD countries with a level of 85%. Other countries like France and Italy have a level of confidence lower than the average.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.oecd.org/gov/government-at-a-glance-22214399.htm"><img src="https://jeylal.github.io/celalguney/posts/trust institution switzerland/graph_ocde.png" class="img-fluid quarto-figure quarto-figure-center figure-img" alt="Source: OECD (Government at Glance, 2021)"></a></p>
</figure>
</div>
<figcaption>Source: OECD (Government at Glance, 2021)</figcaption>
</figure>
</div>
<p>If one looks at other data provided by the OECD, Switzerland still ranks among the highest. In the graph above, Swiss people show a great deal of confidence in the police (about 85%), parliament (60%) and government (70%). This stands in sharp contrast with France, Italy and the US (which shows very low level of confidence in parliament with 15%). If one tries therefore to assess the evolution of trust in institutions in Switzerland, one thus expects to find a great stability. Nonetheless, one period in recent Swiss history represents an exception: the crisis of the 1990s. This period was marked by recession and was accompanied by a decline in trust in institutions <span class="citation" data-cites="brunner_crise_1997">(Brunner and Sgier 1997)</span>.</p>
<p>But why is the evolution of trust in institutions important? For my research, I am interested in social conflict, political cleavages and institutional change. The Neorealism approach developped by Amable and Palombarini <span class="citation" data-cites="amable_leconomie_2005 amable_neorealist_2008">(2005; 2008)</span>, which is dedicated to the analysis of those topics, offers insightful concepts and methods that I will mobilize here in assessing the evolution of Switzerland’s trust in its institutions in the last decades. Until now, Neorealism has been first and foremost mobilized by its founders to analyse France and Italy <span class="citation" data-cites="amable_bloc_2014 amable_illusion_2018">(Bruno Amable and Palombarini 2014, 2018)</span>. In their work, they typically start with the fact that Italy and France went under periods of deep political crises. Leaving their conceptual definitions of crisis (which are really interesting) aside and focusing only on how they identify it empirically, they typically expose data on trust in politicians, institutions, government and in political turnover. However, it is rather straightforward to anyone interested in politics and contemporary history that Italy and France underwent political crises, and data like the ones above only serve to describe well-known facts. The situation is totally different for Switzerland, which is why it is interesting to study this country in a Neorealist approach.</p>
<p>This post will hence be an attempt to periodize, analyse and assess the evolution of trust in institutions in Switzerland as a way to inderectly measure the country’s political stability through time. The objective here is, by using post-electoral survey, to identify the trends in trust in institutions and assess whether and when Switzerland can be characterized as a politically stable country, as opposed to France and Italy. The figures above already show that Switzerland is characterized with a relatively high level of trust, so the goal here is to explore other data which could also allow to see the temporal evolution and thus identify the periods of political stability and crisis in Switzerland.</p>
<section id="assessing-political-stability-in-switzerland-selects-data" class="level3">
<h3 class="anchored" data-anchor-id="assessing-political-stability-in-switzerland-selects-data">Assessing political stability in Switzerland: Selects data</h3>
<p>Let’s first see what Selects data offer. The Swiss Election Studies (SELECTS) contains a cumulative dataset which is of particular interest.</p>
<p>This dataset is in fact a harmonized dataset of all the successive post-electoral studies that have been conducted in Switzerland between 1971 and 2019 by different universities. This dataset contains a set of “trust in political institutions” variables which are of interest, but not all of them can be used because they are not avaliable for each year of the dataset. The ones which have the most time coverage are the following variables and that I will analyse here are described in the following table:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 24%">
<col style="width: 24%">
<col style="width: 24%">
<col style="width: 26%">
</colgroup>
<thead>
<tr class="header">
<th>Code</th>
<th>name</th>
<th>values</th>
<th>Years</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>trust1</td>
<td>trust in federal council</td>
<td>0 (no trust) to 10 (full trust) with decimal values</td>
<td>not 1979, 2015, 2019</td>
</tr>
<tr class="even">
<td>trust2</td>
<td>trust in national parliament</td>
<td>0 (no trust) to 10 (full trust) with decimal values</td>
<td>1991, 1995, 1999, 2003, 2007, 2011</td>
</tr>
<tr class="odd">
<td>trust3</td>
<td>trust in cantonal authorities</td>
<td>0 (no trust) to 10 (full trust) with decimal values</td>
<td>1995, 1999, 2003, 2007, 2011</td>
</tr>
<tr class="even">
<td>trust5</td>
<td>trust in national political parties</td>
<td>0 (no trust) to 10 (full trust) with decimal values</td>
<td>1999, 2003, 2007, 2011</td>
</tr>
<tr class="odd">
<td>eps1</td>
<td>evaluation: political system/democracy</td>
<td>scale from 0 to 1, with decimal values</td>
<td>1971, 1979, 1995, 1999, 2003, 2007, 2011, 2015, 2019</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="trust-in-federal-council" class="level2">
<h2 class="anchored" data-anchor-id="trust-in-federal-council">Trust in Federal Council</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/trust institution switzerland/trust-institution-switzerland_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="1440"></p>
</figure>
</div>
</div>
</div>
<p>Here is a basic visualisation to show the distribution of the variable for each year. It is strinking how the distribution is almost the same for the years 1971-1975-1987 and then from 1995 to 2011. This suggests a great stability of trust in Federal Council, which seems rather strong. However, since the graph above is rather difficult to interpret due to the fact that it carries too much information and the scales change through the years, I will create an indicator variable to simplify the information. The dummy variable will take value 1 if the respondent takes a value higher than 5 (the middle point level of indifference), and 0 otherwise.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/trust institution switzerland/trust-institution-switzerland_files/figure-html/trust1 dummy descriptive-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The graph above represents the percentage of respondents who declared to always or most of the time trust the federal council. The only period this trust declined was between 1975 and 1991. However, one should be cautious with the strong decline in 1991, because the scale (number of values the ordinal variable can take) changes for the first time for this year (see the precedent graph above). In fact, the strong decline in 1991 is surely due to the fact that the scale, by including more response choices in the survey (from 4 to 7 points scale), perhaps induced more “middle-point” responses (the middle answer is the mode for 1991). From 1995 to 2011, the trust in federal council shows a great stability, and even increases between 2007 and 2011. Nonetheless, the variable does not include data after 2011, which is unfortunate. Fortunately, there are other variables which cover a bigger time frame. In this regard, the variable on the evaluation of the Swiss democracy/political system (eps1) is interesting:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/trust institution switzerland/trust-institution-switzerland_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The graph above shows how strong trust in institutions is in Switzerland and that the latter has even increased in the last years until 2019. Note that the data for 1995 have the same problem as for the year 1991 in the previous graph (change in the variable’s number of categories). I can thus conclude that the trust in institutions is not only stable in Switzerland, but even increasing. One further step, however, is to look at how trust changes if one takes education and income levels into account: do poorer people and less educated people have less trust in institutions in Switzerland? We will see that the picture is slightly more contrasted trust is analyzed for each income level.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/trust institution switzerland/trust-institution-switzerland_files/figure-html/eps1d trust and income quintiles-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p>Taking into account income quintiles offer a slightly more contrasted results, but trust is high even for low income levels. There is no strong differences in trust if we compare the lowest quintile with the highest (with still somme difference in each year), but one can see that trust increases with income group: richer Swiss people (in terms of income) have more confidence in the political system/democracy in this sample.</p>
<p>Since the dataset also gives the education group, one can do the same graph above with education:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/trust institution switzerland/trust-institution-switzerland_files/figure-html/eps1 and education group-1.png" class="img-fluid figure-img" width="1248"></p>
</figure>
</div>
</div>
</div>
<p>There is overall a positive association between education level and trust in democracy/political system, even though trust is high and systematically above 50% in each year (with one exception for 1979).</p>
<section id="alternative-data-source-the-european-social-survey-ess" class="level3">
<h3 class="anchored" data-anchor-id="alternative-data-source-the-european-social-survey-ess">Alternative data source: the European Social Survey (ESS)</h3>
<p>As we have seen, Selects data have some shortcomings which prevent to conduct a serious evaluation of the evolution of trust in institutions. One thus has to look at other data. To do so, I will now analyse the Swiss trust in institutions using ESS data.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 29%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>variable</th>
<th>name</th>
<th>scale</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>trstplt</td>
<td>trust in politician</td>
<td>0 = no trust, 10 = complete trust (discrete scale)</td>
</tr>
<tr class="even">
<td>trstprl</td>
<td>Trust in country’s parliament</td>
<td>0 = no trust, 10 = complete trust (discrete scale)</td>
</tr>
<tr class="odd">
<td>stfeco</td>
<td>How satisfied with present state of economy in country</td>
<td>0 = extremely dissatisfied, 1 = extremely satisfied (discrete scale)</td>
</tr>
<tr class="even">
<td>stfgov</td>
<td>How satisfied with the national government</td>
<td>0 = extremely dissatisfied, 1 = extremely satisfied (discrete scale)</td>
</tr>
<tr class="odd">
<td>stfdem</td>
<td>How satisfied with the way democracy works in country</td>
<td>0 = extremely dissatisfied, 1 = extremely satisfied (discrete scale)</td>
</tr>
<tr class="even">
<td>agea</td>
<td>Age of respondent, calculated</td>
<td></td>
</tr>
<tr class="odd">
<td>edulvla</td>
<td>Highest level of education</td>
<td>0 = not possible to harmonize, 1 = less than secondary, 5 = tertiary education completed</td>
</tr>
<tr class="even">
<td>edlvch</td>
<td>Highest level of education (Switzerland)</td>
<td>1 = incomplete compulsory school, 15 = university, 16 = other (discrete scale)</td>
</tr>
<tr class="odd">
<td>hinctnt</td>
<td>Household’s total net income, all sources</td>
<td></td>
</tr>
</tbody>
</table>
<p>An advantage of the ESS data compared with Selects is the comparability of the trust in institutions variables. As we saw in the first graphs, Selects have changed the scale of their variables through the years, which makes comparison difficult even with a cumulative and harmonized dataset. ESS variables (see table above) do not change their scale, so one can compare data from 2002 and 2020 without facing the problems I had with Selects data.</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: le package 'naniar' a été compilé avec la version R 4.2.3</code></pre>
</div>
</div>
<p>Let’s first have a look at how the variable is distributed for a given year, for instance 2020:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/trust institution switzerland/trust-institution-switzerland_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The graph is coherent with all the previous data we saw: most Swiss people have confidence and trust in the politicians of their country in 2020. What about the evolution of this trust if one looks at all the rounds provided by ESS since 2002? To have a look a this, I load all the ESS rounds, create an indicator variable (still from the same variable, trstplt) taking value 1 if the respondent takes at least value 5 and plot the proportion for each year:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/trust institution switzerland/trust in instit blog post switzerland.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>If one considers trust in politicians as a good indicator of political stability, Switzerland shows a great and increasing level of stability and it would be difficult to say that the country has known any deep political crisis in the last years. The political stability of Switzerland is even more striking when compared with countries which have known instability and systemic crises such as Italy and France:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/trust institution switzerland/trust_pol_parties_ess.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="691"></p>
</figure>
</div>
<p><img src="https://jeylal.github.io/celalguney/posts/trust institution switzerland/trust_natio_gov_ess.png" class="img-fluid"></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/trust institution switzerland/trust_pol_ess.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>However, ESS data are rather limited with respect to the time frame: only data from 2002 to 2020 are available. Ideally, I would like to have data which come back at least to the 1980s. In my opinion, both Selects and ESS data have serious shortcomings that prevent any straightforward conclusion regarding the evolution of political stability in Switzerland. For this reason, I searched other data source and found one which can give better results and insights.</p>
</section>
<section id="last-data-source-vox-data" class="level3">
<h3 class="anchored" data-anchor-id="last-data-source-vox-data">Last data source: Vox data</h3>
<p>A final and last alternative data source to assess the temporal evolution of trust in institutions in Switzerland (and thus its period of political stability/crises) are the “Vox” studies, which are conducted for after Swiss referendum (“votation populaire” in French) since 1981. Kriesi, Brunner and Lorétan compiled and standardized every Vox studies from 1981 up to 2016 to create a cumulative dataset <span class="citation" data-cites="kriesi_enquetes_2017">(Kriesi, Brunner, and Lorétan 2017)</span>. This dataset has a variable of interest, “a22 (confidence in government)”, which is a binary variable (either confidence of mistrust in government). The graph below plots the percentage of respondents having confidence in government for each year:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/trust institution switzerland/vox_trust_gov.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>We finally have a satisfying and valuable graph: the time frame is large enough, the variable is the same for each year and the results are far more contrasted and interesting than the previous graphs. One can see clearly different periods of declining and increasing confidence in government, which lead to the conclusion that Switzerland knew different waves of decreasing and increasing political stability as well as clear periods of political crisis. For instance, the graph illustrates well the political crisis of the 1990s: the percentage of people who declared having confidence in government fell from 65% in 1998 to 38.9% in 1995. Confidence in government then fell a for second time from 2001 (64%) to 2005 (38.4%), a period which can thus be considered as a second political crisis due to the very low level of confidence in 2005. But about the period post-2016? The shortcoming of this dataset is that it does not go beyond 2016. Fortunately, another dataset gathered data for the period 2016-2020.</p>



</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0">
<div id="ref-amable_neorealist_2008" class="csl-entry">
Amable, B., and S. Palombarini. 2008. <span>“A Neorealist Approach to Institutional Change and the Diversity of Capitalism.”</span> <em>Socio-Economic Review</em> 7 (1): 123–43. <a href="https://doi.org/10.1093/ser/mwn018">https://doi.org/10.1093/ser/mwn018</a>.
</div>
<div id="ref-amable_leconomie_2005" class="csl-entry">
Amable, Bruno, and Stefano Palombarini. 2005. <em>L’économie Politique n’est Pas Une Science Morale</em>. Raisons d’Agir. Paris.
</div>
<div id="ref-amable_bloc_2014" class="csl-entry">
———. 2014. <span>“The Bloc Bourgeois in France and Italy.”</span> In <em>Economic Crises and Policy Regimes</em>, Edward Elgar Publishing, 177–216.
</div>
<div id="ref-amable_illusion_2018" class="csl-entry">
———. 2018. <em>L’illusion Du Bloc Bourgeois: Alliances Sociales Et Avenir Du Modèle Français</em>. Raisons d’agir. Paris.
</div>
<div id="ref-brunner_crise_1997" class="csl-entry">
Brunner, Matthias, and Lea Sgier. 1997. <span>“Crise de Confiance Dans Les Institutions Politiques Suisses? Quelques Résultats d’une Enquête d’opinion.”</span> <em>Swiss Political Science Review</em> 3 (1): 1–113.
</div>
<div id="ref-kriesi_enquetes_2017" class="csl-entry">
Kriesi, Hanspeter, Matthias Brunner, and François Lorétan. 2017. <span>“Enquêtes Standardisées <span>VoxIt</span> 1981-2016.”</span> https://doi.org/<a href="https://doi.org/10.23662/FORS-DS-688-2">https://doi.org/10.23662/FORS-DS-688-2</a>.
</div>
</div></section></div> ]]></description>
  <category>Political Economy</category>
  <category>Stats</category>
  <guid>https://jeylal.github.io/celalguney/posts/trust institution switzerland/trust institution switzerland.html</guid>
  <pubDate>Sat, 24 Jun 2023 22:00:00 GMT</pubDate>
  <media:content url="https://jeylal.github.io/celalguney/posts/trust institution switzerland/vox_trust_gov.png" medium="image" type="image/png" height="90" width="144"/>
</item>
<item>
  <title>Income, education and voting outcome: a cross-sectional analysis of voting outcome in Switzerland</title>
  <link>https://jeylal.github.io/celalguney/posts/Vote for the left in Switzerland a simple analysis/select2019analysis.html</link>
  <description><![CDATA[ 





<section id="note-this-post-is-not-finished-and-still-in-progress" class="level2">
<h2 class="anchored" data-anchor-id="note-this-post-is-not-finished-and-still-in-progress">Note: this post is not finished and still in progress</h2>
<p>Two years ago, Piketty and his team published a fascinating book about the evolution of political cleavages in almost all democratic countries in the world and even beyond. The publication of this book and of its <a href="https://wpid.world/resources/">online database</a> got me very interested in the study of political cleavages from a political economy approach. This book contains huge amount of findings and observations, but there is one which is really emphasized by the authors: from roughly the 1980s until, the class-based political divide has become a multidimensional one incorporating a “educational” or, in Inglehart terms, a “postmaterial” or “cultural” cleavage <span class="citation" data-cites="gethin_political_2021">(Gethin, Martinez-Toledano, and Piketty 2021)</span> <span class="citation" data-cites="inglehart_silent_1971">(Inglehart 1971)</span>. Very shortly, They found that the electoral support for the left shifted from the low income and low education classes to the highly educated ones. Regarding the electoral support for the right, the latter remains positively correlated with income.</p>
<p>This post is going to simply test this finding for Switzerland using the post-electoral survey for the National Council election in 2019. The following analysis is based on data analysis of the Swiss Election Study (Selects) of 2019. The dataset can be found <a href="https://www.swissubase.ch/en/catalogue/studies/13846/18585/overview">here</a>. I will test if the support for the left is linked positively with the education level and negatively with income.</p>
<p>To analyze the link between vote for the left (dependent variable) and income and education, I create a dummy variable from the variable “W1_f1085_90” which asked for which party the respondent is going to vote for in the 2019 national council election. The indicator variable is equal to 1 if the respondent declared voting for the socialist party, the greens, the christian socialist party or for far left parties (swiss labour party, solidarités, ensemble à gauche…)</p>
<p>Regarding the independ variables, the variable “f28910” asks the gross monthly houshold income of the individual and the variable has 15 income brackets (we thus do not have directly the income of the respondant). For education, “f21310” asks the highest level of achieved education. Here is below descriptive statistics for these variables:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/Vote for the left in Switzerland a simple analysis/select2019analysis_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Education level</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/Vote for the left in Switzerland a simple analysis/select2019analysis_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Gross monthly houshold income</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="first-model-binary-logistic-regression" class="level2">
<h2 class="anchored" data-anchor-id="first-model-binary-logistic-regression">First model: binary logistic regression</h2>
<p>Let’s first start with a logistic regression. I simply regress the vote for the left with income and education. I leave education and income coded as numerical variables for now, since they have enough categories this is not big problem. Of course, that would have been better if I had directly the income of each individual and not brackets. Moreover, I could still do a Pareto interpolation, but I can’t due to lack of information: I don’t have the average income (total and per bracket) of the sample.</p>
<p>The model is thus:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0ALog(%5Cfrac%7BP(left)%7D%7B1%20-%20P(left)%7D)%20=%20%5Cbeta_0%20+%20%5Cbeta_1income_i%20+%20%5Cbeta_2educ_i%20+%20%5Cepsilon_i%0A"></p>
<p>Note that this is a very first step, I will step by step complexify this model.</p>
<p>Here is the regression table:</p>
<table style="text-align:center">
<tbody><tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="1" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
vote_left
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
income
</td>
<td>
-0.075<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.007)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
education
</td>
<td>
0.111<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.008)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
-1.033<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.075)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
6,866
</td>
</tr>
<tr>
<td style="text-align:left">
Log Likelihood
</td>
<td>
-4,342.283
</td>
</tr>
<tr>
<td style="text-align:left">
Akaike Inf. Crit.
</td>
<td>
8,690.566
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td style="text-align:right">
<sup><em></em></sup><em>p&lt;0.1; <sup><strong></strong></sup><strong>p&lt;0.05; <sup></sup></strong></em>p&lt;0.01
</td>
</tr>
</tbody></table>
<p>Here is an odd ratios plot to have a better visualization of the coefficients:</p>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/Vote for the left in Switzerland a simple analysis/select2019analysis_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" data-fig-pos="H" width="672"></p>
</figure>
</div>
</div>
<p>Here is what this coefficient plot tells: the odds that a Swiss voter vote for a left-wing party for the National Council election in 2019 are linked negatively with income (odd ratio below 1) and positively with education (odd ratio &gt; 1). The coefficients are statistically significant at the one percent level, which is not a surprise because the sample is rather large.</p>
<p>Odd ratios are known to be rather difficult to interpret. In effect, odd ratios are not what the literature calls “quantity of interest”, that is to say, the quantity of the dependent variable which is the most easy to interpret. I this model, the quantity of interest is the probability to vote for a left wing party and not the odds. A lot of economists and social scientists prefer to have a look directly at the marginal effects and predicted probability to have a better view of the relationships between the variables and of the quantity of interest.</p>
<p>I first plot simple graphs of the estimated curves. To do so, I use the function Invlogit from the plot3logit package and put the estimated coefficient into this function. To do such graphs, one has to make the explanatory variable on the x axis to vary while the other explanatory variables are held constant. A choice has thus to be made about which fixed value of the other factors (of Income for the education level plot and conversely), I decided to choose the median value.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/Vote for the left in Switzerland a simple analysis/select2019analysis_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Probability of voting for the left - curves from estimated coefficients</figcaption>
</figure>
</div>
</div>
</div>
<p>We can see that the slope of the education level curve is steeper than the one for income: this means that the positive link between the level of education and the probability to vote for the left is greater than the negative one for income. But let’s have a look directly at the marginal effects.</p>
<p>There are a lot of different ways to compute marginal effects, which make the latter sometimes confusing because we don’t know which type of marginal effects we are talking about. I will here consider one type of marginal effects:</p>
<ul>
<li>Group-average marginal effects: slope estimates are produced for each row of the dataset used in computing the model. Then, the estimates can be grouped by the values of one of the regressor and the average for each group is computed.</li>
</ul>
<p>A first step in group-average marginal effects in R is to use the function “slopes” which calculate estimates of the slopes (marginal effects) for each observation used to compute the model in the first place. The term “variables” is for the variable for which the slopes are estimated and “by” the argument for</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1">marginaleffectseduc <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slopes</span>(reg, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">variables =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"education"</span>)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(marginaleffectseduc)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
      Term Estimate Std. Error    z Pr(&gt;|z|)  2.5 % 97.5 %
 education   0.0216    0.00156 13.9   &lt;0.001 0.0186 0.0247
 education   0.0277    0.00212 13.1   &lt;0.001 0.0236 0.0319
 education   0.0253    0.00204 12.4   &lt;0.001 0.0213 0.0293
 education   0.0261    0.00212 12.3   &lt;0.001 0.0219 0.0303
 education   0.0266    0.00202 13.2   &lt;0.001 0.0226 0.0306
 education   0.0220    0.00165 13.3   &lt;0.001 0.0188 0.0252

Columns: rowid, term, estimate, std.error, statistic, p.value, conf.low, conf.high, predicted, predicted_hi, predicted_lo, vote_left, income, education </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dim</span>(marginaleffectseduc)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6866   14</code></pre>
</div>
</div>
<p>The dataframe has 5607 rows which is the same number of observation used in the model. We can then used the different values of income level (from 1 to 15) as grouped within which estimates are averaged:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">marginaleffectseduc <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(income) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean.slopes.educ =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(estimate),</span>
<span id="cb5-4">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">conf.high =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(conf.high), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## this is the same for the confidence interval</span></span>
<span id="cb5-5">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">conf.low =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(conf.low)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> game.educ</span>
<span id="cb5-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(game.educ)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  income                  mean.slopes.educ conf.high conf.low
  &lt;dbl+lbl&gt;                          &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1 1 [Less than 2'000 CHF]           0.0262    0.0299   0.0225
2 2 [2'001-3'000 CHF]               0.0258    0.0294   0.0221
3 3 [3'001-4'000 CHF]               0.0255    0.0290   0.0219
4 4 [4'001-5'000 CHF]               0.0251    0.0286   0.0216
5 5 [5'001-6'000 CHF]               0.0250    0.0285   0.0215
6 6 [6'001-7'000 CHF]               0.0250    0.0285   0.0214</code></pre>
</div>
</div>
<p>A plot can then be made to have a better view of the average marginal effects/slopes of education for each group of income:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">game.educ <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb7-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> income, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> mean.slopes.educ)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> conf.low, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> conf.high), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Group-average marginal effect of education for each level of income group"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ylab</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Slopes education"</span>)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/Vote for the left in Switzerland a simple analysis/select2019analysis_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" data-fig-pos="H" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The slope of education level decreases on average with higher values of income group. This means that even if the probability to vote for the left is linked positively with education level, this link is weaker for higher income groups. However, it is not so much weaker because even though th line is downward slopping, it remains rather flat.</p>
<p>Normally, the function plot_slope should produce the same graph:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot_slopes</span>(reg, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">variables =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"education"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"income"</span>)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/Vote for the left in Switzerland a simple analysis/select2019analysis_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" data-fig-pos="H" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Let’s do the same for income:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">marginaleffectsinc <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slopes</span>(reg, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">variables =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"income"</span>)</span>
<span id="cb9-2">game.inc <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> marginaleffectsinc <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb9-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(education) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb9-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean.slopes.inc =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(estimate),</span>
<span id="cb9-5">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">conf.high =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(conf.high),</span>
<span id="cb9-6">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">conf.low =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(conf.low)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb9-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> game.inc</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">game.inc <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb10-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> education, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> mean.slopes.inc)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> conf.low, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> conf.high), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Group-average marginal effects of income for each level of education"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ylab</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Slopes income"</span>)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/Vote for the left in Switzerland a simple analysis/select2019analysis_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" data-fig-pos="H" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here the result is more interesting: the average marginal slope of income is negative for each education level but this average decreases with higher level of education. This implies that the probability to vote for the left is linked negatively with income group and that this negative link is strengthened by higher level of education. Rich and highly educated people have thus a very low probability to vote for the left.</p>
<p>Another way to look at the effect of the two independent variable on the probability to vote for the left is to look at the predictions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1">predictionseduc <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">predictions</span>(reg, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">variables =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"education"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"income"</span>))</span>
<span id="cb11-2">predictionseduc <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">predictions</span>(reg, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"education"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"income"</span>))</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot_predictions</span>(reg, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">condition =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"education"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"income"</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb12-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set1"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb12-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set1"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb12-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb12-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>),</span>
<span id="cb12-6">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>())<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb12-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ylab</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"probability vote left"</span>) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> plotpredicteduc</span>
<span id="cb12-8"></span>
<span id="cb12-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot_predictions</span>(reg, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">condition =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"income"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"education"</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb12-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set1"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb12-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set1"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb12-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb12-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>),</span>
<span id="cb12-14">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>())<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb12-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ylab</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> plotpredictincome</span>
<span id="cb12-16"></span>
<span id="cb12-17">cowplot<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot_grid</span>(plotpredicteduc, plotpredictincome)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/Vote for the left in Switzerland a simple analysis/select2019analysis_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" data-fig-pos="H" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Those plots are essentially the same the first one, but with the confidence interval and for different values of the regressor considered fixed for certain values.</p>
<p>Another way is to compute directly the average marginal effects without grouping:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1">marginaleffectsinc <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slopes</span>(reg, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">variables =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"income"</span>)</span>
<span id="cb13-2">marginaleffectseduc <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slopes</span>(reg, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">variables =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"education"</span>)</span>
<span id="cb13-3">avg_effect_summary_reg <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rbind</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(marginaleffectsinc), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(marginaleffectseduc))</span>
<span id="cb13-4"></span>
<span id="cb13-5">avg_effect_summary_reg</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
      Term    Contrast Estimate Std. Error     z Pr(&gt;|z|)   2.5 %  97.5 %
 income    mean(dY/dX)  -0.0167    0.00150 -11.1   &lt;0.001 -0.0196 -0.0137
 education mean(dY/dX)   0.0245    0.00177  13.9   &lt;0.001  0.0210  0.0279

Columns: term, contrast, estimate, std.error, statistic, p.value, conf.low, conf.high </code></pre>
</div>
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">margins_summary</span>(reg)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    factor     AME     SE        z      p   lower   upper
 education  0.0245 0.0018  13.8684 0.0000  0.0210  0.0279
    income -0.0167 0.0015 -11.0920 0.0000 -0.0196 -0.0137</code></pre>
</div>
</div>
<p>Here is a nice way to visualize the table above:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1">avg_effect_summary_reg <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb17-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb17-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> estimate<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> term)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb17-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb17-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_pointrange</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xmin =</span> conf.low<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xmax =</span> conf.high<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb17-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb17-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">xlab</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Average marginal effects (percentage points)"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb17-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ylab</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb17-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_label</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(estimate<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">nudge_y =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.15</span>)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/Vote for the left in Switzerland a simple analysis/select2019analysis_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" data-fig-pos="H" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The advantage of average marginal effects is the fact that they give information on the quantity of interest (here the probability to vote for the left) instead of odd ratio or log odds. The probability to vote for the left decreases on average by -1.6 percentage points if we compare two units which only differs by one income group level. Conversely, the probability increases on average by 2.5 percentage points if we compare two units which only differs by one level of education.</p>
</section>
<section id="complexifying-the-model" class="level2">
<h2 class="anchored" data-anchor-id="complexifying-the-model">Complexifying the model</h2>
<section id="hierarchical-model" class="level3">
<h3 class="anchored" data-anchor-id="hierarchical-model">Hierarchical model</h3>
<p>One possible and interesting way to complexify the model is to include the different Swiss canton into the regression. In fact, the previous regression model can be considered as a “complete pooling” model in which I made the asumption that the slopes of the coefficients do not vary by cantons. However, cantons represents an important level of analysis in Switzerland, because elections and politics are a lot structures at the cantonal level. Cantons can thus be considered as levels in which the observed individuals in our sample are grouped.</p>
<p>According to <span class="citation" data-cites="gelman_data_2007">Gelman and Hill (2007)</span> there are two main differents ways to consider these groups in regression analysis:</p>
<ol type="1">
<li><p>No pooling models: the slopes and/or the intercepts are allowed to vary across the groups freely.</p></li>
<li><p>Partial pooling models: the slopes and/or the intercepts are allowed to vary, but they are modeled (we consider that they follow a normal distribution)</p></li>
</ol>
<p>In the present analysis, I will consider a partial pooling model in which the slopes and intercepts for income and education can vary. In R, partial pooling models can be estimated with the function lmer() from the lme4 package.</p>
<p>The results of this model can be then represented through a table with tab_model()</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tab_model</span>(glmer1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">transform =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Partial Pooling model"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">digits =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)</span></code></pre></div>
<div class="cell-output-display">
<table style="border-collapse:collapse; border:none;">
<caption style="font-weight: bold; text-align:left;">Partial Pooling model</caption>
<tbody><tr>
<th style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; ">&nbsp;</th>
<th colspan="3" style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; ">vote_left</th>
</tr>
<tr>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; ">Predictors</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">Log-Odds</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">CI</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">p</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">(Intercept)</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-1.088</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-1.382&nbsp;–&nbsp;-0.793</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">Gross monthly household<br>income, W1 updated with<br>W4</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.076</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.095&nbsp;–&nbsp;-0.058</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">education</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.106</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.087&nbsp;–&nbsp;0.126</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td colspan="4" style="font-weight:bold; text-align:left; padding-top:.8em;">Random Effects</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">σ<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">3.29</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>00</sub> <sub>region</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">0.33</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>11</sub> <sub>region.education</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">0.00</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>11</sub> <sub>region.income</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">0.00</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">ρ<sub>01</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">-0.82</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;"></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">-0.61</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">N <sub>region</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">26</td>
</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;">Observations</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;" colspan="3">6866</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">Marginal R<sup>2</sup> / Conditional R<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">0.041 / NA</td>
</tr>

</tbody></table>

</div>
</div>
<p>The random effects coefficients at the cantons level for income and education are 0, which implies that there is very low variation between cantons. Furthermore, the fixed effect coefficients are almost the same than the previous model: this new model is thus not a big improvement and shows that including cantons as a group does not change the model a lot.</p>
<p>However, it is still interesting to plot predicted probabilities to have a better overview:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot_predictions</span>(glmer1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">condition =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"education"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"income"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"region"</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>region)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> income)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_colour_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set1"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Probabilités prédites selon le niveau d'éducation, pour chaque canton et pour différent niveau de revenu"</span>,</span>
<span id="cb19-5">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Election Conseil National 2015"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_hline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yintercept =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/Vote for the left in Switzerland a simple analysis/select2019analysis_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" data-fig-pos="H" width="960"></p>
</figure>
</div>
</div>
</div>
<p>The relationship between the predicted probabilities to vote for the left and education is positive for every cantons. There are a lot of cantons that show similar relationships and curves and whose predicted probabilities, despite the positive link with education, do not go above 0.5 (with some exception such as Aargau, Thurgau, Tessin, Valais, Glarus…). The cantons which show different patterns are Basel-Stadt, Geneva, Jura, Vaud and Neuchâtel with higher predicted probabilities.</p>
</section>
<section id="adding-variables-to-the-model" class="level3">
<h3 class="anchored" data-anchor-id="adding-variables-to-the-model">Adding variables to the model</h3>
<p>Let’s now add some control variables to the model. The models above are flawed by the fact that there are only two regressors. One important assumption of regression models are the mean independence of the covariates with the error term. The model is assumed to include all the important explanatory variables in the model. If not, the estimates will be biased, so one can suspect that the coefficients estimates for this first model are heavily biased.</p>
<p>For the second model, I include gender (dummy with female = 1), age (in categories), religiosity (the higher, the less religious is the respondent), a variable indicating whether the respondent has a full-time job (full_time), whether the respondent works in the public sector (public) and marital status. I also include variables on issue position related to socio-economic issues such as EU integration, taxation and attitude towards foreigners (each one of these variables are ordinal on a 1-5 scale). Finally, I run the same model for the other main parties in Switzerland: the liberal radical party (center-right, plr), the Swiss people’s party (far-right, udc) and the two greens party (the greens, the liberal greens).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1">marginsfull <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb20-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb20-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> AME<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> factor, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> party, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> party)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb20-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb20-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_pointrange</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xmin =</span> lower<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xmax =</span> upper<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb20-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb20-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">xlab</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Average marginal effects (percentage points)"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb20-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ylab</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb20-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2019 Swiss national council election"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb20-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>party)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb20-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>,</span>
<span id="cb20-12">        )</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/Vote for the left in Switzerland a simple analysis/select2019analysis_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" data-fig-pos="H" width="960"></p>
</figure>
</div>
</div>
</div>



</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0">
<div id="ref-gelman_data_2007" class="csl-entry">
Gelman, Andrew, and Jennifer Hill. 2007. <em>Data Analysis Using Regression and Multilevel/Hierarchical Models</em>. Cambridge University Press.
</div>
<div id="ref-gethin_political_2021" class="csl-entry">
Gethin, Armory, Clara Martinez-Toledano, and Thomas Piketty. 2021. <em>Political Cleavages and Social Inequalities a Study of Fifty Democracies, 1948–2020</em>. Harvard Univeristy Press.
</div>
<div id="ref-inglehart_silent_1971" class="csl-entry">
Inglehart, Ronald. 1971. <span>“The Silent Revolution in Europe: Intergenerational Change in Post-Industrial Societies.”</span> <em>The American Political Science Review</em> 65 (4): 991–1017. <a href="https://www.jstor.org/stable/1953494">https://www.jstor.org/stable/1953494</a>.
</div>
</div></section></div> ]]></description>
  <category>Political Economy</category>
  <category>Stats</category>
  <guid>https://jeylal.github.io/celalguney/posts/Vote for the left in Switzerland a simple analysis/select2019analysis.html</guid>
  <pubDate>Tue, 09 May 2023 22:00:00 GMT</pubDate>
  <media:content url="https://jeylal.github.io/celalguney/posts/Vote for the left in Switzerland a simple analysis/image.png" medium="image" type="image/png" height="103" width="144"/>
</item>
<item>
  <title>From income brackets to income decile</title>
  <link>https://jeylal.github.io/celalguney/posts/Techinal notes of political cleavages and inequality/technical note piketty 2021.html</link>
  <description><![CDATA[ 





<section id="how-far-can-we-go-with-income-brackets-in-progress" class="level2">
<h2 class="anchored" data-anchor-id="how-far-can-we-go-with-income-brackets-in-progress">How far can we go with income brackets? (in progress)</h2>
<p>To build their database on <a href="https://wpid.world/">World political cleavages and inequality</a>, Piketty and his team had to use electoral survey data. One problem with these sources is that they collect income data through brackets, without reporting the overall income average of the sample or the average per bracket. This Thus poses the question of how far one can go in terms of statistical analysis with only income brackets as a source of information for income. I will here explore what can be done with such a variable as well as the <a href="https://wid.world/document/building-the-world-political-cleavages-and-inequality-database-a-new-dataset-on-electoral-behaviors-in-50-democracies-1948-2020-world-inequality-lab-technical-note-2021-01/">technical note</a> that Piketty et al.&nbsp;(2021) provides to explain how they computed the vote share for income and education decile, which they claim is one of their main contributions on political cleavages and inequality.</p>
<section id="from-brackets-to-decile" class="level3">
<h3 class="anchored" data-anchor-id="from-brackets-to-decile">From brackets to decile</h3>
<p>The wpid is based on an impressive <a href="https://wpid.world/resources/en/zip/wpid-micro.zip">dataset</a> compiling electoral survey data of 500 elections since 1948. Since the technical note takes Canada’s 2015 election as an example, I will use the latter here.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rm</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">list =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ls</span>())</span>
<span id="cb1-2">ca <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_dta</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ca.dta"</span>)</span>
<span id="cb1-3">ca2015 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> ca <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(year <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2015</span>)</span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rm</span>(ca)</span>
<span id="cb1-6"></span>
<span id="cb1-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sort</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unique</span>(ca2015<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>inc))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8 10 11 12 13 14 15 16 17 18 19 20</code></pre>
</div>
</div>
<p>Note that there is already something going on here: in the dataset, the variable income has 19 brackets/categories here whereas it has 18 in the technical note. Furthermore, income brackets “jump” from 8 to 10. I will ignore these issues and still work with this dataset, we just won’t have the same results as in Piketty &amp; al’s example.</p>
<p>A first step in analyzing such a variable is to compute the frequency, relative frequency and the cumulative frequencies. More precisely, I will construct two tables. On the one hand, I compute the descriptive statistics for the NDP’s voters within each income brackets. On the other hand, I construct a table for the overall distribution of income brackets for the NPD’s voters only. Note that I directly add the proportion of NDP’s voters from the first table to the second one to simplify further calculations:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">ca2015 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(inc) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>(votendp) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">drop_na</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb3-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cum.n =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cumsum</span>(n),</span>
<span id="cb3-7">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop =</span> n<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(n)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> table.income.pervote</span>
<span id="cb3-8"></span>
<span id="cb3-9">ca2015 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(votendp <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(inc) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>(votendp) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">drop_na</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb3-15">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop_vote =</span> table.income.pervote<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>prop[table.income.pervote<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>votendp <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>],</span>
<span id="cb3-16">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cum.n =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cumsum</span>(n),</span>
<span id="cb3-17">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop =</span> n<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(n),</span>
<span id="cb3-18">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">rangeleft =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lag</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cumsum</span>(prop), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">default =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb3-19">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cumrelfreqN =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cumsum</span>(prop),</span>
<span id="cb3-20">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cumrelfreqInc =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cumsum</span>(inc<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(inc))) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> table.income</span>
<span id="cb3-21"></span>
<span id="cb3-22">table.income.pervote <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-23">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Distribution of the vote for the NDP by income group"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-24">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt_theme_dark</span>()</span></code></pre></div>
<div class="cell-output-display">
<div id="eootzamcou" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#eootzamcou .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #FFFFFF;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #333333;
  width: auto;
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #333333;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #333333;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #333333;
}

#eootzamcou .gt_heading {
  background-color: #333333;
  text-align: left;
  border-bottom-color: #333333;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#eootzamcou .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#eootzamcou .gt_title {
  color: #FFFFFF;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #333333;
  border-bottom-width: 0;
}

#eootzamcou .gt_subtitle {
  color: #FFFFFF;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #333333;
  border-top-width: 0;
}

#eootzamcou .gt_bottom_border {
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eootzamcou .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#eootzamcou .gt_col_heading {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#eootzamcou .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#eootzamcou .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#eootzamcou .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#eootzamcou .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#eootzamcou .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#eootzamcou .gt_empty_group_heading {
  padding: 0.5px;
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#eootzamcou .gt_from_md > :first-child {
  margin-top: 0;
}

#eootzamcou .gt_from_md > :last-child {
  margin-bottom: 0;
}

#eootzamcou .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#eootzamcou .gt_stub {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#eootzamcou .gt_stub_row_group {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#eootzamcou .gt_row_group_first td {
  border-top-width: 2px;
}

#eootzamcou .gt_summary_row {
  color: #FFFFFF;
  background-color: #333333;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#eootzamcou .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#eootzamcou .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#eootzamcou .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eootzamcou .gt_grand_summary_row {
  color: #FFFFFF;
  background-color: #333333;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#eootzamcou .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#eootzamcou .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#eootzamcou .gt_table_body {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #333333;
}

#eootzamcou .gt_footnotes {
  color: #FFFFFF;
  background-color: #333333;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#eootzamcou .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#eootzamcou .gt_sourcenotes {
  color: #FFFFFF;
  background-color: #333333;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#eootzamcou .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#eootzamcou .gt_left {
  text-align: left;
}

#eootzamcou .gt_center {
  text-align: center;
}

#eootzamcou .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#eootzamcou .gt_font_normal {
  font-weight: normal;
}

#eootzamcou .gt_font_bold {
  font-weight: bold;
}

#eootzamcou .gt_font_italic {
  font-style: italic;
}

#eootzamcou .gt_super {
  font-size: 65%;
}

#eootzamcou .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#eootzamcou .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#eootzamcou .gt_indent_1 {
  text-indent: 5px;
}

#eootzamcou .gt_indent_2 {
  text-indent: 10px;
}

#eootzamcou .gt_indent_3 {
  text-indent: 15px;
}

#eootzamcou .gt_indent_4 {
  text-indent: 20px;
}

#eootzamcou .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Distribution of the vote for the NDP by income group</caption>
<thead class="gt_col_headings">
<tr class="header">
<th id="inc" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">inc</th>
<th id="votendp" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">votendp</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">n</th>
<th id="cum.n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">cum.n</th>
<th id="prop" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">prop</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">114</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">114</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.6826347</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">53</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">167</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.3173653</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">2</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">161</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">161</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.7419355</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">2</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">56</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">217</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2580645</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">3</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">49</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">49</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.7656250</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">3</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">15</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">64</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2343750</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">4</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">129</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">129</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.7865854</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">4</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">35</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">164</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2134146</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">5</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">108</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">108</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.6708075</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">5</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">53</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">161</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.3291925</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">6</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">112</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">112</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.7044025</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">6</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">47</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">159</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2955975</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">7</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">114</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">114</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.7215190</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">7</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">44</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">158</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2784810</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">8</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">244</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">244</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.7746032</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">8</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">71</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">315</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2253968</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">10</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">140</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">140</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.8045977</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">10</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">34</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">174</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1954023</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">11</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">114</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">114</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.7651007</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">11</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">35</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">149</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2348993</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">12</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">154</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">154</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.7549020</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">12</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">50</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">204</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2450980</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">13</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">105</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">105</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.7894737</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">13</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">28</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">133</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2105263</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">14</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">208</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">208</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.7878788</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">14</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">56</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">264</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2121212</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">15</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">95</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">95</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.8333333</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">15</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">19</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">114</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1666667</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">16</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">113</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">113</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.8129496</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">16</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">26</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">139</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1870504</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">17</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">171</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">171</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.8300971</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">17</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">35</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">206</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1699029</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">18</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">83</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">83</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.7830189</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">18</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">23</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">106</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2169811</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">19</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">143</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">143</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.8171429</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">19</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">32</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">175</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1828571</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">20</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">145</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">145</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.8734940</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">20</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">21</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">166</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1265060</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">table.income <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span>  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Distribution of income group among NDP's voters"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt_theme_dark</span>()</span></code></pre></div>
<div class="cell-output-display">
<div id="lkhyqcowsj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#lkhyqcowsj .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #FFFFFF;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #333333;
  width: auto;
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #333333;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #333333;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #333333;
}

#lkhyqcowsj .gt_heading {
  background-color: #333333;
  text-align: left;
  border-bottom-color: #333333;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lkhyqcowsj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#lkhyqcowsj .gt_title {
  color: #FFFFFF;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #333333;
  border-bottom-width: 0;
}

#lkhyqcowsj .gt_subtitle {
  color: #FFFFFF;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #333333;
  border-top-width: 0;
}

#lkhyqcowsj .gt_bottom_border {
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lkhyqcowsj .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lkhyqcowsj .gt_col_heading {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#lkhyqcowsj .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#lkhyqcowsj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#lkhyqcowsj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#lkhyqcowsj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#lkhyqcowsj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#lkhyqcowsj .gt_empty_group_heading {
  padding: 0.5px;
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#lkhyqcowsj .gt_from_md > :first-child {
  margin-top: 0;
}

#lkhyqcowsj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#lkhyqcowsj .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#lkhyqcowsj .gt_stub {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#lkhyqcowsj .gt_stub_row_group {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#lkhyqcowsj .gt_row_group_first td {
  border-top-width: 2px;
}

#lkhyqcowsj .gt_summary_row {
  color: #FFFFFF;
  background-color: #333333;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lkhyqcowsj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#lkhyqcowsj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#lkhyqcowsj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lkhyqcowsj .gt_grand_summary_row {
  color: #FFFFFF;
  background-color: #333333;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lkhyqcowsj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#lkhyqcowsj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#lkhyqcowsj .gt_table_body {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #333333;
}

#lkhyqcowsj .gt_footnotes {
  color: #FFFFFF;
  background-color: #333333;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lkhyqcowsj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lkhyqcowsj .gt_sourcenotes {
  color: #FFFFFF;
  background-color: #333333;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lkhyqcowsj .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lkhyqcowsj .gt_left {
  text-align: left;
}

#lkhyqcowsj .gt_center {
  text-align: center;
}

#lkhyqcowsj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#lkhyqcowsj .gt_font_normal {
  font-weight: normal;
}

#lkhyqcowsj .gt_font_bold {
  font-weight: bold;
}

#lkhyqcowsj .gt_font_italic {
  font-style: italic;
}

#lkhyqcowsj .gt_super {
  font-size: 65%;
}

#lkhyqcowsj .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#lkhyqcowsj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#lkhyqcowsj .gt_indent_1 {
  text-indent: 5px;
}

#lkhyqcowsj .gt_indent_2 {
  text-indent: 10px;
}

#lkhyqcowsj .gt_indent_3 {
  text-indent: 15px;
}

#lkhyqcowsj .gt_indent_4 {
  text-indent: 20px;
}

#lkhyqcowsj .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Distribution of income group among NDP's voters</caption>
<thead class="gt_col_headings">
<tr class="header">
<th id="inc" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">inc</th>
<th id="votendp" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">votendp</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">n</th>
<th id="prop_vote" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">prop_vote</th>
<th id="cum.n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">cum.n</th>
<th id="prop" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">prop</th>
<th id="rangeleft" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">rangeleft</th>
<th id="cumrelfreqN" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">cumrelfreqN</th>
<th id="cumrelfreqInc" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">cumrelfreqInc</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">53</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.3173653</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">53</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07230559</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07230559</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.004975124</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">2</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">56</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2580645</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">109</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07639836</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07230559</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.14870396</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.014925373</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">3</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">15</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2343750</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">124</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.02046385</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.14870396</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.16916780</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.029850746</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">4</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">35</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2134146</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">159</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04774898</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.16916780</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.21691678</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.049751244</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">5</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">53</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.3291925</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">212</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07230559</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.21691678</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.28922237</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.074626866</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">6</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">47</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2955975</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">259</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.06412005</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.28922237</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.35334243</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.104477612</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">7</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">44</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2784810</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">303</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.06002729</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.35334243</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.41336971</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.139303483</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">8</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">71</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2253968</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">374</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.09686221</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.41336971</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.51023192</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.179104478</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">10</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">34</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1954023</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">408</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04638472</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.51023192</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.55661664</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.228855721</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">11</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">35</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2348993</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">443</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04774898</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.55661664</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.60436562</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.283582090</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">12</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">50</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2450980</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">493</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.06821282</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.60436562</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.67257844</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.343283582</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">13</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">28</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2105263</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">521</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.03819918</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.67257844</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.71077763</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.407960199</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">14</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">56</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2121212</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">577</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07639836</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.71077763</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.78717599</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.477611940</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">15</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">19</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1666667</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">596</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.02592087</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.78717599</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.81309686</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.552238806</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">16</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">26</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1870504</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">622</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.03547067</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.81309686</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.84856753</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.631840796</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">17</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">35</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1699029</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">657</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04774898</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.84856753</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.89631651</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.716417910</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">18</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">23</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2169811</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">680</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.03137790</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.89631651</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.92769441</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.805970149</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">19</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">32</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1828571</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">712</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04365621</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.92769441</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.97135061</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.900497512</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">20</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">21</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1265060</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">733</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.02864939</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.97135061</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">1.00000000</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">1.000000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We can then plot income groups against their proportion</p>
<div class="cell fig-cap-location-top">
<div class="sourceCode cell-code" id="cb5" data-cap-location="top" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">table.income.pervote <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(votendp <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(inc), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> prop)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_col</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">xlab</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Income group"</span>) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> income.group.plot</span>
<span id="cb5-7"></span>
<span id="cb5-8">table.income <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(inc), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> prop) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_col</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ylab</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">xlab</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> income.group.plot2</span>
<span id="cb5-15">  </span>
<span id="cb5-16"></span>
<span id="cb5-17">cowplot<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot_grid</span>(income.group.plot, income.group.plot2)</span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/Techinal notes of political cleavages and inequality/technical-note-piketty-2021_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Distribution of Income groups: Canadian 2015 election survey</figcaption>
</figure>
</div>
</div>
</div>
<p>On the left, we have a graph very similar to the one of the technical note. The right-sided graph is different, because the proportion are for the overall NPD’s voters whereas the left-sided graph represents the proportion within the income group. For example, 30% of income bracket 1 voted for the NDP, but they represent about 7.4% of total NDP’s voters.</p>
<p>What makes Piketty’s team approach special and interesting is their systematic analysis in terms of quantile groups. This is, according to them, their main contribution and this approach has the advantage to allow for systematic comparison accross space and time. We will try to reproduce here their conversion of income group into quantiles.</p>
<p>In R, the decile for each observation can be added to the dataset with the function ntile():</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">ca2015 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> ca2015 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb6-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb6-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">decile =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ntile</span>(inc, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span>
<span id="cb6-4">)</span></code></pre></div>
</div>
<p>Now, the last column of ca2015 is the decile for each observation in the dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">ca2015 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb7-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(decile) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb7-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>(votendp) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb7-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(votendp <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb7-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">drop_na</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb7-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb7-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop =</span> n<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(n),</span>
<span id="cb7-8">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cumsumlag =</span> (<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lag</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cumsum</span>(prop))),</span>
<span id="cb7-9">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cumsum =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cumsum</span>(prop)) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> table.income.vote</span>
<span id="cb7-10"></span>
<span id="cb7-11">table.income.vote <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb7-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Decile and income bracket"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb7-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt_theme_dark</span>()</span></code></pre></div>
<div class="cell-output-display">
<div id="qxdwzszvbf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#qxdwzszvbf .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #FFFFFF;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #333333;
  width: auto;
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #333333;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #333333;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #333333;
}

#qxdwzszvbf .gt_heading {
  background-color: #333333;
  text-align: left;
  border-bottom-color: #333333;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qxdwzszvbf .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#qxdwzszvbf .gt_title {
  color: #FFFFFF;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #333333;
  border-bottom-width: 0;
}

#qxdwzszvbf .gt_subtitle {
  color: #FFFFFF;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #333333;
  border-top-width: 0;
}

#qxdwzszvbf .gt_bottom_border {
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qxdwzszvbf .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qxdwzszvbf .gt_col_heading {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#qxdwzszvbf .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#qxdwzszvbf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#qxdwzszvbf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#qxdwzszvbf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#qxdwzszvbf .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#qxdwzszvbf .gt_empty_group_heading {
  padding: 0.5px;
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#qxdwzszvbf .gt_from_md > :first-child {
  margin-top: 0;
}

#qxdwzszvbf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#qxdwzszvbf .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#qxdwzszvbf .gt_stub {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#qxdwzszvbf .gt_stub_row_group {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#qxdwzszvbf .gt_row_group_first td {
  border-top-width: 2px;
}

#qxdwzszvbf .gt_summary_row {
  color: #FFFFFF;
  background-color: #333333;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qxdwzszvbf .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#qxdwzszvbf .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#qxdwzszvbf .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qxdwzszvbf .gt_grand_summary_row {
  color: #FFFFFF;
  background-color: #333333;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qxdwzszvbf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#qxdwzszvbf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#qxdwzszvbf .gt_table_body {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #333333;
}

#qxdwzszvbf .gt_footnotes {
  color: #FFFFFF;
  background-color: #333333;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qxdwzszvbf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qxdwzszvbf .gt_sourcenotes {
  color: #FFFFFF;
  background-color: #333333;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qxdwzszvbf .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qxdwzszvbf .gt_left {
  text-align: left;
}

#qxdwzszvbf .gt_center {
  text-align: center;
}

#qxdwzszvbf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#qxdwzszvbf .gt_font_normal {
  font-weight: normal;
}

#qxdwzszvbf .gt_font_bold {
  font-weight: bold;
}

#qxdwzszvbf .gt_font_italic {
  font-style: italic;
}

#qxdwzszvbf .gt_super {
  font-size: 65%;
}

#qxdwzszvbf .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#qxdwzszvbf .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#qxdwzszvbf .gt_indent_1 {
  text-indent: 5px;
}

#qxdwzszvbf .gt_indent_2 {
  text-indent: 10px;
}

#qxdwzszvbf .gt_indent_3 {
  text-indent: 15px;
}

#qxdwzszvbf .gt_indent_4 {
  text-indent: 20px;
}

#qxdwzszvbf .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Decile and income bracket</caption>
<thead class="gt_col_headings">
<tr class="header">
<th id="decile" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">decile</th>
<th id="votendp" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">votendp</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">n</th>
<th id="prop" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">prop</th>
<th id="cumsumlag" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">cumsumlag</th>
<th id="cumsum" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">cumsum</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">76</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.10368349</td>
<td class="gt_row gt_right" headers="cumsumlag" style="font-family: 'Source Sans Pro'; font-weight: 400">NA</td>
<td class="gt_row gt_right" headers="cumsum" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1036835</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="decile" style="font-family: 'Source Sans Pro'; font-weight: 400">2</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">70</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.09549795</td>
<td class="gt_row gt_right" headers="cumsumlag" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1036835</td>
<td class="gt_row gt_right" headers="cumsum" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1991814</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="decile" style="font-family: 'Source Sans Pro'; font-weight: 400">3</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">106</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.14461119</td>
<td class="gt_row gt_right" headers="cumsumlag" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1991814</td>
<td class="gt_row gt_right" headers="cumsum" style="font-family: 'Source Sans Pro'; font-weight: 400">0.3437926</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="decile" style="font-family: 'Source Sans Pro'; font-weight: 400">4</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">81</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.11050477</td>
<td class="gt_row gt_right" headers="cumsumlag" style="font-family: 'Source Sans Pro'; font-weight: 400">0.3437926</td>
<td class="gt_row gt_right" headers="cumsum" style="font-family: 'Source Sans Pro'; font-weight: 400">0.4542974</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="decile" style="font-family: 'Source Sans Pro'; font-weight: 400">5</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">57</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07776262</td>
<td class="gt_row gt_right" headers="cumsumlag" style="font-family: 'Source Sans Pro'; font-weight: 400">0.4542974</td>
<td class="gt_row gt_right" headers="cumsum" style="font-family: 'Source Sans Pro'; font-weight: 400">0.5320600</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="decile" style="font-family: 'Source Sans Pro'; font-weight: 400">6</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">88</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.12005457</td>
<td class="gt_row gt_right" headers="cumsumlag" style="font-family: 'Source Sans Pro'; font-weight: 400">0.5320600</td>
<td class="gt_row gt_right" headers="cumsum" style="font-family: 'Source Sans Pro'; font-weight: 400">0.6521146</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="decile" style="font-family: 'Source Sans Pro'; font-weight: 400">7</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">70</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.09549795</td>
<td class="gt_row gt_right" headers="cumsumlag" style="font-family: 'Source Sans Pro'; font-weight: 400">0.6521146</td>
<td class="gt_row gt_right" headers="cumsum" style="font-family: 'Source Sans Pro'; font-weight: 400">0.7476126</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="decile" style="font-family: 'Source Sans Pro'; font-weight: 400">8</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">67</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.09140518</td>
<td class="gt_row gt_right" headers="cumsumlag" style="font-family: 'Source Sans Pro'; font-weight: 400">0.7476126</td>
<td class="gt_row gt_right" headers="cumsum" style="font-family: 'Source Sans Pro'; font-weight: 400">0.8390177</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="decile" style="font-family: 'Source Sans Pro'; font-weight: 400">9</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">63</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.08594816</td>
<td class="gt_row gt_right" headers="cumsumlag" style="font-family: 'Source Sans Pro'; font-weight: 400">0.8390177</td>
<td class="gt_row gt_right" headers="cumsum" style="font-family: 'Source Sans Pro'; font-weight: 400">0.9249659</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="decile" style="font-family: 'Source Sans Pro'; font-weight: 400">10</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">55</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07503411</td>
<td class="gt_row gt_right" headers="cumsumlag" style="font-family: 'Source Sans Pro'; font-weight: 400">0.9249659</td>
<td class="gt_row gt_right" headers="cumsum" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>However, it is straightforward to see that the ntile() function has flaws in decile computing.</p>
<p>More generally, computing income decile when the income variable is in brackets seems complicated, but the technical note proposes a re-weighting average approach to partially solve this problem.</p>
<p>To see how the re-weighing approach works, let’s go back to the first table:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">table.income <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb8-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb8-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt_theme_dark</span>()</span></code></pre></div>
<div class="cell-output-display">
<div id="vjchorkwhg" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#vjchorkwhg .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #FFFFFF;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #333333;
  width: auto;
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #333333;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #333333;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #333333;
}

#vjchorkwhg .gt_heading {
  background-color: #333333;
  text-align: left;
  border-bottom-color: #333333;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vjchorkwhg .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#vjchorkwhg .gt_title {
  color: #FFFFFF;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #333333;
  border-bottom-width: 0;
}

#vjchorkwhg .gt_subtitle {
  color: #FFFFFF;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #333333;
  border-top-width: 0;
}

#vjchorkwhg .gt_bottom_border {
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vjchorkwhg .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vjchorkwhg .gt_col_heading {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#vjchorkwhg .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#vjchorkwhg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#vjchorkwhg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#vjchorkwhg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#vjchorkwhg .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#vjchorkwhg .gt_empty_group_heading {
  padding: 0.5px;
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#vjchorkwhg .gt_from_md > :first-child {
  margin-top: 0;
}

#vjchorkwhg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#vjchorkwhg .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#vjchorkwhg .gt_stub {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#vjchorkwhg .gt_stub_row_group {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#vjchorkwhg .gt_row_group_first td {
  border-top-width: 2px;
}

#vjchorkwhg .gt_summary_row {
  color: #FFFFFF;
  background-color: #333333;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vjchorkwhg .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#vjchorkwhg .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#vjchorkwhg .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vjchorkwhg .gt_grand_summary_row {
  color: #FFFFFF;
  background-color: #333333;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vjchorkwhg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#vjchorkwhg .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#vjchorkwhg .gt_table_body {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #333333;
}

#vjchorkwhg .gt_footnotes {
  color: #FFFFFF;
  background-color: #333333;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vjchorkwhg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vjchorkwhg .gt_sourcenotes {
  color: #FFFFFF;
  background-color: #333333;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vjchorkwhg .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vjchorkwhg .gt_left {
  text-align: left;
}

#vjchorkwhg .gt_center {
  text-align: center;
}

#vjchorkwhg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#vjchorkwhg .gt_font_normal {
  font-weight: normal;
}

#vjchorkwhg .gt_font_bold {
  font-weight: bold;
}

#vjchorkwhg .gt_font_italic {
  font-style: italic;
}

#vjchorkwhg .gt_super {
  font-size: 65%;
}

#vjchorkwhg .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#vjchorkwhg .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#vjchorkwhg .gt_indent_1 {
  text-indent: 5px;
}

#vjchorkwhg .gt_indent_2 {
  text-indent: 10px;
}

#vjchorkwhg .gt_indent_3 {
  text-indent: 15px;
}

#vjchorkwhg .gt_indent_4 {
  text-indent: 20px;
}

#vjchorkwhg .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead class="gt_col_headings">
<tr class="header">
<th id="inc" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">inc</th>
<th id="votendp" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">votendp</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">n</th>
<th id="prop_vote" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">prop_vote</th>
<th id="cum.n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">cum.n</th>
<th id="prop" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">prop</th>
<th id="rangeleft" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">rangeleft</th>
<th id="cumrelfreqN" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">cumrelfreqN</th>
<th id="cumrelfreqInc" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">cumrelfreqInc</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">53</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.3173653</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">53</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07230559</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07230559</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.004975124</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">2</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">56</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2580645</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">109</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07639836</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07230559</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.14870396</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.014925373</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">3</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">15</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2343750</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">124</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.02046385</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.14870396</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.16916780</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.029850746</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">4</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">35</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2134146</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">159</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04774898</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.16916780</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.21691678</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.049751244</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">5</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">53</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.3291925</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">212</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07230559</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.21691678</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.28922237</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.074626866</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">6</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">47</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2955975</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">259</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.06412005</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.28922237</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.35334243</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.104477612</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">7</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">44</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2784810</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">303</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.06002729</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.35334243</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.41336971</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.139303483</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">8</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">71</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2253968</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">374</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.09686221</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.41336971</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.51023192</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.179104478</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">10</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">34</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1954023</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">408</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04638472</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.51023192</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.55661664</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.228855721</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">11</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">35</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2348993</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">443</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04774898</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.55661664</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.60436562</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.283582090</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">12</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">50</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2450980</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">493</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.06821282</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.60436562</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.67257844</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.343283582</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">13</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">28</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2105263</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">521</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.03819918</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.67257844</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.71077763</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.407960199</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">14</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">56</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2121212</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">577</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07639836</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.71077763</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.78717599</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.477611940</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">15</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">19</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1666667</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">596</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.02592087</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.78717599</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.81309686</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.552238806</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">16</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">26</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1870504</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">622</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.03547067</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.81309686</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.84856753</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.631840796</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">17</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">35</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1699029</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">657</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04774898</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.84856753</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.89631651</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.716417910</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">18</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">23</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2169811</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">680</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.03137790</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.89631651</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.92769441</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.805970149</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">19</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">32</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1828571</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">712</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04365621</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.92769441</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.97135061</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.900497512</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">20</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">21</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1265060</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">733</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.02864939</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.97135061</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">1.00000000</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">1.000000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We can directly see the problem posed by income brackets: for example, we can see that all of income bracket one belongs to the first decile since its relative range is between 0 and 0.0723. However, the relative range of bracket two is [0.0723 - 0.1487]. Some part of it belong to the first decile ([0 - 0.1]), but some belong to the second ([0 - 0.2]). The approach to compute the proportion of observations belonging to the any given decile is to compute the share of each income bracket belonging to this decile and then compute a weighted average. For example, if I want to compute the share of observation of the first decile (D10), I already know that 100% of income bracket one belongs to D10 but I need to know the share of bracket 2 (B2) belonging to D10.</p>
<p>To estimate this, let’s assume the distribution of B2 is uniform <img src="https://latex.codecogs.com/png.latex?x%20%5Csim%20U%5B0.0723;%200.1487%5D">, with x the observation within this range. We want to know <img src="https://latex.codecogs.com/png.latex?P(x%3C0.1)">, that is to say, the probability that x belongs to the first decile. We use the uniform cumulative distribution function with parameters min = 0.073 and max = 0.1487: <img src="https://latex.codecogs.com/png.latex?P(x%3C0.1)%20=%20%5Cfrac%7B0.1-0.0723%7D%7B0.1487-0.0723%7D%20=%200.3626">. This means that 36.26% of B2 belongs to D10. Then, the weighted average for the proportion of observation within D10: <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B1*0.317+0.3626*0.26%7D%7B1+0.3626%7D%20=%200.3018">. 30.2% the first decile voters voted for the NDP in 2015.</p>
<p>Here are the computations in R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>], table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>])</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3625</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1">(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.317+0.3626</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.26</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">+0.3626</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3018318</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">weighted.mean</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>prop_vote[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>], table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>prop_vote[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">w =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>], table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>])))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.301588</code></pre>
</div>
</div>
<p>Unfortunately, there is to my knowledge no function in R that will compute the weights automatically. I can nonetheless compute them through a tedious for loop:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1">weight <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>inc))</span>
<span id="cb15-2"></span>
<span id="cb15-3"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (i <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>inc)) {</span>
<span id="cb15-4">  weight[i] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb15-5">                  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i]),</span>
<span id="cb15-6">                         <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i]),</span>
<span id="cb15-7">                                <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i]),</span>
<span id="cb15-8">                                       <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i]), </span>
<span id="cb15-9">                                              <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i]), </span>
<span id="cb15-10">                                                     <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i]),</span>
<span id="cb15-11">                                                            <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i]),</span>
<span id="cb15-12">                                                                   <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i]), </span>
<span id="cb15-13">                                                                          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN[i]), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))))))))))</span>
<span id="cb15-14">}</span>
<span id="cb15-15">weight</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1.0000000 0.3625000 0.0000000 0.6457143 0.0000000 0.1680851 0.7772727
 [8] 0.8943662 0.0000000 0.9085714 0.0000000 0.7178571 0.0000000 0.4947368
[15] 0.0000000 0.0000000 0.1173913 0.0000000 1.0000000</code></pre>
</div>
</div>
<p>I replace the 0 with 1:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1">weight <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(weight <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, weight)</span>
<span id="cb17-2"></span>
<span id="cb17-3">table.income <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> table.income <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb17-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">share_decile =</span> weight)</span>
<span id="cb17-5"></span>
<span id="cb17-6">table.income <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb17-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">share_rest =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> weight) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> table.income</span>
<span id="cb17-8"></span>
<span id="cb17-9">table.income <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb17-10">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop_vote =</span> table.income.pervote<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>prop[table.income.pervote<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>votendp <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]</span>
<span id="cb17-11">) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb17-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt_theme_dark</span>()</span></code></pre></div>
<div class="cell-output-display">
<div id="dppjczzkbs" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#dppjczzkbs .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #FFFFFF;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #333333;
  width: auto;
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #333333;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #333333;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #333333;
}

#dppjczzkbs .gt_heading {
  background-color: #333333;
  text-align: left;
  border-bottom-color: #333333;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dppjczzkbs .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#dppjczzkbs .gt_title {
  color: #FFFFFF;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #333333;
  border-bottom-width: 0;
}

#dppjczzkbs .gt_subtitle {
  color: #FFFFFF;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #333333;
  border-top-width: 0;
}

#dppjczzkbs .gt_bottom_border {
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dppjczzkbs .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dppjczzkbs .gt_col_heading {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dppjczzkbs .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dppjczzkbs .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dppjczzkbs .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dppjczzkbs .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dppjczzkbs .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#dppjczzkbs .gt_empty_group_heading {
  padding: 0.5px;
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#dppjczzkbs .gt_from_md > :first-child {
  margin-top: 0;
}

#dppjczzkbs .gt_from_md > :last-child {
  margin-bottom: 0;
}

#dppjczzkbs .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#dppjczzkbs .gt_stub {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#dppjczzkbs .gt_stub_row_group {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#dppjczzkbs .gt_row_group_first td {
  border-top-width: 2px;
}

#dppjczzkbs .gt_summary_row {
  color: #FFFFFF;
  background-color: #333333;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dppjczzkbs .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#dppjczzkbs .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#dppjczzkbs .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dppjczzkbs .gt_grand_summary_row {
  color: #FFFFFF;
  background-color: #333333;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dppjczzkbs .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dppjczzkbs .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#dppjczzkbs .gt_table_body {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #333333;
}

#dppjczzkbs .gt_footnotes {
  color: #FFFFFF;
  background-color: #333333;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dppjczzkbs .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dppjczzkbs .gt_sourcenotes {
  color: #FFFFFF;
  background-color: #333333;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dppjczzkbs .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dppjczzkbs .gt_left {
  text-align: left;
}

#dppjczzkbs .gt_center {
  text-align: center;
}

#dppjczzkbs .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dppjczzkbs .gt_font_normal {
  font-weight: normal;
}

#dppjczzkbs .gt_font_bold {
  font-weight: bold;
}

#dppjczzkbs .gt_font_italic {
  font-style: italic;
}

#dppjczzkbs .gt_super {
  font-size: 65%;
}

#dppjczzkbs .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#dppjczzkbs .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#dppjczzkbs .gt_indent_1 {
  text-indent: 5px;
}

#dppjczzkbs .gt_indent_2 {
  text-indent: 10px;
}

#dppjczzkbs .gt_indent_3 {
  text-indent: 15px;
}

#dppjczzkbs .gt_indent_4 {
  text-indent: 20px;
}

#dppjczzkbs .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead class="gt_col_headings">
<tr class="header">
<th id="inc" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">inc</th>
<th id="votendp" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">votendp</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">n</th>
<th id="prop_vote" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">prop_vote</th>
<th id="cum.n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">cum.n</th>
<th id="prop" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">prop</th>
<th id="rangeleft" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">rangeleft</th>
<th id="cumrelfreqN" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">cumrelfreqN</th>
<th id="cumrelfreqInc" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">cumrelfreqInc</th>
<th id="share_decile" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">share_decile</th>
<th id="share_rest" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">share_rest</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">53</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.3173653</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">53</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07230559</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07230559</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.004975124</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">2</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">56</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2580645</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">109</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07639836</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07230559</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.14870396</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.014925373</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">0.3625000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.63750000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">3</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">15</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2343750</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">124</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.02046385</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.14870396</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.16916780</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.029850746</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">4</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">35</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2134146</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">159</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04774898</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.16916780</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.21691678</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.049751244</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">0.6457143</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.35428571</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">5</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">53</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.3291925</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">212</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07230559</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.21691678</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.28922237</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.074626866</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">6</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">47</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2955975</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">259</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.06412005</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.28922237</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.35334243</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.104477612</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1680851</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.83191489</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">7</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">44</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2784810</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">303</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.06002729</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.35334243</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.41336971</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.139303483</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">0.7772727</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.22272727</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">8</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">71</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2253968</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">374</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.09686221</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.41336971</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.51023192</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.179104478</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">0.8943662</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.10563380</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">10</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">34</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1954023</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">408</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04638472</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.51023192</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.55661664</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.228855721</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">11</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">35</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2348993</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">443</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04774898</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.55661664</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.60436562</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.283582090</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">0.9085714</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.09142857</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">12</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">50</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2450980</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">493</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.06821282</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.60436562</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.67257844</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.343283582</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">13</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">28</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2105263</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">521</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.03819918</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.67257844</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.71077763</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.407960199</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">0.7178571</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.28214286</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">14</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">56</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2121212</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">577</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07639836</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.71077763</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.78717599</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.477611940</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">15</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">19</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1666667</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">596</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.02592087</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.78717599</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.81309686</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.552238806</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">0.4947368</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.50526316</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">16</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">26</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1870504</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">622</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.03547067</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.81309686</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.84856753</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.631840796</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">17</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">35</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1699029</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">657</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04774898</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.84856753</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.89631651</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.716417910</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">18</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">23</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2169811</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">680</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.03137790</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.89631651</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.92769441</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.805970149</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1173913</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.88260870</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">19</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">32</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1828571</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">712</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04365621</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.92769441</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.97135061</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.900497512</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">20</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">21</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1265060</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">733</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.02864939</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.97135061</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">1.00000000</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">1.000000000</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>There can be mistakes, but the results seem to make sense</p>
<p>Since I do not want to ever do this computation again (😅), I put all of this into a function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1">weight_share <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(x){</span>
<span id="cb18-2">  weight <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>(x))</span>
<span id="cb18-3">  </span>
<span id="cb18-4">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (i <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>(x)) {</span>
<span id="cb18-5">   weight[i] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span>  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb18-6">                  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]),</span>
<span id="cb18-7">                         <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]),</span>
<span id="cb18-8">                                <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]),</span>
<span id="cb18-9">                                       <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]), </span>
<span id="cb18-10">                                              <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]), </span>
<span id="cb18-11">                                                     <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]),</span>
<span id="cb18-12">                                                            <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]),</span>
<span id="cb18-13">                                                                   <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]),</span>
<span id="cb18-14">                                                                                                         <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))))))))))</span>
<span id="cb18-15">  }</span>
<span id="cb18-16">  weight <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(weight <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, weight)</span>
<span id="cb18-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(weight)</span>
<span id="cb18-18">}</span></code></pre></div>
</div>
<p>Let’s check if the function works</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">weight_share</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1.0000000 0.3625000 1.0000000 0.6457143 1.0000000 0.1680851 0.7772727
 [8] 0.8943662 1.0000000 0.9085714 1.0000000 0.7178571 1.0000000 0.4947368
[15] 1.0000000 1.0000000 0.1173913 1.0000000 1.0000000</code></pre>
</div>
</div>
<p>We are almost done, there are only the weighted averages for each decile left to compute. One further step is to compute dummy variables to show to which decile income brackets belong to. This will produce a table close to the one from the technical note.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1">table.income <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb21-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d1 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>rangeleft <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>rangeleft <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb21-3">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d2 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>rangeleft <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># the %[]% is an "between" operator from the Desctools package. for example, x %[]% c(a, b) checks whether x belong to the interval [a, b] with a&lt;b </span></span>
<span id="cb21-4">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d3 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>rangeleft <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb21-5">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d4 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>rangeleft <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb21-6">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d5 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>rangeleft <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb21-7">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d6 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>rangeleft <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb21-8">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d7 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>rangeleft <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb21-9">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d8 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>rangeleft <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb21-10">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d9 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>rangeleft <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb21-11">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d10 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>rangeleft <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cumrelfreqN <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> table.income</span>
<span id="cb21-12"></span>
<span id="cb21-13">table.income <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb21-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb21-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt_theme_dark</span>()</span></code></pre></div>
<div class="cell-output-display">
<div id="bxakpibikv" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#bxakpibikv .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #FFFFFF;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #333333;
  width: auto;
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #333333;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #333333;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #333333;
}

#bxakpibikv .gt_heading {
  background-color: #333333;
  text-align: left;
  border-bottom-color: #333333;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bxakpibikv .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#bxakpibikv .gt_title {
  color: #FFFFFF;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #333333;
  border-bottom-width: 0;
}

#bxakpibikv .gt_subtitle {
  color: #FFFFFF;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #333333;
  border-top-width: 0;
}

#bxakpibikv .gt_bottom_border {
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bxakpibikv .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bxakpibikv .gt_col_heading {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#bxakpibikv .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#bxakpibikv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#bxakpibikv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#bxakpibikv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#bxakpibikv .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#bxakpibikv .gt_empty_group_heading {
  padding: 0.5px;
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#bxakpibikv .gt_from_md > :first-child {
  margin-top: 0;
}

#bxakpibikv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#bxakpibikv .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#bxakpibikv .gt_stub {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#bxakpibikv .gt_stub_row_group {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#bxakpibikv .gt_row_group_first td {
  border-top-width: 2px;
}

#bxakpibikv .gt_summary_row {
  color: #FFFFFF;
  background-color: #333333;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bxakpibikv .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#bxakpibikv .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#bxakpibikv .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bxakpibikv .gt_grand_summary_row {
  color: #FFFFFF;
  background-color: #333333;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bxakpibikv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#bxakpibikv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#bxakpibikv .gt_table_body {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #333333;
}

#bxakpibikv .gt_footnotes {
  color: #FFFFFF;
  background-color: #333333;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bxakpibikv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bxakpibikv .gt_sourcenotes {
  color: #FFFFFF;
  background-color: #333333;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bxakpibikv .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bxakpibikv .gt_left {
  text-align: left;
}

#bxakpibikv .gt_center {
  text-align: center;
}

#bxakpibikv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#bxakpibikv .gt_font_normal {
  font-weight: normal;
}

#bxakpibikv .gt_font_bold {
  font-weight: bold;
}

#bxakpibikv .gt_font_italic {
  font-style: italic;
}

#bxakpibikv .gt_super {
  font-size: 65%;
}

#bxakpibikv .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#bxakpibikv .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#bxakpibikv .gt_indent_1 {
  text-indent: 5px;
}

#bxakpibikv .gt_indent_2 {
  text-indent: 10px;
}

#bxakpibikv .gt_indent_3 {
  text-indent: 15px;
}

#bxakpibikv .gt_indent_4 {
  text-indent: 20px;
}

#bxakpibikv .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead class="gt_col_headings">
<tr class="header">
<th id="inc" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">inc</th>
<th id="votendp" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">votendp</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">n</th>
<th id="prop_vote" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">prop_vote</th>
<th id="cum.n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">cum.n</th>
<th id="prop" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">prop</th>
<th id="rangeleft" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">rangeleft</th>
<th id="cumrelfreqN" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">cumrelfreqN</th>
<th id="cumrelfreqInc" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">cumrelfreqInc</th>
<th id="share_decile" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">share_decile</th>
<th id="share_rest" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">share_rest</th>
<th id="d1" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">d1</th>
<th id="d2" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">d2</th>
<th id="d3" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">d3</th>
<th id="d4" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">d4</th>
<th id="d5" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">d5</th>
<th id="d6" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">d6</th>
<th id="d7" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">d7</th>
<th id="d8" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">d8</th>
<th id="d9" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">d9</th>
<th id="d10" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="color: #FFFFFF; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">d10</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">53</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.3173653</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">53</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07230559</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07230559</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.004975124</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
<td class="gt_row gt_right" headers="d1" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d2" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d3" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d4" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d5" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d6" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d7" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d8" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d9" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d10" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">2</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">56</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2580645</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">109</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07639836</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07230559</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.14870396</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.014925373</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">0.3625000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.63750000</td>
<td class="gt_row gt_right" headers="d1" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d2" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d3" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d4" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d5" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d6" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d7" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d8" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d9" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d10" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">3</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">15</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2343750</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">124</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.02046385</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.14870396</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.16916780</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.029850746</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
<td class="gt_row gt_right" headers="d1" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d2" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d3" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d4" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d5" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d6" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d7" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d8" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d9" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d10" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">4</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">35</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2134146</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">159</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04774898</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.16916780</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.21691678</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.049751244</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">0.6457143</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.35428571</td>
<td class="gt_row gt_right" headers="d1" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d2" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d3" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d4" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d5" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d6" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d7" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d8" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d9" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d10" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">5</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">53</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.3291925</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">212</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07230559</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.21691678</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.28922237</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.074626866</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
<td class="gt_row gt_right" headers="d1" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d2" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d3" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d4" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d5" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d6" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d7" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d8" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d9" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d10" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">6</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">47</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2955975</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">259</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.06412005</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.28922237</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.35334243</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.104477612</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1680851</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.83191489</td>
<td class="gt_row gt_right" headers="d1" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d2" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d3" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d4" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d5" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d6" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d7" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d8" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d9" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d10" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">7</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">44</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2784810</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">303</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.06002729</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.35334243</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.41336971</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.139303483</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">0.7772727</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.22272727</td>
<td class="gt_row gt_right" headers="d1" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d2" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d3" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d4" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d5" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d6" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d7" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d8" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d9" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d10" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">8</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">71</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2253968</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">374</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.09686221</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.41336971</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.51023192</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.179104478</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">0.8943662</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.10563380</td>
<td class="gt_row gt_right" headers="d1" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d2" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d3" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d4" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d5" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d6" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d7" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d8" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d9" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d10" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">10</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">34</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1954023</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">408</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04638472</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.51023192</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.55661664</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.228855721</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
<td class="gt_row gt_right" headers="d1" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d2" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d3" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d4" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d5" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d6" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d7" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d8" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d9" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d10" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">11</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">35</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2348993</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">443</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04774898</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.55661664</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.60436562</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.283582090</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">0.9085714</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.09142857</td>
<td class="gt_row gt_right" headers="d1" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d2" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d3" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d4" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d5" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d6" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d7" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d8" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d9" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d10" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">12</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">50</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2450980</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">493</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.06821282</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.60436562</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.67257844</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.343283582</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
<td class="gt_row gt_right" headers="d1" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d2" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d3" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d4" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d5" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d6" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d7" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d8" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d9" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d10" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">13</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">28</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2105263</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">521</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.03819918</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.67257844</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.71077763</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.407960199</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">0.7178571</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.28214286</td>
<td class="gt_row gt_right" headers="d1" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d2" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d3" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d4" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d5" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d6" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d7" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d8" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d9" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d10" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">14</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">56</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2121212</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">577</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.07639836</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.71077763</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.78717599</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.477611940</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
<td class="gt_row gt_right" headers="d1" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d2" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d3" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d4" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d5" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d6" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d7" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d8" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d9" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d10" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">15</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">19</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1666667</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">596</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.02592087</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.78717599</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.81309686</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.552238806</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">0.4947368</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.50526316</td>
<td class="gt_row gt_right" headers="d1" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d2" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d3" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d4" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d5" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d6" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d7" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d8" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d9" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d10" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">16</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">26</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1870504</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">622</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.03547067</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.81309686</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.84856753</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.631840796</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
<td class="gt_row gt_right" headers="d1" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d2" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d3" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d4" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d5" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d6" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d7" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d8" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d9" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d10" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">17</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">35</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1699029</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">657</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04774898</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.84856753</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.89631651</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.716417910</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
<td class="gt_row gt_right" headers="d1" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d2" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d3" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d4" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d5" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d6" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d7" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d8" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d9" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d10" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">18</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">23</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.2169811</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">680</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.03137790</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.89631651</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.92769441</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.805970149</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1173913</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.88260870</td>
<td class="gt_row gt_right" headers="d1" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d2" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d3" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d4" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d5" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d6" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d7" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d8" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d9" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="d10" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">19</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">32</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1828571</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">712</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.04365621</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.92769441</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">0.97135061</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">0.900497512</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
<td class="gt_row gt_right" headers="d1" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d2" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d3" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d4" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d5" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d6" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d7" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d8" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d9" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d10" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="inc" style="font-family: 'Source Sans Pro'; font-weight: 400">20</td>
<td class="gt_row gt_right" headers="votendp" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
<td class="gt_row gt_right" headers="n" style="font-family: 'Source Sans Pro'; font-weight: 400">21</td>
<td class="gt_row gt_right" headers="prop_vote" style="font-family: 'Source Sans Pro'; font-weight: 400">0.1265060</td>
<td class="gt_row gt_right" headers="cum.n" style="font-family: 'Source Sans Pro'; font-weight: 400">733</td>
<td class="gt_row gt_right" headers="prop" style="font-family: 'Source Sans Pro'; font-weight: 400">0.02864939</td>
<td class="gt_row gt_right" headers="rangeleft" style="font-family: 'Source Sans Pro'; font-weight: 400">0.97135061</td>
<td class="gt_row gt_right" headers="cumrelfreqN" style="font-family: 'Source Sans Pro'; font-weight: 400">1.00000000</td>
<td class="gt_row gt_right" headers="cumrelfreqInc" style="font-family: 'Source Sans Pro'; font-weight: 400">1.000000000</td>
<td class="gt_row gt_right" headers="share_decile" style="font-family: 'Source Sans Pro'; font-weight: 400">1.0000000</td>
<td class="gt_row gt_right" headers="share_rest" style="font-family: 'Source Sans Pro'; font-weight: 400">0.00000000</td>
<td class="gt_row gt_right" headers="d1" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d2" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d3" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d4" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d5" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d6" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d7" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d8" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d9" style="font-family: 'Source Sans Pro'; font-weight: 400">0</td>
<td class="gt_row gt_right" headers="d10" style="font-family: 'Source Sans Pro'; font-weight: 400">1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Tu put the code above into a function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1">decile_dummies <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(data, rangeleft, rangeright){</span>
<span id="cb22-2"></span>
<span id="cb22-3">data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb22-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d1 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> {{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb22-5">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d2 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#%[]% is an within bracket operator from the Desctools package. for example, x %[]% c(a, b) checks whether x belong to the interval [a, b] with a&lt;b </span></span>
<span id="cb22-6">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d3 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb22-7">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d4 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb22-8">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d5 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb22-9">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d6 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb22-10">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d7 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb22-11">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d8 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb22-12">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d9 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb22-13">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d10 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>))</span>
<span id="cb22-14">  </span>
<span id="cb22-15">}</span></code></pre></div>
</div>
<p>This compute the proportion of the first decile directly from the table above:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">weighted.mean</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>prop_vote[table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>d1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">w =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>share_decile[table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>d1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># d1</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.301588</code></pre>
</div>
</div>
<p>Let’s try to compute the 3 first decile in a way that can then be put into a for loop or even into a function later</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># for d_i</span></span>
<span id="cb25-2"></span>
<span id="cb25-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">weighted.mean</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>prop_vote[table.income[,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]),</span>
<span id="cb25-4">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">w =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>share_decile[table.income[,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#d1: take columns 11 (D1) and the values of prop vote and share decile for which D11 == 1</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.301588</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">weighted.mean</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>prop_vote[table.income[,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">13</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]),</span>
<span id="cb27-2">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">w =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>share_rest[table.income[,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> table.income[, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">13</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>],</span>
<span id="cb27-3">                    table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>share_decile[table.income[,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> table.income[,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">13</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#d2</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2350616</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">weighted.mean</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>prop_vote[table.income[,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]),</span>
<span id="cb29-2">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">w =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>share_rest[table.income[,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14-1</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> table.income[, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>], <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#d3</span></span>
<span id="cb29-3">                    table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>share_decile[table.income[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14-1</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> table.income[,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2985395</code></pre>
</div>
</div>
<p>Let’s try the for loop</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1">decile_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span>
<span id="cb31-2">decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>()</span>
<span id="cb31-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#11:20 are the decile dummies columns in the dataset</span></span>
<span id="cb31-4">decile_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">capture.output</span>(<span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (i <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>) {</span>
<span id="cb31-5"></span>
<span id="cb31-6">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span>(i <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>){</span>
<span id="cb31-7">    </span>
<span id="cb31-8">  decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span>  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">weighted.mean</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>prop_vote[table.income[,i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]),</span>
<span id="cb31-9">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">w =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>share_decile[table.income[,i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])))</span>
<span id="cb31-10">  }<span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span>{</span>
<span id="cb31-11">    </span>
<span id="cb31-12">   decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">weighted.mean</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>prop_vote[table.income[,i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]),</span>
<span id="cb31-13">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">w =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>share_rest[table.income[,i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> table.income[, i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>], </span>
<span id="cb31-14">                    table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>share_decile[table.income[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> table.income[,i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])))</span>
<span id="cb31-15">  }</span>
<span id="cb31-16"> </span>
<span id="cb31-17"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cat</span>(decile,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb31-18">})</span>
<span id="cb31-19"></span>
<span id="cb31-20">decile_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(decile_vec)</span>
<span id="cb31-21">decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">decile =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>,</span>
<span id="cb31-22">                         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop =</span> decile_vec)</span>
<span id="cb31-23">decile</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   decile      prop
1       1 0.3015880
2       2 0.2350616
3       3 0.2985395
4       4 0.2873299
5       5 0.2359808
6       6 0.2147917
7       7 0.2308659
8       8 0.1992121
9       9 0.1779249
10     10 0.1737567</code></pre>
</div>
</div>
<p>This seems to work, the 3 first values are the same as the ones computed above</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1">decile <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb33-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb33-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(decile), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> prop)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb33-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_col</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb33-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/Techinal notes of political cleavages and inequality/technical-note-piketty-2021_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This graph is very close to the one from the techninal note (figure one, right-sided graph)</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://jeylal.github.io/celalguney/posts/Techinal notes of political cleavages and inequality/graph1.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>For now, let’s put the for loop into a function: this function would require the decile dummies columns, the columns for the proportion, the column for decile share and the column for the rest’s share:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1">decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(data, columns, prop, share_decile, share_rest){</span>
<span id="cb34-2">  </span>
<span id="cb34-3">  decile_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span>
<span id="cb34-4">decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>()</span>
<span id="cb34-5"></span>
<span id="cb34-6">decile_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">capture.output</span>(<span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (i <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>(columns)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>(columns)) {</span>
<span id="cb34-7"></span>
<span id="cb34-8">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span>(i <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>(columns)){</span>
<span id="cb34-9">    </span>
<span id="cb34-10">  decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span>  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">weighted.mean</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(prop[data[,i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]),</span>
<span id="cb34-11">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">w =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(share_decile[data[,i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])))</span>
<span id="cb34-12">  }<span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span>{</span>
<span id="cb34-13">    </span>
<span id="cb34-14">   decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">weighted.mean</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(prop[data[,i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]),</span>
<span id="cb34-15">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">w =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(share_rest[data[,i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> data[, i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>], </span>
<span id="cb34-16">                    share_decile[data[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> data[,i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])))</span>
<span id="cb34-17">  }</span>
<span id="cb34-18"> </span>
<span id="cb34-19"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cat</span>(decile,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb34-20">})</span>
<span id="cb34-21"></span>
<span id="cb34-22">decile_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(decile_vec)</span>
<span id="cb34-23">decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">decile =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>,</span>
<span id="cb34-24">                         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop =</span> decile_vec)</span>
<span id="cb34-25">decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> decile <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb34-26">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">across</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">everything</span>(), <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">replace</span>(.x, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.nan</span>(.x), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>))) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># if an income group has no individuals who has votendp == 1, make the function return 0 instead of NaNs</span></span>
<span id="cb34-27">}</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb35" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">decile</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> table.income, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">columns =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>prop_vote, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">share_decile =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>share_decile, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">share_rest =</span> table.income<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>share_rest)</span></code></pre></div>
</div>
<p>The function seems to work, but requires a specific dataframe (formatted as table.income).</p>
</section>
</section>
<section id="summing-up-all-of-this-into-one-function" class="level2">
<h2 class="anchored" data-anchor-id="summing-up-all-of-this-into-one-function">Summing up all of this into one function</h2>
<p>The goal here is to write all the steps above into one function, such that only the variable from the dataset must be given to compute the deciles.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># note: the function needs the weight_share() function and the decile_dummies function and the decile function</span></span>
<span id="cb36-2"></span>
<span id="cb36-3">weight_share <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(x){</span>
<span id="cb36-4">  weight <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>(x))</span>
<span id="cb36-5">  </span>
<span id="cb36-6">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (i <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>(x)) {</span>
<span id="cb36-7">   weight[i] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span>  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb36-8">                  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]),</span>
<span id="cb36-9">                         <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]),</span>
<span id="cb36-10">                                <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]),</span>
<span id="cb36-11">                                       <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]), </span>
<span id="cb36-12">                                              <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]), </span>
<span id="cb36-13">                                                     <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]),</span>
<span id="cb36-14">                                                            <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]),</span>
<span id="cb36-15">                                                                   <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]),</span>
<span id="cb36-16">                                                                                                         <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))))))))))</span>
<span id="cb36-17">  }</span>
<span id="cb36-18">  weight <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(weight <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, weight)</span>
<span id="cb36-19">}</span>
<span id="cb36-20"></span>
<span id="cb36-21"></span>
<span id="cb36-22">decile_dummies <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(data, rangeleft, rangeright){</span>
<span id="cb36-23"></span>
<span id="cb36-24">data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb36-25">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d1 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> {{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb36-26">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d2 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#%[]% is an within bracket operator from the Desctools package. for example, x %[]% c(a, b) checks whether x belong to the interval [a, b] with a&lt;b </span></span>
<span id="cb36-27">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d3 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb36-28">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d4 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb36-29">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d5 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb36-30">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d6 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb36-31">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d7 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb36-32">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d8 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb36-33">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d9 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb36-34">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d10 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>))</span>
<span id="cb36-35">  </span>
<span id="cb36-36">}</span>
<span id="cb36-37"></span>
<span id="cb36-38">decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(data, columns, prop, share_decile, share_rest){</span>
<span id="cb36-39">  </span>
<span id="cb36-40">  decile_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span>
<span id="cb36-41">decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>()</span>
<span id="cb36-42"></span>
<span id="cb36-43">decile_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">capture.output</span>(<span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (i <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>(columns)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>(columns)) {</span>
<span id="cb36-44"></span>
<span id="cb36-45">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span>(i <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>(columns)){</span>
<span id="cb36-46">    </span>
<span id="cb36-47">  decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span>  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">weighted.mean</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(prop[data[,i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]),</span>
<span id="cb36-48">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">w =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(share_decile[data[,i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])))</span>
<span id="cb36-49">  }<span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span>{</span>
<span id="cb36-50">    </span>
<span id="cb36-51">   decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">weighted.mean</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(prop[data[,i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]),</span>
<span id="cb36-52">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">w =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(share_rest[data[,i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> data[, i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>], </span>
<span id="cb36-53">                    share_decile[data[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> data[,i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])))</span>
<span id="cb36-54">  }</span>
<span id="cb36-55"> </span>
<span id="cb36-56"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cat</span>(decile,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb36-57">})</span>
<span id="cb36-58"></span>
<span id="cb36-59">decile_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(decile_vec)</span>
<span id="cb36-60">decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">decile =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>,</span>
<span id="cb36-61">                         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop =</span> decile_vec)</span>
<span id="cb36-62">decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> decile <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb36-63">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">across</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">everything</span>(), <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">replace</span>(.x, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.nan</span>(.x), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>))) <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">### if a group has no observation in the count, replace the NaNs by zeros</span></span>
<span id="cb36-64"></span>
<span id="cb36-65">decile</span>
<span id="cb36-66">}</span>
<span id="cb36-67"></span>
<span id="cb36-68">decile_final <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(data, x, by, value){</span>
<span id="cb36-69">  </span>
<span id="cb36-70">table1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb36-71">  {{data}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb36-72">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>({{by}}) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb36-73">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>({{x}}) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb36-74">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">drop_na</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb36-75">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb36-76">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cum_x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cumsum</span>(n),</span>
<span id="cb36-77">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop_x =</span> n<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(n)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb36-78">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb36-79">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>({{x}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> value)</span>
<span id="cb36-80"></span>
<span id="cb36-81"></span>
<span id="cb36-82">table <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb36-83">{{data}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb36-84">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>({{x}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> value) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb36-85">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>({{by}}) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb36-86">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>({{x}}) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb36-87">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">drop_na</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb36-88">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb36-89">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb36-90">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop_x =</span> table1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>prop_x,</span>
<span id="cb36-91">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop =</span> n<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(n),</span>
<span id="cb36-92">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">rangeleft =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lag</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cumsum</span>(prop), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">default =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb36-93">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cumrelfreq =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cumsum</span>(prop),</span>
<span id="cb36-94">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">share_decile =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">weight_share</span>(cumrelfreq),</span>
<span id="cb36-95">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">share_rest =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">weight_share</span>(cumrelfreq)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb36-96">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">decile_dummies</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">rangeleft =</span> rangeleft, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">rangeright =</span> cumrelfreq)</span>
<span id="cb36-97"></span>
<span id="cb36-98"></span>
<span id="cb36-99">decile_columns <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">which</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">colnames</span>(table)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"d1"</span> )<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">which</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">colnames</span>(table)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"d10"</span> )</span>
<span id="cb36-100"></span>
<span id="cb36-101"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">decile</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> table, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">columns =</span> decile_columns, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop =</span> table<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>prop_x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">share_decile =</span> table<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>share_decile, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">share_rest =</span> table<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>share_rest)</span>
<span id="cb36-102"></span>
<span id="cb36-103">}</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">decile_final</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> ca2015, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> inc, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> votendp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">value =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   decile      prop
1       1 0.3015880
2       2 0.2350616
3       3 0.2985395
4       4 0.2873299
5       5 0.2359808
6       6 0.2147917
7       7 0.2308659
8       8 0.1992121
9       9 0.1779249
10     10 0.1737567</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">decile_final</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> ca2015, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> inc, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> votelib, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">value =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   decile      prop
1       1 0.3807777
2       2 0.4229278
3       3 0.3830486
4       4 0.3831860
5       5 0.4397704
6       6 0.3894084
7       7 0.4532439
8       8 0.4113987
9       9 0.4132309
10     10 0.4833679</code></pre>
</div>
</div>
<section id="whats-next" class="level3">
<h3 class="anchored" data-anchor-id="whats-next">What’s Next?</h3>
<p>Even if the goal of reproducing the WPID’s methodology is now done, I am still unsatisfied with some aspects of the work done above. I will try in the future to do the following:</p>
<ul>
<li><p>Improve the code of all the functions (see below)</p></li>
<li><p>Improve the functions to allow for greater flexibility (for example allowing to compute not only decile, but also quartiles, quintiles…)</p></li>
<li><p>Create a function which assigns each individual of the dataset to a quantile group (Piketty and Co-authors provide the function only in Stata…)</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb41" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># note: the function needs the weight_share() function and the decile_dummies function and the decile function</span></span>
<span id="cb41-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># I am Still working on improving these functions: simplify the code and allow for a lot more flexibility, for instance:</span></span>
<span id="cb41-3">      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1. compute different quantile groups (quartile, quintiles... instead of always deciles)</span></span>
<span id="cb41-4">weight_share <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(x){</span>
<span id="cb41-5">  weight <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>(x))</span>
<span id="cb41-6">  </span>
<span id="cb41-7">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (i <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>(x)) {</span>
<span id="cb41-8">   weight[i] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span>  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb41-9">                  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]),</span>
<span id="cb41-10">                         <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]),</span>
<span id="cb41-11">                                <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]),</span>
<span id="cb41-12">                                       <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]), </span>
<span id="cb41-13">                                              <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]), </span>
<span id="cb41-14">                                                     <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]),</span>
<span id="cb41-15">                                                            <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]),</span>
<span id="cb41-16">                                                                   <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]),</span>
<span id="cb41-17">                                                                                                         <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> x[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> x[i]), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))))))))))</span>
<span id="cb41-18">  }</span>
<span id="cb41-19">  weight <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(weight <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, weight)</span>
<span id="cb41-20">}</span>
<span id="cb41-21"></span>
<span id="cb41-22"></span>
<span id="cb41-23">decile_dummies <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(data, rangeleft, rangeright){</span>
<span id="cb41-24"></span>
<span id="cb41-25">data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb41-26">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d1 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> {{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb41-27">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d2 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#%[]% is an within bracket operator from the Desctools package. for example, x %[]% c(a, b) checks whether x belong to the interval [a, b] with a&lt;b </span></span>
<span id="cb41-28">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d3 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb41-29">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d4 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb41-30">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d5 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb41-31">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d6 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb41-32">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d7 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb41-33">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d8 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb41-34">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d9 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb41-35">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">d10 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>({{rangeleft}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> {{rangeright}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%[]%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>))</span>
<span id="cb41-36">  </span>
<span id="cb41-37">}</span>
<span id="cb41-38"></span>
<span id="cb41-39">decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(data, columns, prop, share_decile, share_rest){</span>
<span id="cb41-40">  </span>
<span id="cb41-41">  decile_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span>
<span id="cb41-42">decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>()</span>
<span id="cb41-43"></span>
<span id="cb41-44">decile_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">capture.output</span>(<span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (i <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>(columns)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>(columns)) {</span>
<span id="cb41-45"></span>
<span id="cb41-46">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span>(i <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>(columns)){</span>
<span id="cb41-47">    </span>
<span id="cb41-48">  decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span>  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">weighted.mean</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(prop[data[,i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]),</span>
<span id="cb41-49">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">w =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(share_decile[data[,i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])))</span>
<span id="cb41-50">  }<span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span>{</span>
<span id="cb41-51">    </span>
<span id="cb41-52">   decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">weighted.mean</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(prop[data[,i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]),</span>
<span id="cb41-53">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">w =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(share_rest[data[,i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> data[, i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>], </span>
<span id="cb41-54">                    share_decile[data[i<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-1</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> data[,i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])))</span>
<span id="cb41-55">  }</span>
<span id="cb41-56"> </span>
<span id="cb41-57"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cat</span>(decile,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb41-58">})</span>
<span id="cb41-59"></span>
<span id="cb41-60">decile_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(decile_vec)</span>
<span id="cb41-61">decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">decile =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>,</span>
<span id="cb41-62">                         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop =</span> decile_vec)</span>
<span id="cb41-63">decile</span>
<span id="cb41-64">}</span>
<span id="cb41-65"></span>
<span id="cb41-66">table_decile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(data, x, by, value){</span>
<span id="cb41-67">  </span>
<span id="cb41-68">table1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb41-69">  {{data}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb41-70">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>({{by}}) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb41-71">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>({{x}}) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb41-72">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">drop_na</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb41-73">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb41-74">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cum_x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cumsum</span>(n),</span>
<span id="cb41-75">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop_x =</span> n<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(n)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb41-76">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb41-77">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>({{x}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> value)</span>
<span id="cb41-78"></span>
<span id="cb41-79"></span>
<span id="cb41-80">table <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb41-81">{{data}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb41-82">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>({{x}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> value) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb41-83">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>({{by}}) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb41-84">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>({{x}}) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb41-85">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">drop_na</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb41-86">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb41-87">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb41-88">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop_x =</span> table1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>prop_x,</span>
<span id="cb41-89">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop =</span> n<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(n),</span>
<span id="cb41-90">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">rangeleft =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lag</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cumsum</span>(prop), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">default =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb41-91">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cumrelfreq =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cumsum</span>(prop),</span>
<span id="cb41-92">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">share_decile =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">weight_share</span>(cumrelfreq),</span>
<span id="cb41-93">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">share_rest =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">weight_share</span>(cumrelfreq)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb41-94">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">decile_dummies</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">rangeleft =</span> rangeleft, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">rangeright =</span> cumrelfreq)</span>
<span id="cb41-95"></span>
<span id="cb41-96"></span>
<span id="cb41-97">decile_columns <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">which</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">colnames</span>(table)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"d1"</span> )<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">which</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">colnames</span>(table)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"d10"</span>)</span>
<span id="cb41-98"></span>
<span id="cb41-99"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">table =</span> table,</span>
<span id="cb41-100">     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">decile =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">decile</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> table, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">columns =</span> decile_columns, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prop =</span> table<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>prop_x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">share_decile =</span> table<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>share_decile, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">share_rest =</span> table<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>share_rest))</span>
<span id="cb41-101"></span>
<span id="cb41-102"></span>
<span id="cb41-103">}</span></code></pre></div>
</div>


</section>
</section>

 ]]></description>
  <category>Political Economy</category>
  <category>Stats</category>
  <category>Coding</category>
  <guid>https://jeylal.github.io/celalguney/posts/Techinal notes of political cleavages and inequality/technical note piketty 2021.html</guid>
  <pubDate>Sun, 16 Apr 2023 22:00:00 GMT</pubDate>
  <media:content url="https://jeylal.github.io/celalguney/posts/Techinal notes of political cleavages and inequality/graph1.png" medium="image" type="image/png" height="81" width="144"/>
</item>
<item>
  <title>Sugar, Cochineal and power</title>
  <link>https://jeylal.github.io/celalguney/posts/Sugar, Cochineal and Power/sugar cochineal power.html</link>
  <description><![CDATA[ 





<section id="comments-on-sidney-mintzs-sweetness-and-power-and-carlos-marichals-mexican-cochineal-and-the-european-demand-for-american-dyes-1550-1850" class="level2">
<h2 class="anchored" data-anchor-id="comments-on-sidney-mintzs-sweetness-and-power-and-carlos-marichals-mexican-cochineal-and-the-european-demand-for-american-dyes-1550-1850">Comments on Sidney Mintz’s “Sweetness and Power” and Carlos Marichal’s “Mexican Cochineal and the European Demand for American Dyes, 1550-1850”</h2>
<p>“The wealth of societies in which the capitalist mode of production prevails appears as an ‘immense collection of commodities’ […] Our investigation therefore begins with the analysis of the commodity” <span class="citation" data-cites="marx_capital_1990">(Marx 1990, 124)</span>. So is the incipit of one of the most famous and important books in political economy. If Marx saw in the commodity the most crucial and elementary unit of abstraction in the capitalist mode of production, so much that he spent the first and most tedious pages of his magnus opus dedicated to its analysis and decortication, the commodity per se, that is, as a focus of historical and economic analysis, is rather rare in economics and economic history. For instance, mainstream economics reduces commodities to any objects or services bringing utility to consumers, abstracting from its historical and political dimensions.</p>
<p>Nonetheless, the two texts I will review in this critical summary are attempts to fill this gap and put the commodity back into the heart of not only economics, but also of social and historical analysis. These two texts share indeed a common characteristic: they both focus on a single commodity. Mintz’ book chapter Power (from Sweetness and Power, The Place of Sugar in Modern History <span class="citation" data-cites="mintz_power_1985">(1985)</span>) focuses on sugar from an anthropological perspective whereas Marichal’s book chapter Mexican Cochineal and the European Demand for American Dyes, 1550-1850 <span class="citation" data-cites="marichal_mexican_2006">(2006)</span> concentrates on cochineal from an economic history point of view. Another peculiar common characteristic of the two papers is that sugar and cochineal, a dyestuff product which is used for its crimson color, are both important inputs for a great number of final products: they are both illustrative examples of intermediary goods constituting a great part of global value chains.</p>
<p>In this critical summary, I will first summarize those two texts by outlining their main hypotheses and arguments in a comparative approach. I will then make some critical remarks and comments on what I believe are the positive aspects and chief contributions as well as the flaws and weaknesses of those two papers.</p>
<section id="tracing-back-sugar-and-cochineal-the-role-of-demand" class="level3">
<h3 class="anchored" data-anchor-id="tracing-back-sugar-and-cochineal-the-role-of-demand">Tracing back sugar and cochineal: the role of demand</h3>
<p>Marichal’s analysis of the rise and decline of cochineal production and trade rests upon three main hypotheses. The first one is that the prosperity of cochineal production and trade in Oaxaca, the main farming region of cochineal in Mexico, from the 16th century on was demand led. He advances two reasons for this strong demand, mostly driven by the upper classes of Europe, namely the Church, the nobility, and other elites. One reason is cultural and symbolic: cochineals produce a particularly magnificent crimson color that the nobility and the church associated with symbols of prestige and power. The other reason is physical: cochineal has physical properties which make it materially more advantageous compared to its competitors (kermes for example). This strong demand thus made cochineal highly profitable. Trade, production, and prices thus boomed from the 16th until the late 18th century which marked the start of a long run decline. Mintz’ analysis of how sugar became such an essential and highly demanded commodity is more nuanced. In fact, Mintz’s text is an attempt to answer the following question: how and why did sugar become one of the most widespread and consumed commodities in British society? An obvious and straightforward answer would be, as Marichal argues in the cochineal’s case, that humans are naturally inclined to accept sugar in their consumption habits because of its physical properties. As an anthropologist, Mintz knows that there is nothing natural in the growth of sugar demand. More elaborated answers would be for instance that sugar’s consumption habits spread from the upper classes to the lower classes through imitation (what Mintz calls “intensification”), or the constant tendency of sugar prices to fall. None of these answers are convincing enough for Mintz, whose argument is that the structural transformations of the working conditions and schedules of the British workers, during a transition process from an agricultural economy to an industrial one from circa the 16th century to the 19th century, were the real reason behind sugar’s tremendous prosperity as an essential commodity with strong meaning and signification for its consumers. Mintz explores the dual “meaning” of sugar. On the one hand, sugar replaced honey as a signification of sweetness, happiness, endearment, and tenderness (the “inside meaning” of sugar in anthropological terms) for the common British people. On the other hand, sugar became a symbol of power and prosperity for the imperialistic British ruling classes which had an interest in sugar production and trading made possible by the exploitation of African slaves in the Caribbean plantations. This represents the “outside meaning” of sugar.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.worldhistory.org/article/1795/life-on-a-colonial-sugar-plantation/"><img src="https://jeylal.github.io/celalguney/posts/Sugar, Cochineal and Power/colonialsugarmanufacturing.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" alt="Colonial sugar cane manufacturing"></a></p>
</figure>
</div>
<figcaption>Colonial sugar cane manufacturing</figcaption>
</figure>
</div>
</section>
<section id="making-sugar-and-cochineal-available-imperialism-colonization-and-slavery" class="level3">
<h3 class="anchored" data-anchor-id="making-sugar-and-cochineal-available-imperialism-colonization-and-slavery">Making sugar and cochineal available: imperialism, colonization and slavery</h3>
<p>Secondly, Marichal argues that the stability and success of cochineal’s mode of production were the results of the repartimiento system. The latter was the product of active Spanish colonial policy and merchants’ activity: local Oaxaca bureaucrats obtained funds from Mexican merchants and lent those funds to indigenous cochineal farmers. Indigenous farmers had then to produce cochineals and pay back the functionaries in kind. Marichal argues that the end of the repartimiento system was one of the main reasons for the decline of cochineal production after the late 18th century, which as further exacerbated by the invention of synthetic dyes during the second industrial revolution during the 19th century. This is the third and last hypothesis of Marichal. For Mintz, the availability of sugar was also the product of deliberate British imperialistic policy and is linked to the “outside meaning” explained above. However, the anthropologist argues that sugar demand itself was a product of British government policy: demand on the side of the British masses had to be planned, constructed and stimulated as well. The introduction of rum in the British army, of sugar in almshouses and the abolition of tariffs and duties are example of this active policy so that both “outside” and “inside” meanings of sugar could become unified. Critics and comments</p>
<p>These two texts are both instructive and captivating. They offer an enlightening history of sugar and cochineal, giving a lot of data and information on the economic history, modes of production and demand formation processes of those two commodities. The heuristic approach of taking a commodity as a unit of analysis is certainly the most interesting aspect of the two papers.</p>
<p>For instance, by focusing on cochineal production in Oaxaca, Marichal deconstructs some prevalent commonplaces of Spanish colonial history and mercantilist policy. One learns that Spaniards were not only interested in silver and gold, which is a widespread cliché in economic history , and that they in fact also sought to capture and exploit other profitable businesses as the market for dyes. The description of the repartimiento system and of its functional role in the stability of cochineal production are convincing and show to what extent Spanish colonization, traditionally considered as mercantilist, was capitalist regarding some sectors (here cochineal production and exchange). However, his argument has some blind spots. First, he totally neglects the importance of class struggle within the repartimiento system and seems to consider the Mexican Revolution of 1820 only as an exogenous shock to the system, without considering the possibility that the fall of the repartimiento system could have been the result of its own contradictions and could have been (this is only a hypothetical possibility) somehow linked to internal class struggle, social movements and uprisings or even the Mexican Revolution. Second, the history of cochineal production and use in Latin America prior to colonialism and how it became monopolized by the Spaniards are overlooked. Finally, it would have been interesting to grant some attention to the resilience of cochineal production despite its decline after the second industrial revolution, since the product is still used today and somehow managed to escape its demise to some extent.</p>
<p>Mintz, however, offers an even more insightful analysis and it is not by chance that the book from which this chapter is taken from has become a classic, giving rise to an entire new field in anthropology, namely the anthropology of food. The argument is explained through a wide variety of anthropological concepts (intensification, extensification, outside and inside meanings…) which are interesting when applied to an economic subject such as the sugar commodity. The most powerful aspect of this text is its confrontation to some classical evidence that are omnipresent and taken for granted in economics and economic history: the naturality of sugar demand which is generally considered as given and self-evident, the important role given to price fluctuation and even to free choice and individual agency. The role of prices, meanings, demand, individual choices and liberty are carefully examined and put into question.</p>
<p>Unfortunately, Mintz does not support his own thesis. He even admits at the end that his hypothesis, the success of sugar in British society as a result of structural changes in schedule, working conditions and daily life of the British workers, is “difficult or impossible to prove” (p.&nbsp;186) and he regresses his argument stating that the nature of sugar must also have played a role in its success. Such contradictions are present throughout the text and tend to make difficult any attempt to clearly grasp Mintz’ arguments and positions. Another example of such contradictions is the distinctive place of sugar between “intensification” (explained above) and “extensification”, when meanings and habits are indigenous to a specific group or class and spread without imitation. Mintz states that sugar was particular in its high degree of extensification among the British masses and that the latter developed meanings towards sugar independently from the upper classes. However, Mintz does not develop further this interesting idea and his description of sugar’s meanings through literature is not sufficient and convincing enough to explain what sugar meant to the working class.</p>
</section>
</section>
<section id="summing-up" class="level2">
<h2 class="anchored" data-anchor-id="summing-up">Summing up</h2>
<p>To sum up, Marichal’s book chapter on the cochineal is part of a wider project destined to put commodities back into the heart of economics and economic history. The author has three main hypothesis covering cochineal’s economic history. First, the tremendous growth in production and trade of this commodity was led by the demand of European upper classes. Second, the stability of the production process in Oaxaca was based on the repartimiento system. Finally, the decline of cochineal production and trade was the consequence of the second industrial revolution thanks to the invention of synthetic dies. Whereas cochineal is nowadays more of a relic from the past despite some relative resilience that should deserve some further attention (cochineal’s carminic acid is still used in some final products like syrup for example), sugar represents today the paroxysm of consumption under capitalism and is perhaps the most emblematic and embodiment of the commodity, as a crucial input in value chains as well as a final product. Mintz’ Sweetness and Power has since become a classic in anthropology, laying the foundation of a new field focused around the anthropology of food. I tried through this critic to show that Mintz’ argument is more than just a link between British demand for sugar and the exploitation of African slaves in the Caribbean plantations. Mintz’ analysis provides deeper investigations of the role of meanings attributed to sugar as well as for the role of both demand and supply, the political and power interests in the rise of one of nowadays’ most consumed, omnipresent, and controversial commodity.</p>
</section>
<section id="references" class="level2">




</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0">
<div id="ref-marichal_mexican_2006" class="csl-entry">
Marichal, Carlos. 2006. <span>“Mexican Cochineal and the European Demand for American Dyes, 1550-1850.”</span> In <em>From Silver to Cocaine : Latin American Commodity Chains and the Building of the World Economy, 1500-2000</em>. Duke University Press.
</div>
<div id="ref-marx_capital_1990" class="csl-entry">
Marx, Karl. 1990. <em>Capital: A Critic of Political Economy Volume 1</em>. Penguin Classics.
</div>
<div id="ref-mintz_power_1985" class="csl-entry">
Mintz, Sidney. 1985. <span>“Power.”</span> In <em>Sweetness and Power: The Place of Sugar in Modern History</em>, 151–86. Viking.
</div>
</div></section></div> ]]></description>
  <category>Economic History</category>
  <guid>https://jeylal.github.io/celalguney/posts/Sugar, Cochineal and Power/sugar cochineal power.html</guid>
  <pubDate>Fri, 09 Dec 2022 23:00:00 GMT</pubDate>
  <media:content url="https://jeylal.github.io/celalguney/posts/Sugar, Cochineal and Power/colonialsugarmanufacturing.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Crises &amp; cycles</title>
  <link>https://jeylal.github.io/celalguney/posts/About cycles and crises/cycles_crises.html</link>
  <description><![CDATA[ 





<section id="crises-cycles" class="level1">
<h1>Crises &amp; cycles</h1>
<p>One of the most striking phenomena in capitalist mode of production is certainly the recurring and systematic outbreak of financial and economic crises. Since the emergence of capitalism as a mode production in England during the 18th century and its progressive spread in Europe in the 19th and then in the world in the 20th and 21th centuries, the economy of capitalist countries must endure what economists call “business cycles”, that is to say, cyclical appearances of economic booms in production, employment and prices and busts (decline in production, employment and prices).</p>
<p>However, the acknowledgement of business cycles as such took a long and tedious path. The first main broad examination of economic crisis can be found at the beginning of the 19th century during the famous “General Glut Controversy” which involved famous economists such as Say, Ricardo and Malthus. Say, for example, argued that long-term deep economic crisis could not occur because of what will be afterwards called “Say’s law”, that is, the fact that there can be no overall overproduction crisis since production creates its own demand. It creates its own demand mainly because it generates products which can be directly exchanged for other ones. For example, If I produce coffee beans and sell it, all the value I got through selling will be in return my demand for other commodities by the same amount of value. Marx, who can be considered as a pioneer in crisis and business cycles theory, made his critic of Say’s law a point of departure of his bold thoughts on crisis.</p>
<section id="marxists-theories-of-crisis" class="level2">
<h2 class="anchored" data-anchor-id="marxists-theories-of-crisis">Marxists theories of crisis</h2>
<p>As <a href="https://github.com/Jeylal/myblog/raw/master/posts/About%20cycles%20and%20crises/Foley_ch.9.pdf">Foley’ Understanding Capital (chapter 9)</a> argues, there is no precise, consistent and modelled theory of crisis in Marx’ writings. In fact, he had diverse and dispersed analysis of different types of economic crisis that Marxists reconstructed and developed afterwards. Nonetheless, Marx’ main point on crisis is the following paradox he underlined: the capitalist system is characterized by an abundance of products (use values) due to tremendous developed productive forces and, at the same time, unfulfilled desires on the part of the working class. According to Marx, the main reason lies in the fact that production is carried under capitalism not to fulfill needs (produce use-value to satisfy needs and desires), but to accumulate profits (or, in Marxist terms, surplus value). Marxists reconstructed then three main theories of crisis: disproportionality crisis, underconsumption crisis and crisis due to the falling rate of profit.</p>
<p>Firstly, in Capital Volume 2, Marx sets up a model of capital circulation through two department: department I (production of means of production) and II (production of means of consumption). For those two sectors to have balanced growth, there should be a balanced investment level between the two, such that there can be no overproduction in one department and/or not a lack of production in the other. The problem is that it is rarely the case, since capitalist allocate their capital not in order to balance the two department, but to accumulate surplus value. This type of crisis is called “disproportionality crisis”.</p>
<p>Secondly, the underconsumption theory underlines the striking feature of the inability, under capitalism, to sell all the produced commodities. Since workers only receive a part of the value they produce in the form of wages, aggregate demand has a tendency to be always lower than the supply. Hence, their purchasing power will always be lower than the value of the produced commodities which need to be absorbed. This leaves an excess supply in the market and crisis follows. Foley argues that this version of the underconsumption theory is simplistic, because that part of the value that the worker does not get goes as income to the capitalist, who can also support additional demand for output (through consumption, or through investment, a point whom which Marx was aware of). At this precise point, Rosa Luxemburg had an important and rather unorthodox analysis. She argued that capitalist economy is structurally incapable of generating enough aggregate demand. Her argument is that even if capitalists have enough money and the willingness to invest (which would normally support aggregate demand), they cannot invest ad infinitum. In effect, the purpose of investment is in fine also to produce consumption goods (it is also its justification), one cannot invest only to accumulate means of production per se. Foley underlines the fact that this analysis by Luxemburg is strikingly un-Marxist, since Marx himself argued that the ultimate goal of capitalist production is accumulation of surplus value.</p>
<p>Thirdly Foley explains two versions of the falling rate of profit theory, the first being the “profit squeeze” theory and the second the tendency of falling profit rate: 1) The expansion phase of the business cycle leads to higher employment, the workers’ bargaining power rises and thus wages rise. That leads to a fall of the profit rate and this leads to a crisis since capitalists do not invest further until production and employment fall enough to decrease workers’ bargaining power so that wages decrease and profit rate can go up. 2) Pressured by competition and the search for profit to innovate, the capitalists tend to replace more and more labor by capital, that is, mainly machinery and equipment goods. In Marxist terms, there is a rise of the organic composition of capital (c/v with c=constant capital: machinery, equipment; and v the variable capital: wages) which leads to a fall of the profit rate (defined as p=s/(c+v) = (s/v)/(c/v+1) with s the surplus value).</p>
</section>
<section id="from-crises-to-business-cycles" class="level2">
<h2 class="anchored" data-anchor-id="from-crises-to-business-cycles">From crises to Business cycles</h2>
<p>Apart from Marx and Marxists scholars, another trend emerged in the end of the 19th and in the first half the of 20th century: economists who became increasingly interested in the measurement and analysis of business cycles. The biggest impetus in that matter can surely be accredited to Wesley Clair Mitchell (1874-1948) who was the first director of the National Bureau of Economic Research (founded in 1920) and conducted tremendous research on the measurement and analysis of business cycles. Influenced by Thorstein Veblen and his critic of neoclassical economics, Mitchell sought a new way of conducting economic analysis and research, mainly through historical and empirical data analysis. He was convinced that his empirical and inductive approach (constructing new theories from empirical evidence) would make older economic theories obsolete: “quantitative analysis” would produce more robust economic reasonings than “qualitative analysis”, that is, neoclassical deductive approach. Conclusions Mitchell drew from his work are remarkably similar to Marx’: business cycles are chiefly driven by the incessant pursuit for profit. Assuredly, Mitchell’s work paved the way to a golden age of statistical and quantitative analysis of business cycles in the 1920s, so much that even economists hitherto not interested in that domain sought to bring their own contribution to business cycle analysis. A striking example is surely Irving Fisher (1867-1947) and his debt-deflation theory. Fisher, who recognized that he was a newcomer on the subject, made a distinction between “forced cycles”, cycles determined and driven by external factors (Fisher gives the example of the sun spot theory which sought to explain economic cycles through astronomical cycles) and “free cycles”, namely, cycles whose prime movers are not external, but inherent and intrinsic to the cycle. It is to this latter case, the free cycles, that Fisher wants to explain taking what he calls a “economic science” point of departure as opposed to economic history which only describe business cycles. Fisher wants to identify relations and tendencies that drive the cycles. His main idea is that the main two factors are (1) over-indebtedness and (2) deflation, the former being more important than the latter. The state of over-indebtedness leads to worries on the part of either debtors and/or creditors. As debtors try to sell their assets to pay back their debts, the quantity of money in circulation and the velocity of money decline (agents consume less to save). This leads to a fall in price level and a paradoxical situation where the more economic agents try to get rid of their debts, the more its value in real terms rise: “the more the debtors pay, the more they owe” (<a href="https://github.com/Jeylal/myblog/raw/master/posts/About%20cycles%20and%20crises/Fisher_Debt_Deflation.pdf">Fisher</a> 1933: 54). The fall in general price level leads to a fall of profit rate and hence to a decline of production and employment. This leads to general pessimism, loss of confidence and hoarding, the value of money rises even more, prices decline further and the real interest rate rises. Fisher argues it would be insane not to intervene through economic policy and that the economy should not be left to natural market forces: reflation policy becomes necessary. However, it would not be sufficient, since the main problem of the tendency towards over-indebtedness remains. This leads Fisher to explore some of the reasons which drive the economy towards this state of over-borrowing and over-indebtedness. He argues, finally, that the mains factors are the new investments opportunities associated with great profit expectations (because it will encourage agents to borrow to invest). Those new investments opportunities are, in return, created by new inventions and technological breakthrough and progress.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://centennial.babson.edu/past/roger-babson/"><img src="https://jeylal.github.io/celalguney/posts/About cycles and crises/babsonchart.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" alt="Babson presenting one of his famous babsoncharts on business cycles"></a></p>
</figure>
</div>
<figcaption>Babson presenting one of his famous babsoncharts on business cycles</figcaption>
</figure>
</div>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>To sum up, analysis of business cycles began first with inquiries and reflections around market gluts and economic crises. As we saw, Marx and Marxists scholars can be considered as pioneers in the analysis of crises and business cycles. Outside Marxism, it was W.C. Mitchell who gave the greater impetus into business cycles analysis. As stated above, Mitchell and Marx analysis of business cycles as profit driven are similar. Nonetheless, I think Marx’ investigation goes one step further, as he also sought to explain the origins of profit through exploitation and the extraction of surplus value. Notwithstanding, Mitchell’s contribution improved greatly the quantitative measurement and analysis of business cycles in such a way that it even drew a mainstream neoclassical economist such as Irving Fisher to elaborate a bold economic theory regarding business cycles. However, if Fisher’s debt-deflation theory provides insights into the economic mechanisms of economic crises and cycles, it is limited by the fact that it neglects the political economy/ political aspects which have an important role in business cycles (one could also argue that Mitchell also omits this fact, as many business cycles economists did). In conclusion, I would like to acknowledge the important works of Kalecki, who, in that matter, successfully incorporated a political economy dimension into business cycle analysis, an analysis I find particularly valuable (this theory is briefly explained in Foley’s book chapter). In his political business cycle theory, Kalecki argues that cycles are characterized by shifting class alliances between the working class, the business class and the rentiers: during a crisis, the business class pressures the state to revive the economy, aligning thus its class interests with those of the working class. As production and employment rise thanks to state intervention, the business side becomes progressively more reluctant to it, because it loses bargaining power (jobs are secured and workers do not fear unemployment and sacks). As employment and inflation rise, the capitalists have incentive to pressure the state to conduct more orthodox economic policy: this puts an end to the expansion phase of the political business cycle until the economy slumbers once again in a crisis in which state intervention is once again required and so on and so forth. Foley argues that Kalecki’s political business cycle model is a recent underconsumptionist theory, because it stresses the incapacity/unwillingness of a capitalist-dominated society to tolerate a high level of aggregate demand for too long.</p>


</section>
</section>

 ]]></description>
  <category>Political Economy</category>
  <category>Economic History</category>
  <guid>https://jeylal.github.io/celalguney/posts/About cycles and crises/cycles_crises.html</guid>
  <pubDate>Wed, 30 Nov 2022 23:00:00 GMT</pubDate>
  <media:content url="https://jeylal.github.io/celalguney/posts/About cycles and crises/crises_cycles.JPG" medium="image"/>
</item>
<item>
  <title>Inikori about Slavery and the Industrial Revolution</title>
  <link>https://jeylal.github.io/celalguney/posts/Inikori about Slavery and the Industrial Revolution/Inikori.html</link>
  <description><![CDATA[ 





<section id="book-review-africans-and-the-industrial-revolution-in-england-a-study-in-international-trade-and-economic-development.-by-joseph-e.-inikori.-cambridge-cambridge-university-press-2002.-576-p." class="level1">
<h1>Book Review Africans and the Industrial Revolution in England: A Study in International Trade and Economic Development. By JOSEPH E. INIKORI. Cambridge: Cambridge University Press, 2002. 576 p.</h1>
<p>Africans and the Industrial Revolution in England written and published in 2002 by Joseph Inikori is certainly one of the major contributions on the role of Africans and international trade in England’s industrialization and long run economic development. Joseph Inikori is an Anglo-Nigerian historian currently professor in the university of Rochester and conducting research in Atlantic World Economic History. He has published several articles on Atlantic slave trade and its impact on England economic development, the culmination of his work and research being Africans and the Industrial Revolution in England which received the Association of African Studies Best Book Prize in 2003, one year after publication. This illustrates the importance of Inikori’s book for African scholars and researchers who are eager to demonstrate the historical importance of Africa and slavery of Africans in the rise of Western Europe (but mostly here England) modernity, economic supremacy and development.</p>
<p>The present book has hence established itself as a reference and magnus opus on the causal links between African slavery and the Industrial Revolution in England in the 18th century. It is interesting to note that there are only few economic history books which stress with so much focus and insistence on this causal link between African slaves, Atlantic trade and Industrial Revolution. As Inikori argues in his book, the only major contribution on that matter before him was Eric Williams’ Capitalism and Slavery (1944) which explained that slave trade and production directly contributed to the Industrial Revolution thanks to huge amounts of profits made by British merchants and slavers who then re-invested in the productive sectors which were the basis of the Industrial Revolution. In other words, the accumulation of capital made through African slavery allowed for England’s industrial financial investment at the dawn of the Industrial Revolution. However, Williams’ profit-based argument was heavily criticized, the main critics being about the final use of those slavery-based profits (were they really invested in the Industrial Revolution?); the fact that Britain industrialization required no so much profits and that the funds mainly came from England’s own domestic resources. Inikori is aware of those matters and argues that Williams’ thesis is not so well suited anymore to explain England’s industrialization. He also tries to explain Williams’ focus on profits because of the influence of Keynesianism (in which profits play a great role for investments and growth and Williams wrote and published in the Keynesian Era) but adds that Keynesian theory is valid for already well-developed economies and not so much for pre-industrial England (p.&nbsp;5-6).</p>
<p>One could thus consider Inikori’s book as an attempt to go beyond Williams’ argument and “modernize” the explanations of the links between African slavery, Atlantic commerce and England’s development. To reach this goal, Inikori is heavily influenced by development economics’ conceptual framework. He draws inspirations and insights from prominent development economists such as Albert Otto Hirschman (1915-2012) and Hollis Chenery (1918-1994). The main contribution Inikori draws from development economics is the famous industrialization through import substitution model (ISI), for he argues that Industrial Revolution in England was “the first successful case of import substitution industrialization” (p.10). But what are the links between ISI, African slavery, Atlantic international trade and the Industrial Revolution? Inikori has to prove two mechanisms to support his thesis on the causal links between enslavement and exploitation of Africans, the rise of Atlantic commerce and the Industrial Revolution in England. The first mechanism is the causal link between Atlantic commerce and England’s Industrial Revolution (the former causing the latter). The second is the fact that growing Atlantic international trade and commerce were based on African slave labor in the Americas. We will see that the second mechanism is rather obvious and easily proved and that the first one is the main contentious part of the argument.</p>
<p>Inikori argues that during the Middle Ages onwards (roughly 1086-1660 which is the focus of chapter 2) England developed progressively, from 1086 to 1300 and then from 1475 to 1660, an economy specialized in woolen textile industry and that this industry was mostly export led. This specialization in woolen textile manufactures was England’s first successful ISI accomplished in the 16th century and, along with steady improvements in agriculture, made South England relatively rich. Thus, from 1086 to 1660 England moved from agricultural subsistence production to production for market exchange (p.43). However, market demand reached a limit and England could develop its industry further only through new expanding market demand. Inikori makes an important difference between two types of ISIs: both consist in an economy initially producing primary goods for export which then tries to substitute its imports by import-replacing manufactures thanks to state policies (fist for consumer goods, then for intermediate and capital goods). The distinction between the two models is that the first rely exclusively on internal autonomous forces and the second starts to open at some point to international trade and manufactured exports take a central place. All of Inikori’s argument is to show that England’s success corresponds to the second model (p.&nbsp;150).</p>
<p>New markets for British products were thus found thanks to Atlantic trade and commerce (America’s and Africa’s market demand) which were based on Africans slave labor. After constructing an impressive navy and establishing military dominance in Atlantic Sea in the late 16th century (for example after defeating the Invincible Armada in 1588) and therefore acquiring colonies in America, England obtained access to huge market outlets. However, Inikori does not elaborate further on England’s military dominance of Atlantic Sea and this decisive factor lacks an explanation in the author’s work: why was England in the end militarily superior to the Spanish or the Dutch? The book does not provide a precise answer and Inikori only focuses on shipping in chapter 6 to argue that England’s growing shipping industry was stimulated by rising demand for ships due to overseas trade.</p>
<p>Regardless, it was the access to new markets in Africa and in America’s colonies which enabled England to further its industrialization through import substitution strategies. Imports of cotton textile from India, for instance, gave impetus to local English entrepreneurs to try to venture into cotton textile manufacturing. Protectionist policies, access to outlets in British American colonies and Africa and raw cotton provided by American colonies where production in plantations were based on Africans slaves labor permitted England to successfully achieve import substitution in the cotton industry which is recognized as one of the most crucial sectors of the Industrial Revolution. The reader could be surprised of the relatively few pages focusing on cotton industry in chapter 9 (about 20 pages: pp.427-451) since the Industrial Revolution mostly began with the cotton industry and its technological improvements, but Inikori is right when he argues that this industry developed under the impetus of access to overseas African and American markets and based on raw cotton provided by slave labor in British American colonies. Nonetheless, I think we could also consider the possibility of counterfactual although it may sound speculative: could have England developed its revolutionary cotton industry without African slave labor? This question is a matter of substitutability degree of labor and imports: one could argue that the specialization of Egypt in raw cotton production in the middle of the 19th shows that imports of raw cotton was perhaps more flexible than what Inikori seems to consider.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://en.wikipedia.org/wiki/Atlantic_slave_trade#/media/File:Slaves_resting_by_Rugendas_01.jpg"><img src="https://jeylal.github.io/celalguney/posts/Inikori about Slavery and the Industrial Revolution/slavery.jpg" class="img-fluid figure-img" alt="Recently bought slaves in Brazil on their way to the farms of the landowners who bought them c.&nbsp;1830 (credit: wikipedia)"></a></p>
<figcaption>Recently bought slaves in Brazil on their way to the farms of the landowners who bought them c.&nbsp;1830 (credit: wikipedia)</figcaption>
</figure>
</div>
<p>Regardless, Inikori’s methodological work is impressive: it offers vast amounts of quantitative data in table form as well as qualitative data through archival researches of a great varieties of historical reports and records. His quantitative and qualitative archival research and evidence allow the author to provide critical reviews of the existing literature on the subject and even to re-evaluate some estimations for example in chapter 5 in which he discusses the measurement of the importance of slave trading between 1600-1850. However, Inikori’s data analysis seems sometimes futile and can blur his main argument as well as confusing and overwhelming the reader. For instance, the author spends pages of digression discussing in vain population and GDP estimates of Domesday England in chapter 2 or Africa and America population estimates before Atlantic trade’s emergence in chapter 4.</p>
<p>Perhaps the book’s boldest argument and examination to prove the link between Atlantic trade and England’s Industrial Revolution lies in its regional analysis of pre-industrial England. In fact, the regions which started the Industrial Revolution: Lancashire, Yorkshire and the West Midlands (but mostly Lancashire), were the poorest regions of England at the time with relatively low population, low wages and poor overall wealth. As soon as those regions connected to overseas markets, industry, wages and population grew. Inikori carefully shows that population growth was autonomous in those regions (no migration from agriculturally productive and wealthy South regions), that industry growth was not led by internal demand since there was no national market yet until railroads construction in the 19th century and finally that technological innovations took place in those regions and were thus stimulated by high overseas demand. The only reason left to explain North West England industrial growth is thus the access to overseas markets in America and Africa. This is the central argument of the book and I think the most important, since proving that Atlantic trade was based on Africans’ slave labor is rather indisputable, obvious and largely admitted in the literature.</p>
<p>In the end, Africans and the Industrial Revolution in England definitely shows that African slave labor significantly contributed to England’s Industrial Revolution. Notwithstanding, its precise form of contribution, whether it was the decisive and unique causal factor or a factor among many remains a contentious matter. Inikori seems to consider that it was the decisive and unique factor, taking thus, in my opinion, an excessive straightforward position. Economic history phenomenon can rarely be explained through unique factors and when one focuses too much on one possible factor, other important causes can easily be overlooked. Other research exploring the role of colonization of America by England in the Industrial Revolution without taking such exaggerated straightforward perspective can be found for example in Pomeranz’ Great Divergence (2000) which combines multiple factors such as access to overseas markets and lands through colonization of North America (joining thus partly Inikori’s argument) and access to coal to explain England’s Industrial Revolution and which is, I think, a good complement to Inikori’s work. I also believe that Inikori attributes excessive importance on Atlantic trade, discounting the important role of trade with India and China which were also crucial (as we saw, cotton textiles imported by the English East India Company which stimulated ISI strategy in this sector came from India and another example is China’s demand for silver which made America’s silver mines profitable for decades).</p>


</section>

 ]]></description>
  <category>Economic History</category>
  <guid>https://jeylal.github.io/celalguney/posts/Inikori about Slavery and the Industrial Revolution/Inikori.html</guid>
  <pubDate>Tue, 04 Oct 2022 22:00:00 GMT</pubDate>
  <media:content url="https://jeylal.github.io/celalguney/posts/Inikori about Slavery and the Industrial Revolution/inikori.JPG" medium="image"/>
</item>
<item>
  <title>Post-election and panel Selects 2023 studies: what can we learn ?</title>
  <dc:creator>Celâl Güney</dc:creator>
  <link>https://jeylal.github.io/celalguney/posts/selects2023/selects2023.html</link>
  <description><![CDATA[ 





<p>Even though the Swiss government is not very good at producing data and statistics, particularly with respect to macroeconomic data, some wonderful Swiss survey data studies carried by the excellent Swiss institute FORS are especially interesting to analyze. More specifically, the so-called “Swiss Election Studies” (Selects) are of world-class quality and usually published one year after each Swiss national election. This summer, the last Selects studies that were made available are of utmost importance for my research on Swiss social blocs. The studies contain large samples and very interesting variables, so let’s have a look to what they offer.</p>
<section id="a-little-context-on-the-2023-swiss-election" class="level2">
<h2 class="anchored" data-anchor-id="a-little-context-on-the-2023-swiss-election">A little context on the 2023 Swiss election</h2>
<p>Since the Selects studies are about politics and elections, let’s first remind ourselves what happened during the 2023 Swiss national election. Switzerland is not famous for the turbulence of its political scene, which is often considered as boring and stationary due to direct and consensus democracy, proportional representation, federalism, a highly “diversified” government (the so-called <em>magic formula</em>), referendums, a high abstention rate…</p>
<p>But still, the stability of the Swiss model makes the small changes which tend to appear slowly and unnoticed even more interesting to analyze: because why would any political and institutional change happen in one of the most rich and successful countries in the world ?</p>
<p>And some change <em>did</em> happen in the last few years. An illustrative example are the turmoils of the governmental bourgeois-right parties, the Liberal-Radicals (FDP) and the Christian-Democrats (CVP, now “The Center”). Both these parties suffer from long-term decline in vote shares since the post-war period, and they have attempted multiple strategies to try avoiding the fall. The Christian-Democrats were the ones who suffered the most from this trend, which peaked when they lost their second seat at the federal council in favor of the SVP (Swiss People’s party, Switzerland’s extreme right party) in 2003. In 2021, the party merged with another small bourgeois party to create “The Center”, in the hope that this new look would benefit them. In terms of political program, The Center is still promotes some forms of “soft neoliberalism”, that is to say, a neoliberal transformation of the Swiss model with some compensation measures. The program is close to that of the FDP, although the latter seeks less compromises. Why would the history of these two parties interest us ? Because in the last 2023 election, The Center almost surpassed the FDP in terms of vote shares (14,25% for FDP vs 14% for Center, The Center was actually above before a calculation mistake was corrected) for the first time in Swiss history. Actually, The Center did surpassed the FDP in terms of seats in the National Council, which is still an important shift in the political landscape: does that mean that there is a successful “centrist” strategy now in Switzerland ? Is that strategy destined to succeed in the future ?</p>
<p>Another important element of the 2023 election is the downfall of ecological parties. There are two ecological parties in Switzerland: the Greens and the Liberal Greens. Whereas other countries generally have only one Green party, Switzerland has the peculiarity of having a Liberal Green party, which wants to dissociate itself from the Greens, considered as to extreme on the left in terms of economic policy. However, both these parties suffered from important backlash in the election: the Greens lost around 3% points and the Liberals 0,3% (with 6 lost MPs). Can we see and understand this drop of interest for ecological issues in the Selects data ?</p>
<p>Finally, the winners of the election are the SVP and the Socialist Party (SP). The latter has won some battles in the last few years, for instance during the vote for a third rent pension rent. Was the SP successful in broadening its social basis ? What about the SVP ? Let’s have a look.</p>
<p>In this post, I will first offer a descriptive analysis of party support. Then, the preferences of Swiss citizen regarding a set of policy preferences will be analyzed.</p>
</section>
<section id="party-support" class="level2">
<h2 class="anchored" data-anchor-id="party-support">Party support</h2>
<p>Figure&nbsp;1 shows voting intention of individuals who responded to the survey (before the election). To visualize the difference between the sample’s voting intentions and the final results of the election, I added the latter on the graph (as black dots). Some discrepancies between the sample and the final results are striking, especially for SVP’s support. In the sample, only 17,8% Swiss citizen declared voting for the SVP, whereas the party gathered 28% of the votes, more than 10 percentage points difference. Two hypotheses could explain this discrepancy: first, the SVP’s social basis, as most far right parties’ supporters, tend to hide their favorite party in surveys (what is known as “desirability bias”). Another explanation could be that SVP’s voters were undecided or changed their mind at the last time. The score of the SP and FDP are aligned with the survey responses, whereas the Center was underestimated and the vote for the Greens overestimated.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-voteint2023" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-voteint2023-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://jeylal.github.io/celalguney/posts/selects2023/selects2023_files/figure-html/fig-voteint2023-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-voteint2023-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Voting intentions (above) and vote choice (below) for the Swiss 2023 national election. Hypothetical vote choices were added to those who were sure to vote or had voted in the election. Data source: Selects panel and post-election 2023
</figcaption>
</figure>
</div>
</div>
</div>
<p>As expected, if we replicate the same graph using post-election rather than pre-election data, the percentages are more aligned with the final results. However, the support for the SVP is still underestimated, while the support for the Center and the FDP is overestimated and underestimated for the two green parties and the SP. The discrepancies could come from the fact the variable includes the hypothetical vote choice of those who did not vote at the election.</p>
<p>The descriptive statistics of party choice thus confirm the slight changes in Switzerland’s politics: the green parties have experienced a strong electoral defeat while the Center seems to have found a strategy to halt its long-run decline, which is not the FDP’s case,</p>
<p>How does the variable of voting intention to the 2023 election compares with the previous election (2019) ? Swinging voters between elections are often represented in sankey diagrams, which is what Figure&nbsp;2 shows. The sankey diagram shows that there is no tremendous between-parties flows: the blocs at both end of the diagram stay more or less the same. However, one can still notice some small flows: SP and the Greens seem to exchange their supporters, which means that the flows of left-wing voters happen as exchanges between the SP and the Greens. The SVP draw some voters from the undecided and the FDP. Interestingly, some parts of former SP and FDP supporters moved to the Liberal Greens.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-sankey" class="quarto-float quarto-figure quarto-figure-center anchored" width="672">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sankey-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://jeylal.github.io/celalguney/posts/selects2023/selects2023_files/figure-html/fig-sankey-1.png" id="fig-sankey" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-sankey-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="party-support-and-socio-economic-characteristics" class="level2">
<h2 class="anchored" data-anchor-id="party-support-and-socio-economic-characteristics">Party support and socio-economic characteristics</h2>
<p>From which parts of the population does each party draw support ? What are the social bases of the Swiss left, center and right parties ? How do socio-economic characteristics influence party support in Switzerland ? Social conflict is often considered as highly pacified in Switzerland. As a result, observers tend to consider that there is no important social divide based on class and socio-economic characteristics in the country. Considered to be a very rich and “post-materialist” country, social conflict in Switzerland should play at the level of cultural preferences rather than economic policy preferences. As explained by <span class="citation" data-cites="piketty_capital_2019">Piketty (2019)</span> and various other social scientists, European left-wing parties used to draw strong support from lower and dominated social classes and this support had economic motives since the working class supported the left in hope that the latter would increase its standard of living, while right-wing parties were draw more support from high income voters. However, <span class="citation" data-cites="rennwald2016">Rennwald and Zimmermann (2016)</span>, <span class="citation" data-cites="rennwald_class_2014">Rennwald (2014)</span>, <span class="citation" data-cites="rennwald_social_2020">Rennwald (2020)</span> showed that party support was more complex. For instance, in the post-war period the support for each Swiss party was more hybrid that bases only on one particular social class. The Swiss left was thereby supported not only by the working class, but also by “socio-cultural professionals” (teachers, researchers, journalists…) while the right gathered managers, self-employed, artisans, shop-keepers and large employers. Thus, as demonstrated by <span class="citation" data-cites="amable_structural_2017">Amable (2017)</span>, <span class="citation" data-cites="amable_illusion_2018">Amable and Palombarini (2018)</span> for France, the left and right blocs were heterogeneous in their social composition, a fact which is often under-estimated.</p>
<p>What is the situation now ? Is the Swiss socialist party still supported by the working class and socio-cultural professionals, and the right by managers, self-employed, artisans and large employers ? We can descriptively explore these hypotheses by taking a social class variable from the dataset (I used here the Oesch class schema, because it is directly available in the post-election dataset), computing the percentage of party support for each party across these classes, and comparing these proportions with the overall proportions: if a social class supports a party with a proportion higher than the overall proportion, one can say that this social class is an important supporter of this party. To do so, the so-called diverging bar charts are a useful visualization.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-divbarcharts" class="quarto-float quarto-figure quarto-figure-center anchored" width="960">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-divbarcharts-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://jeylal.github.io/celalguney/posts/selects2023/selects2023_files/figure-html/fig-divbarcharts-1.png" id="fig-divbarcharts" class="img-fluid figure-img" width="960">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-divbarcharts-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3
</figcaption>
</figure>
</div>
</div>
</div>
<p>Figure&nbsp;3 thus show the percentage difference in party support across social classes compared to the overall mean. One can see that the FDP draws strong above-average support from large employers and managers, the Center from managers, technical professionals, clerks and production workers (even though the positive differences are not that large), the SP above all from socio-cultural professionals, the SVP from production and service workers and from clerks and small-business owners; the Greens from from technical and socio-cultural professionals; and the Liberal Greens from large employers and slightly from managers, technical professionals, small business owners and technical professionals. It is also important to note that service and production workers also tend to not support any party, as shown in the no answer (NA) graph.</p>
<p>If one does not trust the Oesch class schema, one can also look at more simple socio-economic factors such as income deciles. Figure&nbsp;4 shows the support for each swiss party for each income decile.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-decileplot" class="quarto-float quarto-figure quarto-figure-center anchored" width="960">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-decileplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://jeylal.github.io/celalguney/posts/selects2023/selects2023_files/figure-html/fig-decileplot-1.png" id="fig-decileplot" class="img-fluid figure-img" width="960">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-decileplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4
</figcaption>
</figure>
</div>
</div>
</div>
<p>The parties for which the support clearly increases as income increases are the FDP and the Liberal Greens. This means that both these parties are supported by wealthy Swiss citizen. The correlation seems to be negative for the SVP and abstention (NA graph0), whereas the support for the SP and the Greens does not significantly change across income deciles (although it slighlty increases for the Greens). The correlation is also positive for the Center, but support drops at the highest decile.</p>
<p>From Figure&nbsp;3 and Figure&nbsp;4, we can conclude that the SP is now above all supported by socio-cultural professionals and does not draw above average support from production workers.</p>
</section>
<section id="policy-preferences" class="level2">
<h2 class="anchored" data-anchor-id="policy-preferences">Policy preferences</h2>
<p>An advantage of post-election Selects data is the wide variety of questions which capture the preferences of Swiss citizen on a set of cultural economic issues. Figure&nbsp;5 shows the responses to these questions. For simplicity I reduced the number of categories when possible (for instance merging the “rather in favor” and “strongly in favor” responses).</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-likertchart" class="quarto-float quarto-figure quarto-figure-center anchored" width="672">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-likertchart-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://jeylal.github.io/celalguney/posts/selects2023/selects2023_files/figure-html/fig-likertchart-1.png" id="fig-likertchart" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-likertchart-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5
</figcaption>
</figure>
</div>
</div>
</div>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">References</h3>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0">
<div id="ref-amable_structural_2017" class="csl-entry">
Amable, Bruno. 2017. <em>Structural Crisis and Institutional Change in Modern Capitalism: French Capitalism in Transition</em>. Oxford University Press. <a href="https://doi.org/10.1093/acprof:oso/9780198787815.001.0001">https://doi.org/10.1093/acprof:oso/9780198787815.001.0001</a>.
</div>
<div id="ref-amable_illusion_2018" class="csl-entry">
Amable, Bruno, and Stefano Palombarini. 2018. <em>L’illusion Du Bloc Bourgeois: Alliances Sociales Et Avenir Du Modèle Français</em>. Raisons d’Agir. Paris.
</div>
<div id="ref-piketty_capital_2019" class="csl-entry">
Piketty, Thomas. 2019. <em>Capital Et Idéologie</em>. Le Seuil.
</div>
<div id="ref-rennwald_class_2014" class="csl-entry">
Rennwald, Line. 2014. <span>“Class (Non)voting in Switzerland 1971-2011: Ruptures and Continuities in a Changing Political Landscape.”</span> <em>Swiss Political Science Review</em> 20 (4): 550–72. <a href="https://doi.org/10.1111/spsr.12124">https://doi.org/10.1111/spsr.12124</a>.
</div>
<div id="ref-rennwald_social_2020" class="csl-entry">
———. 2020. <em>Social Democratic Parties and the Working Class: New Voting Patterns</em>. 1st ed. Challenges to Democracy in the 21st Century. Springer International Publishing;Palgrave Macmillan. <a href="http://gen.lib.rus.ec/book/index.php?md5=DC2AFED8958B9AE0932FFEFEAB45546C">http://gen.lib.rus.ec/book/index.php?md5=DC2AFED8958B9AE0932FFEFEAB45546C</a>.
</div>
<div id="ref-rennwald2016" class="csl-entry">
Rennwald, Line, and Adrian Zimmermann. 2016. <span>“Le Vote Ouvrier En Suisse, 1971-2011.”</span> <em>Social Change in Switzerland</em>, no. 4. https://doi.org/<a href="http://doi.org/10.22019/SC-2016-00001">http://doi.org/10.22019/SC-2016-00001</a>.
</div>
</div>


</section>
</section>

 ]]></description>
  <category>Social blocs</category>
  <category>Political economy</category>
  <category>Politics</category>
  <category>Political Science</category>
  <guid>https://jeylal.github.io/celalguney/posts/selects2023/selects2023.html</guid>
  <pubDate>Mon, 19 Aug 2024 09:47:01 GMT</pubDate>
  <media:content url="https://jeylal.github.io/celalguney/posts/selects2023/fig-divbarcharts-1.png" medium="image" type="image/png" height="72" width="144"/>
</item>
</channel>
</rss>
